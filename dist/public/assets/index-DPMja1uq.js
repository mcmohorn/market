(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();var Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ut(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gv={exports:{}},Fu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hD;function Fj(){if(hD)return Fu;hD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(n,r,s){var a=null;if(s!==void 0&&(a=""+s),r.key!==void 0&&(a=""+r.key),"key"in r){s={};for(var u in r)u!=="key"&&(s[u]=r[u])}else s=r;return r=s.ref,{$$typeof:e,type:n,key:a,ref:r!==void 0?r:null,props:s}}return Fu.Fragment=t,Fu.jsx=i,Fu.jsxs=i,Fu}var fD;function Oj(){return fD||(fD=1,gv.exports=Fj()),gv.exports}var O=Oj(),mv={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pD;function Lj(){if(pD)return Le;pD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),m=Symbol.iterator;function y(G){return G===null||typeof G!="object"?null:(G=m&&G[m]||G["@@iterator"],typeof G=="function"?G:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function x(G,z,re){this.props=G,this.context=z,this.refs=S,this.updater=re||b}x.prototype.isReactComponent={},x.prototype.setState=function(G,z){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,z,"setState")},x.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function E(){}E.prototype=x.prototype;function R(G,z,re){this.props=G,this.context=z,this.refs=S,this.updater=re||b}var T=R.prototype=new E;T.constructor=R,w(T,x.prototype),T.isPureReactComponent=!0;var A=Array.isArray;function P(){}var F={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function k(G,z,re){var se=re.ref;return{$$typeof:e,type:G,key:z,ref:se!==void 0?se:null,props:re}}function W(G,z){return k(G.type,z,G.props)}function V(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function B(G){var z={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(re){return z[re]})}var K=/\/+/g;function Y(G,z){return typeof G=="object"&&G!==null&&G.key!=null?B(""+G.key):z.toString(36)}function H(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(P,P):(G.status="pending",G.then(function(z){G.status==="pending"&&(G.status="fulfilled",G.value=z)},function(z){G.status==="pending"&&(G.status="rejected",G.reason=z)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function _(G,z,re,se,ge){var ye=typeof G;(ye==="undefined"||ye==="boolean")&&(G=null);var Pe=!1;if(G===null)Pe=!0;else switch(ye){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(G.$$typeof){case e:case t:Pe=!0;break;case p:return Pe=G._init,_(Pe(G._payload),z,re,se,ge)}}if(Pe)return ge=ge(G),Pe=se===""?"."+Y(G,0):se,A(ge)?(re="",Pe!=null&&(re=Pe.replace(K,"$&/")+"/"),_(ge,z,re,"",function(ve){return ve})):ge!=null&&(V(ge)&&(ge=W(ge,re+(ge.key==null||G&&G.key===ge.key?"":(""+ge.key).replace(K,"$&/")+"/")+Pe)),z.push(ge)),1;Pe=0;var _e=se===""?".":se+":";if(A(G))for(var q=0;q<G.length;q++)se=G[q],ye=_e+Y(se,q),Pe+=_(se,z,re,ye,ge);else if(q=y(G),typeof q=="function")for(G=q.call(G),q=0;!(se=G.next()).done;)se=se.value,ye=_e+Y(se,q++),Pe+=_(se,z,re,ye,ge);else if(ye==="object"){if(typeof G.then=="function")return _(H(G),z,re,se,ge);throw z=String(G),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function U(G,z,re){if(G==null)return G;var se=[],ge=0;return _(G,se,"","",function(ye){return z.call(re,ye,ge++)}),se}function Q(G){if(G._status===-1){var z=G._result;z=z(),z.then(function(re){(G._status===0||G._status===-1)&&(G._status=1,G._result=re)},function(re){(G._status===0||G._status===-1)&&(G._status=2,G._result=re)}),G._status===-1&&(G._status=0,G._result=z)}if(G._status===1)return G._result.default;throw G._result}var ae=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},de={map:U,forEach:function(G,z,re){U(G,function(){z.apply(this,arguments)},re)},count:function(G){var z=0;return U(G,function(){z++}),z},toArray:function(G){return U(G,function(z){return z})||[]},only:function(G){if(!V(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return Le.Activity=g,Le.Children=de,Le.Component=x,Le.Fragment=i,Le.Profiler=r,Le.PureComponent=R,Le.StrictMode=n,Le.Suspense=c,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Le.__COMPILER_RUNTIME={__proto__:null,c:function(G){return F.H.useMemoCache(G)}},Le.cache=function(G){return function(){return G.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(G,z,re){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var se=w({},G.props),ge=G.key;if(z!=null)for(ye in z.key!==void 0&&(ge=""+z.key),z)!I.call(z,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&z.ref===void 0||(se[ye]=z[ye]);var ye=arguments.length-2;if(ye===1)se.children=re;else if(1<ye){for(var Pe=Array(ye),_e=0;_e<ye;_e++)Pe[_e]=arguments[_e+2];se.children=Pe}return k(G.type,ge,se)},Le.createContext=function(G){return G={$$typeof:a,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:s,_context:G},G},Le.createElement=function(G,z,re){var se,ge={},ye=null;if(z!=null)for(se in z.key!==void 0&&(ye=""+z.key),z)I.call(z,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ge[se]=z[se]);var Pe=arguments.length-2;if(Pe===1)ge.children=re;else if(1<Pe){for(var _e=Array(Pe),q=0;q<Pe;q++)_e[q]=arguments[q+2];ge.children=_e}if(G&&G.defaultProps)for(se in Pe=G.defaultProps,Pe)ge[se]===void 0&&(ge[se]=Pe[se]);return k(G,ye,ge)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(G){return{$$typeof:u,render:G}},Le.isValidElement=V,Le.lazy=function(G){return{$$typeof:p,_payload:{_status:-1,_result:G},_init:Q}},Le.memo=function(G,z){return{$$typeof:h,type:G,compare:z===void 0?null:z}},Le.startTransition=function(G){var z=F.T,re={};F.T=re;try{var se=G(),ge=F.S;ge!==null&&ge(re,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(P,ae)}catch(ye){ae(ye)}finally{z!==null&&re.types!==null&&(z.types=re.types),F.T=z}},Le.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Le.use=function(G){return F.H.use(G)},Le.useActionState=function(G,z,re){return F.H.useActionState(G,z,re)},Le.useCallback=function(G,z){return F.H.useCallback(G,z)},Le.useContext=function(G){return F.H.useContext(G)},Le.useDebugValue=function(){},Le.useDeferredValue=function(G,z){return F.H.useDeferredValue(G,z)},Le.useEffect=function(G,z){return F.H.useEffect(G,z)},Le.useEffectEvent=function(G){return F.H.useEffectEvent(G)},Le.useId=function(){return F.H.useId()},Le.useImperativeHandle=function(G,z,re){return F.H.useImperativeHandle(G,z,re)},Le.useInsertionEffect=function(G,z){return F.H.useInsertionEffect(G,z)},Le.useLayoutEffect=function(G,z){return F.H.useLayoutEffect(G,z)},Le.useMemo=function(G,z){return F.H.useMemo(G,z)},Le.useOptimistic=function(G,z){return F.H.useOptimistic(G,z)},Le.useReducer=function(G,z,re){return F.H.useReducer(G,z,re)},Le.useRef=function(G){return F.H.useRef(G)},Le.useState=function(G){return F.H.useState(G)},Le.useSyncExternalStore=function(G,z,re){return F.H.useSyncExternalStore(G,z,re)},Le.useTransition=function(){return F.H.useTransition()},Le.version="19.2.4",Le}var gD;function Fx(){return gD||(gD=1,mv.exports=Lj()),mv.exports}var M=Fx();const N=ut(M);var vv={exports:{}},Ou={},yv={exports:{}},Cv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mD;function Ij(){return mD||(mD=1,(function(e){function t(_,U){var Q=_.length;_.push(U);e:for(;0<Q;){var ae=Q-1>>>1,de=_[ae];if(0<r(de,U))_[ae]=U,_[Q]=de,Q=ae;else break e}}function i(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var U=_[0],Q=_.pop();if(Q!==U){_[0]=Q;e:for(var ae=0,de=_.length,G=de>>>1;ae<G;){var z=2*(ae+1)-1,re=_[z],se=z+1,ge=_[se];if(0>r(re,Q))se<de&&0>r(ge,re)?(_[ae]=ge,_[se]=Q,ae=se):(_[ae]=re,_[z]=Q,ae=z);else if(se<de&&0>r(ge,Q))_[ae]=ge,_[se]=Q,ae=se;else break e}}return U}function r(_,U){var Q=_.sortIndex-U.sortIndex;return Q!==0?Q:_.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var c=[],h=[],p=1,g=null,m=3,y=!1,b=!1,w=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function T(_){for(var U=i(h);U!==null;){if(U.callback===null)n(h);else if(U.startTime<=_)n(h),U.sortIndex=U.expirationTime,t(c,U);else break;U=i(h)}}function A(_){if(w=!1,T(_),!b)if(i(c)!==null)b=!0,P||(P=!0,B());else{var U=i(h);U!==null&&H(A,U.startTime-_)}}var P=!1,F=-1,I=5,k=-1;function W(){return S?!0:!(e.unstable_now()-k<I)}function V(){if(S=!1,P){var _=e.unstable_now();k=_;var U=!0;try{e:{b=!1,w&&(w=!1,E(F),F=-1),y=!0;var Q=m;try{t:{for(T(_),g=i(c);g!==null&&!(g.expirationTime>_&&W());){var ae=g.callback;if(typeof ae=="function"){g.callback=null,m=g.priorityLevel;var de=ae(g.expirationTime<=_);if(_=e.unstable_now(),typeof de=="function"){g.callback=de,T(_),U=!0;break t}g===i(c)&&n(c),T(_)}else n(c);g=i(c)}if(g!==null)U=!0;else{var G=i(h);G!==null&&H(A,G.startTime-_),U=!1}}break e}finally{g=null,m=Q,y=!1}U=void 0}}finally{U?B():P=!1}}}var B;if(typeof R=="function")B=function(){R(V)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Y=K.port2;K.port1.onmessage=V,B=function(){Y.postMessage(null)}}else B=function(){x(V,0)};function H(_,U){F=x(function(){_(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(_){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var Q=m;m=U;try{return _()}finally{m=Q}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(_,U){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var Q=m;m=_;try{return U()}finally{m=Q}},e.unstable_scheduleCallback=function(_,U,Q){var ae=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ae+Q:ae):Q=ae,_){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=Q+de,_={id:p++,callback:U,priorityLevel:_,startTime:Q,expirationTime:de,sortIndex:-1},Q>ae?(_.sortIndex=Q,t(h,_),i(c)===null&&_===i(h)&&(w?(E(F),F=-1):w=!0,H(A,Q-ae))):(_.sortIndex=de,t(c,_),b||y||(b=!0,P||(P=!0,B()))),_},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(_){var U=m;return function(){var Q=m;m=U;try{return _.apply(this,arguments)}finally{m=Q}}}})(Cv)),Cv}var vD;function Nj(){return vD||(vD=1,yv.exports=Ij()),yv.exports}var Sv={exports:{}},li={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yD;function _j(){if(yD)return li;yD=1;var e=Fx();function t(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var n={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(c,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:c,containerInfo:h,implementation:p}}var a=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,h){if(c==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return li.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,li.createPortal=function(c,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(c,h,null,p)},li.flushSync=function(c){var h=a.T,p=n.p;try{if(a.T=null,n.p=2,c)return c()}finally{a.T=h,n.p=p,n.d.f()}},li.preconnect=function(c,h){typeof c=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(c,h))},li.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},li.preinit=function(c,h){if(typeof c=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),m=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?n.d.S(c,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:m,fetchPriority:y}):p==="script"&&n.d.X(c,{crossOrigin:g,integrity:m,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},li.preinitModule=function(c,h){if(typeof c=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);n.d.M(c,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(c)},li.preload=function(c,h){if(typeof c=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);n.d.L(c,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},li.preloadModule=function(c,h){if(typeof c=="string")if(h){var p=u(h.as,h.crossOrigin);n.d.m(c,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(c)},li.requestFormReset=function(c){n.d.r(c)},li.unstable_batchedUpdates=function(c,h){return c(h)},li.useFormState=function(c,h,p){return a.H.useFormState(c,h,p)},li.useFormStatus=function(){return a.H.useHostTransitionStatus()},li.version="19.2.4",li}var CD;function WI(){if(CD)return Sv.exports;CD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Sv.exports=_j(),Sv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SD;function kj(){if(SD)return Ou;SD=1;var e=Nj(),t=Fx(),i=WI();function n(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function a(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function c(o){if(s(o)!==o)throw Error(n(188))}function h(o){var l=o.alternate;if(!l){if(l=s(o),l===null)throw Error(n(188));return l!==o?null:o}for(var d=o,f=l;;){var v=d.return;if(v===null)break;var C=v.alternate;if(C===null){if(f=v.return,f!==null){d=f;continue}break}if(v.child===C.child){for(C=v.child;C;){if(C===d)return c(v),o;if(C===f)return c(v),l;C=C.sibling}throw Error(n(188))}if(d.return!==f.return)d=v,f=C;else{for(var D=!1,L=v.child;L;){if(L===d){D=!0,d=v,f=C;break}if(L===f){D=!0,f=v,d=C;break}L=L.sibling}if(!D){for(L=C.child;L;){if(L===d){D=!0,d=C,f=v;break}if(L===f){D=!0,f=C,d=v;break}L=L.sibling}if(!D)throw Error(n(189))}}if(d.alternate!==f)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:l}function p(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=p(o),l!==null)return l;o=o.sibling}return null}var g=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),R=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(o){return o===null||typeof o!="object"?null:(o=V&&o[V]||o["@@iterator"],typeof o=="function"?o:null)}var K=Symbol.for("react.client.reference");function Y(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===K?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case x:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList";case k:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case b:return"Portal";case R:return o.displayName||"Context";case E:return(o._context.displayName||"Context")+".Consumer";case T:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case F:return l=o.displayName||null,l!==null?l:Y(o.type)||"Memo";case I:l=o._payload,o=o._init;try{return Y(o(l))}catch{}}return null}var H=Array.isArray,_=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ae=[],de=-1;function G(o){return{current:o}}function z(o){0>de||(o.current=ae[de],ae[de]=null,de--)}function re(o,l){de++,ae[de]=o.current,o.current=l}var se=G(null),ge=G(null),ye=G(null),Pe=G(null);function _e(o,l){switch(re(ye,l),re(ge,o),re(se,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?NP(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=NP(l),o=_P(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}z(se),re(se,o)}function q(){z(se),z(ge),z(ye)}function ve(o){o.memoizedState!==null&&re(Pe,o);var l=se.current,d=_P(l,o.type);l!==d&&(re(ge,o),re(se,d))}function Ce(o){ge.current===o&&(z(se),z(ge)),Pe.current===o&&(z(Pe),Pu._currentValue=Q)}var oe,Me;function Re(o){if(oe===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);oe=l&&l[1]||"",Me=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oe+o+Me}var Fe=!1;function qe(o,l){if(!o||Fe)return"";Fe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(l){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ne){var te=ne}Reflect.construct(o,[],fe)}else{try{fe.call()}catch(ne){te=ne}o.call(fe.prototype)}}else{try{throw Error()}catch(ne){te=ne}(fe=o())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=f.DetermineComponentFrameRoot(),D=C[0],L=C[1];if(D&&L){var j=D.split(`
`),J=L.split(`
`);for(v=f=0;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;for(;v<J.length&&!J[v].includes("DetermineComponentFrameRoot");)v++;if(f===j.length||v===J.length)for(f=j.length-1,v=J.length-1;1<=f&&0<=v&&j[f]!==J[v];)v--;for(;1<=f&&0<=v;f--,v--)if(j[f]!==J[v]){if(f!==1||v!==1)do if(f--,v--,0>v||j[f]!==J[v]){var le=`
`+j[f].replace(" at new "," at ");return o.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",o.displayName)),le}while(1<=f&&0<=v);break}}}finally{Fe=!1,Error.prepareStackTrace=d}return(d=o?o.displayName||o.name:"")?Re(d):""}function Ot(o,l){switch(o.tag){case 26:case 27:case 5:return Re(o.type);case 16:return Re("Lazy");case 13:return o.child!==l&&l!==null?Re("Suspense Fallback"):Re("Suspense");case 19:return Re("SuspenseList");case 0:case 15:return qe(o.type,!1);case 11:return qe(o.type.render,!1);case 1:return qe(o.type,!0);case 31:return Re("Activity");default:return""}}function Li(o){try{var l="",d=null;do l+=Ot(o,d),d=o,o=o.return;while(o);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var si=Object.prototype.hasOwnProperty,Bt=e.unstable_scheduleCallback,oi=e.unstable_cancelCallback,Ii=e.unstable_shouldYield,bn=e.unstable_requestPaint,$t=e.unstable_now,_s=e.unstable_getCurrentPriorityLevel,yt=e.unstable_ImmediatePriority,ai=e.unstable_UserBlockingPriority,Wo=e.unstable_NormalPriority,hH=e.unstable_LowPriority,gR=e.unstable_IdlePriority,fH=e.log,pH=e.unstable_setDisableYieldValue,Bl=null,Ni=null;function Vr(o){if(typeof fH=="function"&&pH(o),Ni&&typeof Ni.setStrictMode=="function")try{Ni.setStrictMode(Bl,o)}catch{}}var _i=Math.clz32?Math.clz32:vH,gH=Math.log,mH=Math.LN2;function vH(o){return o>>>=0,o===0?32:31-(gH(o)/mH|0)|0}var cd=256,dd=262144,hd=4194304;function ks(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function fd(o,l,d){var f=o.pendingLanes;if(f===0)return 0;var v=0,C=o.suspendedLanes,D=o.pingedLanes;o=o.warmLanes;var L=f&134217727;return L!==0?(f=L&~C,f!==0?v=ks(f):(D&=L,D!==0?v=ks(D):d||(d=L&~o,d!==0&&(v=ks(d))))):(L=f&~C,L!==0?v=ks(L):D!==0?v=ks(D):d||(d=f&~o,d!==0&&(v=ks(d)))),v===0?0:l!==0&&l!==v&&(l&C)===0&&(C=v&-v,d=l&-l,C>=d||C===32&&(d&4194048)!==0)?l:v}function Hl(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function yH(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mR(){var o=hd;return hd<<=1,(hd&62914560)===0&&(hd=4194304),o}function ng(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function Vl(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function CH(o,l,d,f,v,C){var D=o.pendingLanes;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=d,o.entangledLanes&=d,o.errorRecoveryDisabledLanes&=d,o.shellSuspendCounter=0;var L=o.entanglements,j=o.expirationTimes,J=o.hiddenUpdates;for(d=D&~d;0<d;){var le=31-_i(d),fe=1<<le;L[le]=0,j[le]=-1;var te=J[le];if(te!==null)for(J[le]=null,le=0;le<te.length;le++){var ne=te[le];ne!==null&&(ne.lane&=-536870913)}d&=~fe}f!==0&&vR(o,f,0),C!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=C&~(D&~l))}function vR(o,l,d){o.pendingLanes|=l,o.suspendedLanes&=~l;var f=31-_i(l);o.entangledLanes|=l,o.entanglements[f]=o.entanglements[f]|1073741824|d&261930}function yR(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var f=31-_i(d),v=1<<f;v&l|o[f]&l&&(o[f]|=l),d&=~v}}function CR(o,l){var d=l&-l;return d=(d&42)!==0?1:rg(d),(d&(o.suspendedLanes|l))!==0?0:d}function rg(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function sg(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function SR(){var o=U.p;return o!==0?o:(o=window.event,o===void 0?32:sD(o.type))}function bR(o,l){var d=U.p;try{return U.p=o,l()}finally{U.p=d}}var jr=Math.random().toString(36).slice(2),Qt="__reactFiber$"+jr,bi="__reactProps$"+jr,Uo="__reactContainer$"+jr,og="__reactEvents$"+jr,SH="__reactListeners$"+jr,bH="__reactHandles$"+jr,wR="__reactResources$"+jr,jl="__reactMarker$"+jr;function ag(o){delete o[Qt],delete o[bi],delete o[og],delete o[SH],delete o[bH]}function $o(o){var l=o[Qt];if(l)return l;for(var d=o.parentNode;d;){if(l=d[Uo]||d[Qt]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=zP(o);o!==null;){if(d=o[Qt])return d;o=zP(o)}return l}o=d,d=o.parentNode}return null}function qo(o){if(o=o[Qt]||o[Uo]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function zl(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(n(33))}function Ko(o){var l=o[wR];return l||(l=o[wR]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function qt(o){o[jl]=!0}var xR=new Set,RR={};function Gs(o,l){Yo(o,l),Yo(o+"Capture",l)}function Yo(o,l){for(RR[o]=l,o=0;o<l.length;o++)xR.add(l[o])}var wH=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ER={},AR={};function xH(o){return si.call(AR,o)?!0:si.call(ER,o)?!1:wH.test(o)?AR[o]=!0:(ER[o]=!0,!1)}function pd(o,l,d){if(xH(l))if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var f=l.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+d)}}function gd(o,l,d){if(d===null)o.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+d)}}function rr(o,l,d,f){if(f===null)o.removeAttribute(d);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(d);return}o.setAttributeNS(l,d,""+f)}}function Qi(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function PR(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function RH(o,l,d){var f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,C=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return v.call(this)},set:function(D){d=""+D,C.call(this,D)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return d},setValue:function(D){d=""+D},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function lg(o){if(!o._valueTracker){var l=PR(o)?"checked":"value";o._valueTracker=RH(o,l,""+o[l])}}function DR(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),f="";return o&&(f=PR(o)?o.checked?"true":"false":o.value),o=f,o!==d?(l.setValue(o),!0):!1}function md(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var EH=/[\n"\\]/g;function Zi(o){return o.replace(EH,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function ug(o,l,d,f,v,C,D,L){o.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?o.type=D:o.removeAttribute("type"),l!=null?D==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+Qi(l)):o.value!==""+Qi(l)&&(o.value=""+Qi(l)):D!=="submit"&&D!=="reset"||o.removeAttribute("value"),l!=null?cg(o,D,Qi(l)):d!=null?cg(o,D,Qi(d)):f!=null&&o.removeAttribute("value"),v==null&&C!=null&&(o.defaultChecked=!!C),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?o.name=""+Qi(L):o.removeAttribute("name")}function TR(o,l,d,f,v,C,D,L){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.type=C),l!=null||d!=null){if(!(C!=="submit"&&C!=="reset"||l!=null)){lg(o);return}d=d!=null?""+Qi(d):"",l=l!=null?""+Qi(l):d,L||l===o.value||(o.value=l),o.defaultValue=l}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,o.checked=L?o.checked:!!f,o.defaultChecked=!!f,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(o.name=D),lg(o)}function cg(o,l,d){l==="number"&&md(o.ownerDocument)===o||o.defaultValue===""+d||(o.defaultValue=""+d)}function Xo(o,l,d,f){if(o=o.options,l){l={};for(var v=0;v<d.length;v++)l["$"+d[v]]=!0;for(d=0;d<o.length;d++)v=l.hasOwnProperty("$"+o[d].value),o[d].selected!==v&&(o[d].selected=v),v&&f&&(o[d].defaultSelected=!0)}else{for(d=""+Qi(d),l=null,v=0;v<o.length;v++){if(o[v].value===d){o[v].selected=!0,f&&(o[v].defaultSelected=!0);return}l!==null||o[v].disabled||(l=o[v])}l!==null&&(l.selected=!0)}}function MR(o,l,d){if(l!=null&&(l=""+Qi(l),l!==o.value&&(o.value=l),d==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=d!=null?""+Qi(d):""}function FR(o,l,d,f){if(l==null){if(f!=null){if(d!=null)throw Error(n(92));if(H(f)){if(1<f.length)throw Error(n(93));f=f[0]}d=f}d==null&&(d=""),l=d}d=Qi(l),o.defaultValue=d,f=o.textContent,f===d&&f!==""&&f!==null&&(o.value=f),lg(o)}function Qo(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var AH=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function OR(o,l,d){var f=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?f?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":f?o.setProperty(l,d):typeof d!="number"||d===0||AH.has(l)?l==="float"?o.cssFloat=d:o[l]=(""+d).trim():o[l]=d+"px"}function LR(o,l,d){if(l!=null&&typeof l!="object")throw Error(n(62));if(o=o.style,d!=null){for(var f in d)!d.hasOwnProperty(f)||l!=null&&l.hasOwnProperty(f)||(f.indexOf("--")===0?o.setProperty(f,""):f==="float"?o.cssFloat="":o[f]="");for(var v in l)f=l[v],l.hasOwnProperty(v)&&d[v]!==f&&OR(o,v,f)}else for(var C in l)l.hasOwnProperty(C)&&OR(o,C,l[C])}function dg(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PH=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),DH=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vd(o){return DH.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function sr(){}var hg=null;function fg(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Zo=null,Jo=null;function IR(o){var l=qo(o);if(l&&(o=l.stateNode)){var d=o[bi]||null;e:switch(o=l.stateNode,l.type){case"input":if(ug(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Zi(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var f=d[l];if(f!==o&&f.form===o.form){var v=f[bi]||null;if(!v)throw Error(n(90));ug(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<d.length;l++)f=d[l],f.form===o.form&&DR(f)}break e;case"textarea":MR(o,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Xo(o,!!d.multiple,l,!1)}}}var pg=!1;function NR(o,l,d){if(pg)return o(l,d);pg=!0;try{var f=o(l);return f}finally{if(pg=!1,(Zo!==null||Jo!==null)&&(rh(),Zo&&(l=Zo,o=Jo,Jo=Zo=null,IR(l),o)))for(l=0;l<o.length;l++)IR(o[l])}}function Wl(o,l){var d=o.stateNode;if(d===null)return null;var f=d[bi]||null;if(f===null)return null;d=f[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(o=o.type,f=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!f;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gg=!1;if(or)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){gg=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{gg=!1}var zr=null,mg=null,yd=null;function _R(){if(yd)return yd;var o,l=mg,d=l.length,f,v="value"in zr?zr.value:zr.textContent,C=v.length;for(o=0;o<d&&l[o]===v[o];o++);var D=d-o;for(f=1;f<=D&&l[d-f]===v[C-f];f++);return yd=v.slice(o,1<f?1-f:void 0)}function Cd(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Sd(){return!0}function kR(){return!1}function wi(o){function l(d,f,v,C,D){this._reactName=d,this._targetInst=v,this.type=f,this.nativeEvent=C,this.target=D,this.currentTarget=null;for(var L in o)o.hasOwnProperty(L)&&(d=o[L],this[L]=d?d(C):C[L]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Sd:kR,this.isPropagationStopped=kR,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Sd)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Sd)},persist:function(){},isPersistent:Sd}),l}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bd=wi(Bs),$l=g({},Bs,{view:0,detail:0}),TH=wi($l),vg,yg,ql,wd=g({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sg,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ql&&(ql&&o.type==="mousemove"?(vg=o.screenX-ql.screenX,yg=o.screenY-ql.screenY):yg=vg=0,ql=o),vg)},movementY:function(o){return"movementY"in o?o.movementY:yg}}),GR=wi(wd),MH=g({},wd,{dataTransfer:0}),FH=wi(MH),OH=g({},$l,{relatedTarget:0}),Cg=wi(OH),LH=g({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),IH=wi(LH),NH=g({},Bs,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),_H=wi(NH),kH=g({},Bs,{data:0}),BR=wi(kH),GH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VH(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=HH[o])?!!l[o]:!1}function Sg(){return VH}var jH=g({},$l,{key:function(o){if(o.key){var l=GH[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Cd(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?BH[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sg,charCode:function(o){return o.type==="keypress"?Cd(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Cd(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),zH=wi(jH),WH=g({},wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),HR=wi(WH),UH=g({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sg}),$H=wi(UH),qH=g({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),KH=wi(qH),YH=g({},wd,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),XH=wi(YH),QH=g({},Bs,{newState:0,oldState:0}),ZH=wi(QH),JH=[9,13,27,32],bg=or&&"CompositionEvent"in window,Kl=null;or&&"documentMode"in document&&(Kl=document.documentMode);var eV=or&&"TextEvent"in window&&!Kl,VR=or&&(!bg||Kl&&8<Kl&&11>=Kl),jR=" ",zR=!1;function WR(o,l){switch(o){case"keyup":return JH.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UR(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ea=!1;function tV(o,l){switch(o){case"compositionend":return UR(l);case"keypress":return l.which!==32?null:(zR=!0,jR);case"textInput":return o=l.data,o===jR&&zR?null:o;default:return null}}function iV(o,l){if(ea)return o==="compositionend"||!bg&&WR(o,l)?(o=_R(),yd=mg=zr=null,ea=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return VR&&l.locale!=="ko"?null:l.data;default:return null}}var nV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $R(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!nV[o.type]:l==="textarea"}function qR(o,l,d,f){Zo?Jo?Jo.push(f):Jo=[f]:Zo=f,l=dh(l,"onChange"),0<l.length&&(d=new bd("onChange","change",null,d,f),o.push({event:d,listeners:l}))}var Yl=null,Xl=null;function rV(o){TP(o,0)}function xd(o){var l=zl(o);if(DR(l))return o}function KR(o,l){if(o==="change")return l}var YR=!1;if(or){var wg;if(or){var xg="oninput"in document;if(!xg){var XR=document.createElement("div");XR.setAttribute("oninput","return;"),xg=typeof XR.oninput=="function"}wg=xg}else wg=!1;YR=wg&&(!document.documentMode||9<document.documentMode)}function QR(){Yl&&(Yl.detachEvent("onpropertychange",ZR),Xl=Yl=null)}function ZR(o){if(o.propertyName==="value"&&xd(Xl)){var l=[];qR(l,Xl,o,fg(o)),NR(rV,l)}}function sV(o,l,d){o==="focusin"?(QR(),Yl=l,Xl=d,Yl.attachEvent("onpropertychange",ZR)):o==="focusout"&&QR()}function oV(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return xd(Xl)}function aV(o,l){if(o==="click")return xd(l)}function lV(o,l){if(o==="input"||o==="change")return xd(l)}function uV(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var ki=typeof Object.is=="function"?Object.is:uV;function Ql(o,l){if(ki(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),f=Object.keys(l);if(d.length!==f.length)return!1;for(f=0;f<d.length;f++){var v=d[f];if(!si.call(l,v)||!ki(o[v],l[v]))return!1}return!0}function JR(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function eE(o,l){var d=JR(o);o=0;for(var f;d;){if(d.nodeType===3){if(f=o+d.textContent.length,o<=l&&f>=l)return{node:d,offset:l-o};o=f}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=JR(d)}}function tE(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?tE(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function iE(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=md(o.document);l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=md(o.document)}return l}function Rg(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var cV=or&&"documentMode"in document&&11>=document.documentMode,ta=null,Eg=null,Zl=null,Ag=!1;function nE(o,l,d){var f=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ag||ta==null||ta!==md(f)||(f=ta,"selectionStart"in f&&Rg(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Zl&&Ql(Zl,f)||(Zl=f,f=dh(Eg,"onSelect"),0<f.length&&(l=new bd("onSelect","select",null,l,d),o.push({event:l,listeners:f}),l.target=ta)))}function Hs(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var ia={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},Pg={},rE={};or&&(rE=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function Vs(o){if(Pg[o])return Pg[o];if(!ia[o])return o;var l=ia[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in rE)return Pg[o]=l[d];return o}var sE=Vs("animationend"),oE=Vs("animationiteration"),aE=Vs("animationstart"),dV=Vs("transitionrun"),hV=Vs("transitionstart"),fV=Vs("transitioncancel"),lE=Vs("transitionend"),uE=new Map,Dg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dg.push("scrollEnd");function wn(o,l){uE.set(o,l),Gs(l,[o])}var Rd=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Ji=[],na=0,Tg=0;function Ed(){for(var o=na,l=Tg=na=0;l<o;){var d=Ji[l];Ji[l++]=null;var f=Ji[l];Ji[l++]=null;var v=Ji[l];Ji[l++]=null;var C=Ji[l];if(Ji[l++]=null,f!==null&&v!==null){var D=f.pending;D===null?v.next=v:(v.next=D.next,D.next=v),f.pending=v}C!==0&&cE(d,v,C)}}function Ad(o,l,d,f){Ji[na++]=o,Ji[na++]=l,Ji[na++]=d,Ji[na++]=f,Tg|=f,o.lanes|=f,o=o.alternate,o!==null&&(o.lanes|=f)}function Mg(o,l,d,f){return Ad(o,l,d,f),Pd(o)}function js(o,l){return Ad(o,null,null,l),Pd(o)}function cE(o,l,d){o.lanes|=d;var f=o.alternate;f!==null&&(f.lanes|=d);for(var v=!1,C=o.return;C!==null;)C.childLanes|=d,f=C.alternate,f!==null&&(f.childLanes|=d),C.tag===22&&(o=C.stateNode,o===null||o._visibility&1||(v=!0)),o=C,C=C.return;return o.tag===3?(C=o.stateNode,v&&l!==null&&(v=31-_i(d),o=C.hiddenUpdates,f=o[v],f===null?o[v]=[l]:f.push(l),l.lane=d|536870912),C):null}function Pd(o){if(50<Su)throw Su=0,Bm=null,Error(n(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var ra={};function pV(o,l,d,f){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(o,l,d,f){return new pV(o,l,d,f)}function Fg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ar(o,l){var d=o.alternate;return d===null?(d=Gi(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&65011712,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d.refCleanup=o.refCleanup,d}function dE(o,l){o.flags&=65011714;var d=o.alternate;return d===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=d.childLanes,o.lanes=d.lanes,o.child=d.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=d.memoizedProps,o.memoizedState=d.memoizedState,o.updateQueue=d.updateQueue,o.type=d.type,l=d.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function Dd(o,l,d,f,v,C){var D=0;if(f=o,typeof o=="function")Fg(o)&&(D=1);else if(typeof o=="string")D=Cj(o,d,se.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case k:return o=Gi(31,d,l,v),o.elementType=k,o.lanes=C,o;case w:return zs(d.children,v,C,l);case S:D=8,v|=24;break;case x:return o=Gi(12,d,l,v|2),o.elementType=x,o.lanes=C,o;case A:return o=Gi(13,d,l,v),o.elementType=A,o.lanes=C,o;case P:return o=Gi(19,d,l,v),o.elementType=P,o.lanes=C,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case R:D=10;break e;case E:D=9;break e;case T:D=11;break e;case F:D=14;break e;case I:D=16,f=null;break e}D=29,d=Error(n(130,o===null?"null":typeof o,"")),f=null}return l=Gi(D,d,l,v),l.elementType=o,l.type=f,l.lanes=C,l}function zs(o,l,d,f){return o=Gi(7,o,f,l),o.lanes=d,o}function Og(o,l,d){return o=Gi(6,o,null,l),o.lanes=d,o}function hE(o){var l=Gi(18,null,null,0);return l.stateNode=o,l}function Lg(o,l,d){return l=Gi(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var fE=new WeakMap;function en(o,l){if(typeof o=="object"&&o!==null){var d=fE.get(o);return d!==void 0?d:(l={value:o,source:l,stack:Li(l)},fE.set(o,l),l)}return{value:o,source:l,stack:Li(l)}}var sa=[],oa=0,Td=null,Jl=0,tn=[],nn=0,Wr=null,Gn=1,Bn="";function lr(o,l){sa[oa++]=Jl,sa[oa++]=Td,Td=o,Jl=l}function pE(o,l,d){tn[nn++]=Gn,tn[nn++]=Bn,tn[nn++]=Wr,Wr=o;var f=Gn;o=Bn;var v=32-_i(f)-1;f&=~(1<<v),d+=1;var C=32-_i(l)+v;if(30<C){var D=v-v%5;C=(f&(1<<D)-1).toString(32),f>>=D,v-=D,Gn=1<<32-_i(l)+v|d<<v|f,Bn=C+o}else Gn=1<<C|d<<v|f,Bn=o}function Ig(o){o.return!==null&&(lr(o,1),pE(o,1,0))}function Ng(o){for(;o===Td;)Td=sa[--oa],sa[oa]=null,Jl=sa[--oa],sa[oa]=null;for(;o===Wr;)Wr=tn[--nn],tn[nn]=null,Bn=tn[--nn],tn[nn]=null,Gn=tn[--nn],tn[nn]=null}function gE(o,l){tn[nn++]=Gn,tn[nn++]=Bn,tn[nn++]=Wr,Gn=l.id,Bn=l.overflow,Wr=o}var Zt=null,pt=null,$e=!1,Ur=null,rn=!1,_g=Error(n(519));function $r(o){var l=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw eu(en(l,o)),_g}function mE(o){var l=o.stateNode,d=o.type,f=o.memoizedProps;switch(l[Qt]=o,l[bi]=f,d){case"dialog":He("cancel",l),He("close",l);break;case"iframe":case"object":case"embed":He("load",l);break;case"video":case"audio":for(d=0;d<wu.length;d++)He(wu[d],l);break;case"source":He("error",l);break;case"img":case"image":case"link":He("error",l),He("load",l);break;case"details":He("toggle",l);break;case"input":He("invalid",l),TR(l,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":He("invalid",l);break;case"textarea":He("invalid",l),FR(l,f.value,f.defaultValue,f.children)}d=f.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||f.suppressHydrationWarning===!0||LP(l.textContent,d)?(f.popover!=null&&(He("beforetoggle",l),He("toggle",l)),f.onScroll!=null&&He("scroll",l),f.onScrollEnd!=null&&He("scrollend",l),f.onClick!=null&&(l.onclick=sr),l=!0):l=!1,l||$r(o,!0)}function vE(o){for(Zt=o.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:rn=!1;return;case 27:case 3:rn=!0;return;default:Zt=Zt.return}}function aa(o){if(o!==Zt)return!1;if(!$e)return vE(o),$e=!0,!1;var l=o.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=o.type,d=!(d!=="form"&&d!=="button")||ev(o.type,o.memoizedProps)),d=!d),d&&pt&&$r(o),vE(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));pt=jP(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));pt=jP(o)}else l===27?(l=pt,os(o.type)?(o=sv,sv=null,pt=o):pt=l):pt=Zt?on(o.stateNode.nextSibling):null;return!0}function Ws(){pt=Zt=null,$e=!1}function kg(){var o=Ur;return o!==null&&(Ai===null?Ai=o:Ai.push.apply(Ai,o),Ur=null),o}function eu(o){Ur===null?Ur=[o]:Ur.push(o)}var Gg=G(null),Us=null,ur=null;function qr(o,l,d){re(Gg,l._currentValue),l._currentValue=d}function cr(o){o._currentValue=Gg.current,z(Gg)}function Bg(o,l,d){for(;o!==null;){var f=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,f!==null&&(f.childLanes|=l)):f!==null&&(f.childLanes&l)!==l&&(f.childLanes|=l),o===d)break;o=o.return}}function Hg(o,l,d,f){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var C=v.dependencies;if(C!==null){var D=v.child;C=C.firstContext;e:for(;C!==null;){var L=C;C=v;for(var j=0;j<l.length;j++)if(L.context===l[j]){C.lanes|=d,L=C.alternate,L!==null&&(L.lanes|=d),Bg(C.return,d,o),f||(D=null);break e}C=L.next}}else if(v.tag===18){if(D=v.return,D===null)throw Error(n(341));D.lanes|=d,C=D.alternate,C!==null&&(C.lanes|=d),Bg(D,d,o),D=null}else D=v.child;if(D!==null)D.return=v;else for(D=v;D!==null;){if(D===o){D=null;break}if(v=D.sibling,v!==null){v.return=D.return,D=v;break}D=D.return}v=D}}function la(o,l,d,f){o=null;for(var v=l,C=!1;v!==null;){if(!C){if((v.flags&524288)!==0)C=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var D=v.alternate;if(D===null)throw Error(n(387));if(D=D.memoizedProps,D!==null){var L=v.type;ki(v.pendingProps.value,D.value)||(o!==null?o.push(L):o=[L])}}else if(v===Pe.current){if(D=v.alternate,D===null)throw Error(n(387));D.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(Pu):o=[Pu])}v=v.return}o!==null&&Hg(l,o,d,f),l.flags|=262144}function Md(o){for(o=o.firstContext;o!==null;){if(!ki(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function $s(o){Us=o,ur=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Jt(o){return yE(Us,o)}function Fd(o,l){return Us===null&&$s(o),yE(o,l)}function yE(o,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},ur===null){if(o===null)throw Error(n(308));ur=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else ur=ur.next=l;return d}var gV=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(d,f){o.push(f)}};this.abort=function(){l.aborted=!0,o.forEach(function(d){return d()})}},mV=e.unstable_scheduleCallback,vV=e.unstable_NormalPriority,Lt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vg(){return{controller:new gV,data:new Map,refCount:0}}function tu(o){o.refCount--,o.refCount===0&&mV(vV,function(){o.controller.abort()})}var iu=null,jg=0,ua=0,ca=null;function yV(o,l){if(iu===null){var d=iu=[];jg=0,ua=Um(),ca={status:"pending",value:void 0,then:function(f){d.push(f)}}}return jg++,l.then(CE,CE),l}function CE(){if(--jg===0&&iu!==null){ca!==null&&(ca.status="fulfilled");var o=iu;iu=null,ua=0,ca=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function CV(o,l){var d=[],f={status:"pending",value:null,reason:null,then:function(v){d.push(v)}};return o.then(function(){f.status="fulfilled",f.value=l;for(var v=0;v<d.length;v++)(0,d[v])(l)},function(v){for(f.status="rejected",f.reason=v,v=0;v<d.length;v++)(0,d[v])(void 0)}),f}var SE=_.S;_.S=function(o,l){nP=$t(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&yV(o,l),SE!==null&&SE(o,l)};var qs=G(null);function zg(){var o=qs.current;return o!==null?o:ct.pooledCache}function Od(o,l){l===null?re(qs,qs.current):re(qs,l.pool)}function bE(){var o=zg();return o===null?null:{parent:Lt._currentValue,pool:o}}var da=Error(n(460)),Wg=Error(n(474)),Ld=Error(n(542)),Id={then:function(){}};function wE(o){return o=o.status,o==="fulfilled"||o==="rejected"}function xE(o,l,d){switch(d=o[d],d===void 0?o.push(l):d!==l&&(l.then(sr,sr),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,EE(o),o;default:if(typeof l.status=="string")l.then(sr,sr);else{if(o=ct,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=l,o.status="pending",o.then(function(f){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=f}},function(f){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=f}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,EE(o),o}throw Ys=l,da}}function Ks(o){try{var l=o._init;return l(o._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Ys=d,da):d}}var Ys=null;function RE(){if(Ys===null)throw Error(n(459));var o=Ys;return Ys=null,o}function EE(o){if(o===da||o===Ld)throw Error(n(483))}var ha=null,nu=0;function Nd(o){var l=nu;return nu+=1,ha===null&&(ha=[]),xE(ha,o,l)}function ru(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function _d(o,l){throw l.$$typeof===m?Error(n(525)):(o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function AE(o){function l(X,$){if(o){var Z=X.deletions;Z===null?(X.deletions=[$],X.flags|=16):Z.push($)}}function d(X,$){if(!o)return null;for(;$!==null;)l(X,$),$=$.sibling;return null}function f(X){for(var $=new Map;X!==null;)X.key!==null?$.set(X.key,X):$.set(X.index,X),X=X.sibling;return $}function v(X,$){return X=ar(X,$),X.index=0,X.sibling=null,X}function C(X,$,Z){return X.index=Z,o?(Z=X.alternate,Z!==null?(Z=Z.index,Z<$?(X.flags|=67108866,$):Z):(X.flags|=67108866,$)):(X.flags|=1048576,$)}function D(X){return o&&X.alternate===null&&(X.flags|=67108866),X}function L(X,$,Z,he){return $===null||$.tag!==6?($=Og(Z,X.mode,he),$.return=X,$):($=v($,Z),$.return=X,$)}function j(X,$,Z,he){var Ee=Z.type;return Ee===w?le(X,$,Z.props.children,he,Z.key):$!==null&&($.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===I&&Ks(Ee)===$.type)?($=v($,Z.props),ru($,Z),$.return=X,$):($=Dd(Z.type,Z.key,Z.props,null,X.mode,he),ru($,Z),$.return=X,$)}function J(X,$,Z,he){return $===null||$.tag!==4||$.stateNode.containerInfo!==Z.containerInfo||$.stateNode.implementation!==Z.implementation?($=Lg(Z,X.mode,he),$.return=X,$):($=v($,Z.children||[]),$.return=X,$)}function le(X,$,Z,he,Ee){return $===null||$.tag!==7?($=zs(Z,X.mode,he,Ee),$.return=X,$):($=v($,Z),$.return=X,$)}function fe(X,$,Z){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Og(""+$,X.mode,Z),$.return=X,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case y:return Z=Dd($.type,$.key,$.props,null,X.mode,Z),ru(Z,$),Z.return=X,Z;case b:return $=Lg($,X.mode,Z),$.return=X,$;case I:return $=Ks($),fe(X,$,Z)}if(H($)||B($))return $=zs($,X.mode,Z,null),$.return=X,$;if(typeof $.then=="function")return fe(X,Nd($),Z);if($.$$typeof===R)return fe(X,Fd(X,$),Z);_d(X,$)}return null}function te(X,$,Z,he){var Ee=$!==null?$.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ee!==null?null:L(X,$,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:return Z.key===Ee?j(X,$,Z,he):null;case b:return Z.key===Ee?J(X,$,Z,he):null;case I:return Z=Ks(Z),te(X,$,Z,he)}if(H(Z)||B(Z))return Ee!==null?null:le(X,$,Z,he,null);if(typeof Z.then=="function")return te(X,$,Nd(Z),he);if(Z.$$typeof===R)return te(X,$,Fd(X,Z),he);_d(X,Z)}return null}function ne(X,$,Z,he,Ee){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return X=X.get(Z)||null,L($,X,""+he,Ee);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case y:return X=X.get(he.key===null?Z:he.key)||null,j($,X,he,Ee);case b:return X=X.get(he.key===null?Z:he.key)||null,J($,X,he,Ee);case I:return he=Ks(he),ne(X,$,Z,he,Ee)}if(H(he)||B(he))return X=X.get(Z)||null,le($,X,he,Ee,null);if(typeof he.then=="function")return ne(X,$,Z,Nd(he),Ee);if(he.$$typeof===R)return ne(X,$,Z,Fd($,he),Ee);_d($,he)}return null}function be(X,$,Z,he){for(var Ee=null,Ke=null,we=$,ke=$=0,We=null;we!==null&&ke<Z.length;ke++){we.index>ke?(We=we,we=null):We=we.sibling;var Ye=te(X,we,Z[ke],he);if(Ye===null){we===null&&(we=We);break}o&&we&&Ye.alternate===null&&l(X,we),$=C(Ye,$,ke),Ke===null?Ee=Ye:Ke.sibling=Ye,Ke=Ye,we=We}if(ke===Z.length)return d(X,we),$e&&lr(X,ke),Ee;if(we===null){for(;ke<Z.length;ke++)we=fe(X,Z[ke],he),we!==null&&($=C(we,$,ke),Ke===null?Ee=we:Ke.sibling=we,Ke=we);return $e&&lr(X,ke),Ee}for(we=f(we);ke<Z.length;ke++)We=ne(we,X,ke,Z[ke],he),We!==null&&(o&&We.alternate!==null&&we.delete(We.key===null?ke:We.key),$=C(We,$,ke),Ke===null?Ee=We:Ke.sibling=We,Ke=We);return o&&we.forEach(function(ds){return l(X,ds)}),$e&&lr(X,ke),Ee}function De(X,$,Z,he){if(Z==null)throw Error(n(151));for(var Ee=null,Ke=null,we=$,ke=$=0,We=null,Ye=Z.next();we!==null&&!Ye.done;ke++,Ye=Z.next()){we.index>ke?(We=we,we=null):We=we.sibling;var ds=te(X,we,Ye.value,he);if(ds===null){we===null&&(we=We);break}o&&we&&ds.alternate===null&&l(X,we),$=C(ds,$,ke),Ke===null?Ee=ds:Ke.sibling=ds,Ke=ds,we=We}if(Ye.done)return d(X,we),$e&&lr(X,ke),Ee;if(we===null){for(;!Ye.done;ke++,Ye=Z.next())Ye=fe(X,Ye.value,he),Ye!==null&&($=C(Ye,$,ke),Ke===null?Ee=Ye:Ke.sibling=Ye,Ke=Ye);return $e&&lr(X,ke),Ee}for(we=f(we);!Ye.done;ke++,Ye=Z.next())Ye=ne(we,X,ke,Ye.value,he),Ye!==null&&(o&&Ye.alternate!==null&&we.delete(Ye.key===null?ke:Ye.key),$=C(Ye,$,ke),Ke===null?Ee=Ye:Ke.sibling=Ye,Ke=Ye);return o&&we.forEach(function(Mj){return l(X,Mj)}),$e&&lr(X,ke),Ee}function at(X,$,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===w&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case y:e:{for(var Ee=Z.key;$!==null;){if($.key===Ee){if(Ee=Z.type,Ee===w){if($.tag===7){d(X,$.sibling),he=v($,Z.props.children),he.return=X,X=he;break e}}else if($.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===I&&Ks(Ee)===$.type){d(X,$.sibling),he=v($,Z.props),ru(he,Z),he.return=X,X=he;break e}d(X,$);break}else l(X,$);$=$.sibling}Z.type===w?(he=zs(Z.props.children,X.mode,he,Z.key),he.return=X,X=he):(he=Dd(Z.type,Z.key,Z.props,null,X.mode,he),ru(he,Z),he.return=X,X=he)}return D(X);case b:e:{for(Ee=Z.key;$!==null;){if($.key===Ee)if($.tag===4&&$.stateNode.containerInfo===Z.containerInfo&&$.stateNode.implementation===Z.implementation){d(X,$.sibling),he=v($,Z.children||[]),he.return=X,X=he;break e}else{d(X,$);break}else l(X,$);$=$.sibling}he=Lg(Z,X.mode,he),he.return=X,X=he}return D(X);case I:return Z=Ks(Z),at(X,$,Z,he)}if(H(Z))return be(X,$,Z,he);if(B(Z)){if(Ee=B(Z),typeof Ee!="function")throw Error(n(150));return Z=Ee.call(Z),De(X,$,Z,he)}if(typeof Z.then=="function")return at(X,$,Nd(Z),he);if(Z.$$typeof===R)return at(X,$,Fd(X,Z),he);_d(X,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,$!==null&&$.tag===6?(d(X,$.sibling),he=v($,Z),he.return=X,X=he):(d(X,$),he=Og(Z,X.mode,he),he.return=X,X=he),D(X)):d(X,$)}return function(X,$,Z,he){try{nu=0;var Ee=at(X,$,Z,he);return ha=null,Ee}catch(we){if(we===da||we===Ld)throw we;var Ke=Gi(29,we,null,X.mode);return Ke.lanes=he,Ke.return=X,Ke}finally{}}}var Xs=AE(!0),PE=AE(!1),Kr=!1;function Ug(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $g(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Yr(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Xr(o,l,d){var f=o.updateQueue;if(f===null)return null;if(f=f.shared,(Je&2)!==0){var v=f.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),f.pending=l,l=Pd(o),cE(o,null,d),l}return Ad(o,f,l,d),Pd(o)}function su(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var f=l.lanes;f&=o.pendingLanes,d|=f,l.lanes=d,yR(o,d)}}function qg(o,l){var d=o.updateQueue,f=o.alternate;if(f!==null&&(f=f.updateQueue,d===f)){var v=null,C=null;if(d=d.firstBaseUpdate,d!==null){do{var D={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};C===null?v=C=D:C=C.next=D,d=d.next}while(d!==null);C===null?v=C=l:C=C.next=l}else v=C=l;d={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:C,shared:f.shared,callbacks:f.callbacks},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}var Kg=!1;function ou(){if(Kg){var o=ca;if(o!==null)throw o}}function au(o,l,d,f){Kg=!1;var v=o.updateQueue;Kr=!1;var C=v.firstBaseUpdate,D=v.lastBaseUpdate,L=v.shared.pending;if(L!==null){v.shared.pending=null;var j=L,J=j.next;j.next=null,D===null?C=J:D.next=J,D=j;var le=o.alternate;le!==null&&(le=le.updateQueue,L=le.lastBaseUpdate,L!==D&&(L===null?le.firstBaseUpdate=J:L.next=J,le.lastBaseUpdate=j))}if(C!==null){var fe=v.baseState;D=0,le=J=j=null,L=C;do{var te=L.lane&-536870913,ne=te!==L.lane;if(ne?(ze&te)===te:(f&te)===te){te!==0&&te===ua&&(Kg=!0),le!==null&&(le=le.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var be=o,De=L;te=l;var at=d;switch(De.tag){case 1:if(be=De.payload,typeof be=="function"){fe=be.call(at,fe,te);break e}fe=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=De.payload,te=typeof be=="function"?be.call(at,fe,te):be,te==null)break e;fe=g({},fe,te);break e;case 2:Kr=!0}}te=L.callback,te!==null&&(o.flags|=64,ne&&(o.flags|=8192),ne=v.callbacks,ne===null?v.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:L.tag,payload:L.payload,callback:L.callback,next:null},le===null?(J=le=ne,j=fe):le=le.next=ne,D|=te;if(L=L.next,L===null){if(L=v.shared.pending,L===null)break;ne=L,L=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);le===null&&(j=fe),v.baseState=j,v.firstBaseUpdate=J,v.lastBaseUpdate=le,C===null&&(v.shared.lanes=0),ts|=D,o.lanes=D,o.memoizedState=fe}}function DE(o,l){if(typeof o!="function")throw Error(n(191,o));o.call(l)}function TE(o,l){var d=o.callbacks;if(d!==null)for(o.callbacks=null,o=0;o<d.length;o++)DE(d[o],l)}var fa=G(null),kd=G(0);function ME(o,l){o=Cr,re(kd,o),re(fa,l),Cr=o|l.baseLanes}function Yg(){re(kd,Cr),re(fa,fa.current)}function Xg(){Cr=kd.current,z(fa),z(kd)}var Bi=G(null),sn=null;function Qr(o){var l=o.alternate;re(Dt,Dt.current&1),re(Bi,o),sn===null&&(l===null||fa.current!==null||l.memoizedState!==null)&&(sn=o)}function Qg(o){re(Dt,Dt.current),re(Bi,o),sn===null&&(sn=o)}function FE(o){o.tag===22?(re(Dt,Dt.current),re(Bi,o),sn===null&&(sn=o)):Zr()}function Zr(){re(Dt,Dt.current),re(Bi,Bi.current)}function Hi(o){z(Bi),sn===o&&(sn=null),z(Dt)}var Dt=G(0);function Gd(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||nv(d)||rv(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var dr=0,Ne=null,st=null,It=null,Bd=!1,pa=!1,Qs=!1,Hd=0,lu=0,ga=null,SV=0;function xt(){throw Error(n(321))}function Zg(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!ki(o[d],l[d]))return!1;return!0}function Jg(o,l,d,f,v,C){return dr=C,Ne=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,_.H=o===null||o.memoizedState===null?pA:pm,Qs=!1,C=d(f,v),Qs=!1,pa&&(C=LE(l,d,f,v)),OE(o),C}function OE(o){_.H=du;var l=st!==null&&st.next!==null;if(dr=0,It=st=Ne=null,Bd=!1,lu=0,ga=null,l)throw Error(n(300));o===null||Nt||(o=o.dependencies,o!==null&&Md(o)&&(Nt=!0))}function LE(o,l,d,f){Ne=o;var v=0;do{if(pa&&(ga=null),lu=0,pa=!1,25<=v)throw Error(n(301));if(v+=1,It=st=null,o.updateQueue!=null){var C=o.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}_.H=gA,C=l(d,f)}while(pa);return C}function bV(){var o=_.H,l=o.useState()[0];return l=typeof l.then=="function"?uu(l):l,o=o.useState()[0],(st!==null?st.memoizedState:null)!==o&&(Ne.flags|=1024),l}function em(){var o=Hd!==0;return Hd=0,o}function tm(o,l,d){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~d}function im(o){if(Bd){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}Bd=!1}dr=0,It=st=Ne=null,pa=!1,lu=Hd=0,ga=null}function fi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ne.memoizedState=It=o:It=It.next=o,It}function Tt(){if(st===null){var o=Ne.alternate;o=o!==null?o.memoizedState:null}else o=st.next;var l=It===null?Ne.memoizedState:It.next;if(l!==null)It=l,st=o;else{if(o===null)throw Ne.alternate===null?Error(n(467)):Error(n(310));st=o,o={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},It===null?Ne.memoizedState=It=o:It=It.next=o}return It}function Vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uu(o){var l=lu;return lu+=1,ga===null&&(ga=[]),o=xE(ga,o,l),l=Ne,(It===null?l.memoizedState:It.next)===null&&(l=l.alternate,_.H=l===null||l.memoizedState===null?pA:pm),o}function jd(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return uu(o);if(o.$$typeof===R)return Jt(o)}throw Error(n(438,String(o)))}function nm(o){var l=null,d=Ne.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var f=Ne.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(l={data:f.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Vd(),Ne.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(o),f=0;f<o;f++)d[f]=W;return l.index++,d}function hr(o,l){return typeof l=="function"?l(o):l}function zd(o){var l=Tt();return rm(l,st,o)}function rm(o,l,d){var f=o.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=d;var v=o.baseQueue,C=f.pending;if(C!==null){if(v!==null){var D=v.next;v.next=C.next,C.next=D}l.baseQueue=v=C,f.pending=null}if(C=o.baseState,v===null)o.memoizedState=C;else{l=v.next;var L=D=null,j=null,J=l,le=!1;do{var fe=J.lane&-536870913;if(fe!==J.lane?(ze&fe)===fe:(dr&fe)===fe){var te=J.revertLane;if(te===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),fe===ua&&(le=!0);else if((dr&te)===te){J=J.next,te===ua&&(le=!0);continue}else fe={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},j===null?(L=j=fe,D=C):j=j.next=fe,Ne.lanes|=te,ts|=te;fe=J.action,Qs&&d(C,fe),C=J.hasEagerState?J.eagerState:d(C,fe)}else te={lane:fe,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},j===null?(L=j=te,D=C):j=j.next=te,Ne.lanes|=fe,ts|=fe;J=J.next}while(J!==null&&J!==l);if(j===null?D=C:j.next=L,!ki(C,o.memoizedState)&&(Nt=!0,le&&(d=ca,d!==null)))throw d;o.memoizedState=C,o.baseState=D,o.baseQueue=j,f.lastRenderedState=C}return v===null&&(f.lanes=0),[o.memoizedState,f.dispatch]}function sm(o){var l=Tt(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var f=d.dispatch,v=d.pending,C=l.memoizedState;if(v!==null){d.pending=null;var D=v=v.next;do C=o(C,D.action),D=D.next;while(D!==v);ki(C,l.memoizedState)||(Nt=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),d.lastRenderedState=C}return[C,f]}function IE(o,l,d){var f=Ne,v=Tt(),C=$e;if(C){if(d===void 0)throw Error(n(407));d=d()}else d=l();var D=!ki((st||v).memoizedState,d);if(D&&(v.memoizedState=d,Nt=!0),v=v.queue,lm(kE.bind(null,f,v,o),[o]),v.getSnapshot!==l||D||It!==null&&It.memoizedState.tag&1){if(f.flags|=2048,ma(9,{destroy:void 0},_E.bind(null,f,v,d,l),null),ct===null)throw Error(n(349));C||(dr&127)!==0||NE(f,l,d)}return d}function NE(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=Ne.updateQueue,l===null?(l=Vd(),Ne.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function _E(o,l,d,f){l.value=d,l.getSnapshot=f,GE(l)&&BE(o)}function kE(o,l,d){return d(function(){GE(l)&&BE(o)})}function GE(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!ki(o,d)}catch{return!0}}function BE(o){var l=js(o,2);l!==null&&Pi(l,o,2)}function om(o){var l=fi();if(typeof o=="function"){var d=o;if(o=d(),Qs){Vr(!0);try{d()}finally{Vr(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:o},l}function HE(o,l,d,f){return o.baseState=d,rm(o,st,typeof f=="function"?f:hr)}function wV(o,l,d,f,v){if($d(o))throw Error(n(485));if(o=l.action,o!==null){var C={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){C.listeners.push(D)}};_.T!==null?d(!0):C.isTransition=!1,f(C),d=l.pending,d===null?(C.next=l.pending=C,VE(l,C)):(C.next=d.next,l.pending=d.next=C)}}function VE(o,l){var d=l.action,f=l.payload,v=o.state;if(l.isTransition){var C=_.T,D={};_.T=D;try{var L=d(v,f),j=_.S;j!==null&&j(D,L),jE(o,l,L)}catch(J){am(o,l,J)}finally{C!==null&&D.types!==null&&(C.types=D.types),_.T=C}}else try{C=d(v,f),jE(o,l,C)}catch(J){am(o,l,J)}}function jE(o,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(f){zE(o,l,f)},function(f){return am(o,l,f)}):zE(o,l,d)}function zE(o,l,d){l.status="fulfilled",l.value=d,WE(l),o.state=d,l=o.pending,l!==null&&(d=l.next,d===l?o.pending=null:(d=d.next,l.next=d,VE(o,d)))}function am(o,l,d){var f=o.pending;if(o.pending=null,f!==null){f=f.next;do l.status="rejected",l.reason=d,WE(l),l=l.next;while(l!==f)}o.action=null}function WE(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function UE(o,l){return l}function $E(o,l){if($e){var d=ct.formState;if(d!==null){e:{var f=Ne;if($e){if(pt){t:{for(var v=pt,C=rn;v.nodeType!==8;){if(!C){v=null;break t}if(v=on(v.nextSibling),v===null){v=null;break t}}C=v.data,v=C==="F!"||C==="F"?v:null}if(v){pt=on(v.nextSibling),f=v.data==="F!";break e}}$r(f)}f=!1}f&&(l=d[0])}}return d=fi(),d.memoizedState=d.baseState=l,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:UE,lastRenderedState:l},d.queue=f,d=dA.bind(null,Ne,f),f.dispatch=d,f=om(!1),C=fm.bind(null,Ne,!1,f.queue),f=fi(),v={state:l,dispatch:null,action:o,pending:null},f.queue=v,d=wV.bind(null,Ne,v,C,d),v.dispatch=d,f.memoizedState=o,[l,d,!1]}function qE(o){var l=Tt();return KE(l,st,o)}function KE(o,l,d){if(l=rm(o,l,UE)[0],o=zd(hr)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var f=uu(l)}catch(D){throw D===da?Ld:D}else f=l;l=Tt();var v=l.queue,C=v.dispatch;return d!==l.memoizedState&&(Ne.flags|=2048,ma(9,{destroy:void 0},xV.bind(null,v,d),null)),[f,C,o]}function xV(o,l){o.action=l}function YE(o){var l=Tt(),d=st;if(d!==null)return KE(l,d,o);Tt(),l=l.memoizedState,d=Tt();var f=d.queue.dispatch;return d.memoizedState=o,[l,f,!1]}function ma(o,l,d,f){return o={tag:o,create:d,deps:f,inst:l,next:null},l=Ne.updateQueue,l===null&&(l=Vd(),Ne.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=o.next=o:(f=d.next,d.next=o,o.next=f,l.lastEffect=o),o}function XE(){return Tt().memoizedState}function Wd(o,l,d,f){var v=fi();Ne.flags|=o,v.memoizedState=ma(1|l,{destroy:void 0},d,f===void 0?null:f)}function Ud(o,l,d,f){var v=Tt();f=f===void 0?null:f;var C=v.memoizedState.inst;st!==null&&f!==null&&Zg(f,st.memoizedState.deps)?v.memoizedState=ma(l,C,d,f):(Ne.flags|=o,v.memoizedState=ma(1|l,C,d,f))}function QE(o,l){Wd(8390656,8,o,l)}function lm(o,l){Ud(2048,8,o,l)}function RV(o){Ne.flags|=4;var l=Ne.updateQueue;if(l===null)l=Vd(),Ne.updateQueue=l,l.events=[o];else{var d=l.events;d===null?l.events=[o]:d.push(o)}}function ZE(o){var l=Tt().memoizedState;return RV({ref:l,nextImpl:o}),function(){if((Je&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}function JE(o,l){return Ud(4,2,o,l)}function eA(o,l){return Ud(4,4,o,l)}function tA(o,l){if(typeof l=="function"){o=o();var d=l(o);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function iA(o,l,d){d=d!=null?d.concat([o]):null,Ud(4,4,tA.bind(null,l,o),d)}function um(){}function nA(o,l){var d=Tt();l=l===void 0?null:l;var f=d.memoizedState;return l!==null&&Zg(l,f[1])?f[0]:(d.memoizedState=[o,l],o)}function rA(o,l){var d=Tt();l=l===void 0?null:l;var f=d.memoizedState;if(l!==null&&Zg(l,f[1]))return f[0];if(f=o(),Qs){Vr(!0);try{o()}finally{Vr(!1)}}return d.memoizedState=[f,l],f}function cm(o,l,d){return d===void 0||(dr&1073741824)!==0&&(ze&261930)===0?o.memoizedState=l:(o.memoizedState=d,o=sP(),Ne.lanes|=o,ts|=o,d)}function sA(o,l,d,f){return ki(d,l)?d:fa.current!==null?(o=cm(o,d,f),ki(o,l)||(Nt=!0),o):(dr&42)===0||(dr&1073741824)!==0&&(ze&261930)===0?(Nt=!0,o.memoizedState=d):(o=sP(),Ne.lanes|=o,ts|=o,l)}function oA(o,l,d,f,v){var C=U.p;U.p=C!==0&&8>C?C:8;var D=_.T,L={};_.T=L,fm(o,!1,l,d);try{var j=v(),J=_.S;if(J!==null&&J(L,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var le=CV(j,f);cu(o,l,le,zi(o))}else cu(o,l,f,zi(o))}catch(fe){cu(o,l,{then:function(){},status:"rejected",reason:fe},zi())}finally{U.p=C,D!==null&&L.types!==null&&(D.types=L.types),_.T=D}}function EV(){}function dm(o,l,d,f){if(o.tag!==5)throw Error(n(476));var v=aA(o).queue;oA(o,v,l,Q,d===null?EV:function(){return lA(o),d(f)})}function aA(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:Q},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:d},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function lA(o){var l=aA(o);l.next===null&&(l=o.alternate.memoizedState),cu(o,l.next.queue,{},zi())}function hm(){return Jt(Pu)}function uA(){return Tt().memoizedState}function cA(){return Tt().memoizedState}function AV(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var d=zi();o=Yr(d);var f=Xr(l,o,d);f!==null&&(Pi(f,l,d),su(f,l,d)),l={cache:Vg()},o.payload=l;return}l=l.return}}function PV(o,l,d){var f=zi();d={lane:f,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},$d(o)?hA(l,d):(d=Mg(o,l,d,f),d!==null&&(Pi(d,o,f),fA(d,l,f)))}function dA(o,l,d){var f=zi();cu(o,l,d,f)}function cu(o,l,d,f){var v={lane:f,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if($d(o))hA(l,v);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var D=l.lastRenderedState,L=C(D,d);if(v.hasEagerState=!0,v.eagerState=L,ki(L,D))return Ad(o,l,v,0),ct===null&&Ed(),!1}catch{}finally{}if(d=Mg(o,l,v,f),d!==null)return Pi(d,o,f),fA(d,l,f),!0}return!1}function fm(o,l,d,f){if(f={lane:2,revertLane:Um(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},$d(o)){if(l)throw Error(n(479))}else l=Mg(o,d,f,2),l!==null&&Pi(l,o,2)}function $d(o){var l=o.alternate;return o===Ne||l!==null&&l===Ne}function hA(o,l){pa=Bd=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function fA(o,l,d){if((d&4194048)!==0){var f=l.lanes;f&=o.pendingLanes,d|=f,l.lanes=d,yR(o,d)}}var du={readContext:Jt,use:jd,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};du.useEffectEvent=xt;var pA={readContext:Jt,use:jd,useCallback:function(o,l){return fi().memoizedState=[o,l===void 0?null:l],o},useContext:Jt,useEffect:QE,useImperativeHandle:function(o,l,d){d=d!=null?d.concat([o]):null,Wd(4194308,4,tA.bind(null,l,o),d)},useLayoutEffect:function(o,l){return Wd(4194308,4,o,l)},useInsertionEffect:function(o,l){Wd(4,2,o,l)},useMemo:function(o,l){var d=fi();l=l===void 0?null:l;var f=o();if(Qs){Vr(!0);try{o()}finally{Vr(!1)}}return d.memoizedState=[f,l],f},useReducer:function(o,l,d){var f=fi();if(d!==void 0){var v=d(l);if(Qs){Vr(!0);try{d(l)}finally{Vr(!1)}}}else v=l;return f.memoizedState=f.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},f.queue=o,o=o.dispatch=PV.bind(null,Ne,o),[f.memoizedState,o]},useRef:function(o){var l=fi();return o={current:o},l.memoizedState=o},useState:function(o){o=om(o);var l=o.queue,d=dA.bind(null,Ne,l);return l.dispatch=d,[o.memoizedState,d]},useDebugValue:um,useDeferredValue:function(o,l){var d=fi();return cm(d,o,l)},useTransition:function(){var o=om(!1);return o=oA.bind(null,Ne,o.queue,!0,!1),fi().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,d){var f=Ne,v=fi();if($e){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),ct===null)throw Error(n(349));(ze&127)!==0||NE(f,l,d)}v.memoizedState=d;var C={value:d,getSnapshot:l};return v.queue=C,QE(kE.bind(null,f,C,o),[o]),f.flags|=2048,ma(9,{destroy:void 0},_E.bind(null,f,C,d,l),null),d},useId:function(){var o=fi(),l=ct.identifierPrefix;if($e){var d=Bn,f=Gn;d=(f&~(1<<32-_i(f)-1)).toString(32)+d,l="_"+l+"R_"+d,d=Hd++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=SV++,l="_"+l+"r_"+d.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:hm,useFormState:$E,useActionState:$E,useOptimistic:function(o){var l=fi();l.memoizedState=l.baseState=o;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=fm.bind(null,Ne,!0,d),d.dispatch=l,[o,l]},useMemoCache:nm,useCacheRefresh:function(){return fi().memoizedState=AV.bind(null,Ne)},useEffectEvent:function(o){var l=fi(),d={impl:o};return l.memoizedState=d,function(){if((Je&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},pm={readContext:Jt,use:jd,useCallback:nA,useContext:Jt,useEffect:lm,useImperativeHandle:iA,useInsertionEffect:JE,useLayoutEffect:eA,useMemo:rA,useReducer:zd,useRef:XE,useState:function(){return zd(hr)},useDebugValue:um,useDeferredValue:function(o,l){var d=Tt();return sA(d,st.memoizedState,o,l)},useTransition:function(){var o=zd(hr)[0],l=Tt().memoizedState;return[typeof o=="boolean"?o:uu(o),l]},useSyncExternalStore:IE,useId:uA,useHostTransitionStatus:hm,useFormState:qE,useActionState:qE,useOptimistic:function(o,l){var d=Tt();return HE(d,st,o,l)},useMemoCache:nm,useCacheRefresh:cA};pm.useEffectEvent=ZE;var gA={readContext:Jt,use:jd,useCallback:nA,useContext:Jt,useEffect:lm,useImperativeHandle:iA,useInsertionEffect:JE,useLayoutEffect:eA,useMemo:rA,useReducer:sm,useRef:XE,useState:function(){return sm(hr)},useDebugValue:um,useDeferredValue:function(o,l){var d=Tt();return st===null?cm(d,o,l):sA(d,st.memoizedState,o,l)},useTransition:function(){var o=sm(hr)[0],l=Tt().memoizedState;return[typeof o=="boolean"?o:uu(o),l]},useSyncExternalStore:IE,useId:uA,useHostTransitionStatus:hm,useFormState:YE,useActionState:YE,useOptimistic:function(o,l){var d=Tt();return st!==null?HE(d,st,o,l):(d.baseState=o,[o,d.queue.dispatch])},useMemoCache:nm,useCacheRefresh:cA};gA.useEffectEvent=ZE;function gm(o,l,d,f){l=o.memoizedState,d=d(f,l),d=d==null?l:g({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var mm={enqueueSetState:function(o,l,d){o=o._reactInternals;var f=zi(),v=Yr(f);v.payload=l,d!=null&&(v.callback=d),l=Xr(o,v,f),l!==null&&(Pi(l,o,f),su(l,o,f))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var f=zi(),v=Yr(f);v.tag=1,v.payload=l,d!=null&&(v.callback=d),l=Xr(o,v,f),l!==null&&(Pi(l,o,f),su(l,o,f))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=zi(),f=Yr(d);f.tag=2,l!=null&&(f.callback=l),l=Xr(o,f,d),l!==null&&(Pi(l,o,d),su(l,o,d))}};function mA(o,l,d,f,v,C,D){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(f,C,D):l.prototype&&l.prototype.isPureReactComponent?!Ql(d,f)||!Ql(v,C):!0}function vA(o,l,d,f){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,f),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,f),l.state!==o&&mm.enqueueReplaceState(l,l.state,null)}function Zs(o,l){var d=l;if("ref"in l){d={};for(var f in l)f!=="ref"&&(d[f]=l[f])}if(o=o.defaultProps){d===l&&(d=g({},d));for(var v in o)d[v]===void 0&&(d[v]=o[v])}return d}function yA(o){Rd(o)}function CA(o){console.error(o)}function SA(o){Rd(o)}function qd(o,l){try{var d=o.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(f){setTimeout(function(){throw f})}}function bA(o,l,d){try{var f=o.onCaughtError;f(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function vm(o,l,d){return d=Yr(d),d.tag=3,d.payload={element:null},d.callback=function(){qd(o,l)},d}function wA(o){return o=Yr(o),o.tag=3,o}function xA(o,l,d,f){var v=d.type.getDerivedStateFromError;if(typeof v=="function"){var C=f.value;o.payload=function(){return v(C)},o.callback=function(){bA(l,d,f)}}var D=d.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(o.callback=function(){bA(l,d,f),typeof v!="function"&&(is===null?is=new Set([this]):is.add(this));var L=f.stack;this.componentDidCatch(f.value,{componentStack:L!==null?L:""})})}function DV(o,l,d,f,v){if(d.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(l=d.alternate,l!==null&&la(l,d,v,!0),d=Bi.current,d!==null){switch(d.tag){case 31:case 13:return sn===null?sh():d.alternate===null&&Rt===0&&(Rt=3),d.flags&=-257,d.flags|=65536,d.lanes=v,f===Id?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([f]):l.add(f),jm(o,f,v)),!1;case 22:return d.flags|=65536,f===Id?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([f])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([f]):d.add(f)),jm(o,f,v)),!1}throw Error(n(435,d.tag))}return jm(o,f,v),sh(),!1}if($e)return l=Bi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,f!==_g&&(o=Error(n(422),{cause:f}),eu(en(o,d)))):(f!==_g&&(l=Error(n(423),{cause:f}),eu(en(l,d))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,f=en(f,d),v=vm(o.stateNode,f,v),qg(o,v),Rt!==4&&(Rt=2)),!1;var C=Error(n(520),{cause:f});if(C=en(C,d),Cu===null?Cu=[C]:Cu.push(C),Rt!==4&&(Rt=2),l===null)return!0;f=en(f,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,o=v&-v,d.lanes|=o,o=vm(d.stateNode,f,o),qg(d,o),!1;case 1:if(l=d.type,C=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(is===null||!is.has(C))))return d.flags|=65536,v&=-v,d.lanes|=v,v=wA(v),xA(v,o,d,f),qg(d,v),!1}d=d.return}while(d!==null);return!1}var ym=Error(n(461)),Nt=!1;function ei(o,l,d,f){l.child=o===null?PE(l,null,d,f):Xs(l,o.child,d,f)}function RA(o,l,d,f,v){d=d.render;var C=l.ref;if("ref"in f){var D={};for(var L in f)L!=="ref"&&(D[L]=f[L])}else D=f;return $s(l),f=Jg(o,l,d,D,C,v),L=em(),o!==null&&!Nt?(tm(o,l,v),fr(o,l,v)):($e&&L&&Ig(l),l.flags|=1,ei(o,l,f,v),l.child)}function EA(o,l,d,f,v){if(o===null){var C=d.type;return typeof C=="function"&&!Fg(C)&&C.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=C,AA(o,l,C,f,v)):(o=Dd(d.type,null,f,l,l.mode,v),o.ref=l.ref,o.return=l,l.child=o)}if(C=o.child,!Am(o,v)){var D=C.memoizedProps;if(d=d.compare,d=d!==null?d:Ql,d(D,f)&&o.ref===l.ref)return fr(o,l,v)}return l.flags|=1,o=ar(C,f),o.ref=l.ref,o.return=l,l.child=o}function AA(o,l,d,f,v){if(o!==null){var C=o.memoizedProps;if(Ql(C,f)&&o.ref===l.ref)if(Nt=!1,l.pendingProps=f=C,Am(o,v))(o.flags&131072)!==0&&(Nt=!0);else return l.lanes=o.lanes,fr(o,l,v)}return Cm(o,l,d,f,v)}function PA(o,l,d,f){var v=f.children,C=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((l.flags&128)!==0){if(C=C!==null?C.baseLanes|d:d,o!==null){for(f=l.child=o.child,v=0;f!==null;)v=v|f.lanes|f.childLanes,f=f.sibling;f=v&~C}else f=0,l.child=null;return DA(o,l,C,d,f)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&Od(l,C!==null?C.cachePool:null),C!==null?ME(l,C):Yg(),FE(l);else return f=l.lanes=536870912,DA(o,l,C!==null?C.baseLanes|d:d,d,f)}else C!==null?(Od(l,C.cachePool),ME(l,C),Zr(),l.memoizedState=null):(o!==null&&Od(l,null),Yg(),Zr());return ei(o,l,v,d),l.child}function hu(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function DA(o,l,d,f,v){var C=zg();return C=C===null?null:{parent:Lt._currentValue,pool:C},l.memoizedState={baseLanes:d,cachePool:C},o!==null&&Od(l,null),Yg(),FE(l),o!==null&&la(o,l,f,!0),l.childLanes=v,null}function Kd(o,l){return l=Xd({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function TA(o,l,d){return Xs(l,o.child,null,d),o=Kd(l,l.pendingProps),o.flags|=2,Hi(l),l.memoizedState=null,o}function TV(o,l,d){var f=l.pendingProps,v=(l.flags&128)!==0;if(l.flags&=-129,o===null){if($e){if(f.mode==="hidden")return o=Kd(l,f),l.lanes=536870912,hu(null,o);if(Qg(l),(o=pt)?(o=VP(o,rn),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Wr!==null?{id:Gn,overflow:Bn}:null,retryLane:536870912,hydrationErrors:null},d=hE(o),d.return=l,l.child=d,Zt=l,pt=null)):o=null,o===null)throw $r(l);return l.lanes=536870912,null}return Kd(l,f)}var C=o.memoizedState;if(C!==null){var D=C.dehydrated;if(Qg(l),v)if(l.flags&256)l.flags&=-257,l=TA(o,l,d);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(n(558));else if(Nt||la(o,l,d,!1),v=(d&o.childLanes)!==0,Nt||v){if(f=ct,f!==null&&(D=CR(f,d),D!==0&&D!==C.retryLane))throw C.retryLane=D,js(o,D),Pi(f,o,D),ym;sh(),l=TA(o,l,d)}else o=C.treeContext,pt=on(D.nextSibling),Zt=l,$e=!0,Ur=null,rn=!1,o!==null&&gE(l,o),l=Kd(l,f),l.flags|=4096;return l}return o=ar(o.child,{mode:f.mode,children:f.children}),o.ref=l.ref,l.child=o,o.return=l,o}function Yd(o,l){var d=l.ref;if(d===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(o===null||o.ref!==d)&&(l.flags|=4194816)}}function Cm(o,l,d,f,v){return $s(l),d=Jg(o,l,d,f,void 0,v),f=em(),o!==null&&!Nt?(tm(o,l,v),fr(o,l,v)):($e&&f&&Ig(l),l.flags|=1,ei(o,l,d,v),l.child)}function MA(o,l,d,f,v,C){return $s(l),l.updateQueue=null,d=LE(l,f,d,v),OE(o),f=em(),o!==null&&!Nt?(tm(o,l,C),fr(o,l,C)):($e&&f&&Ig(l),l.flags|=1,ei(o,l,d,C),l.child)}function FA(o,l,d,f,v){if($s(l),l.stateNode===null){var C=ra,D=d.contextType;typeof D=="object"&&D!==null&&(C=Jt(D)),C=new d(f,C),l.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=mm,l.stateNode=C,C._reactInternals=l,C=l.stateNode,C.props=f,C.state=l.memoizedState,C.refs={},Ug(l),D=d.contextType,C.context=typeof D=="object"&&D!==null?Jt(D):ra,C.state=l.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(gm(l,d,D,f),C.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(D=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),D!==C.state&&mm.enqueueReplaceState(C,C.state,null),au(l,f,C,v),ou(),C.state=l.memoizedState),typeof C.componentDidMount=="function"&&(l.flags|=4194308),f=!0}else if(o===null){C=l.stateNode;var L=l.memoizedProps,j=Zs(d,L);C.props=j;var J=C.context,le=d.contextType;D=ra,typeof le=="object"&&le!==null&&(D=Jt(le));var fe=d.getDerivedStateFromProps;le=typeof fe=="function"||typeof C.getSnapshotBeforeUpdate=="function",L=l.pendingProps!==L,le||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(L||J!==D)&&vA(l,C,f,D),Kr=!1;var te=l.memoizedState;C.state=te,au(l,f,C,v),ou(),J=l.memoizedState,L||te!==J||Kr?(typeof fe=="function"&&(gm(l,d,fe,f),J=l.memoizedState),(j=Kr||mA(l,d,j,f,te,J,D))?(le||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=f,l.memoizedState=J),C.props=f,C.state=J,C.context=D,f=j):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),f=!1)}else{C=l.stateNode,$g(o,l),D=l.memoizedProps,le=Zs(d,D),C.props=le,fe=l.pendingProps,te=C.context,J=d.contextType,j=ra,typeof J=="object"&&J!==null&&(j=Jt(J)),L=d.getDerivedStateFromProps,(J=typeof L=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(D!==fe||te!==j)&&vA(l,C,f,j),Kr=!1,te=l.memoizedState,C.state=te,au(l,f,C,v),ou();var ne=l.memoizedState;D!==fe||te!==ne||Kr||o!==null&&o.dependencies!==null&&Md(o.dependencies)?(typeof L=="function"&&(gm(l,d,L,f),ne=l.memoizedState),(le=Kr||mA(l,d,le,f,te,ne,j)||o!==null&&o.dependencies!==null&&Md(o.dependencies))?(J||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(f,ne,j),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(f,ne,j)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||D===o.memoizedProps&&te===o.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&te===o.memoizedState||(l.flags|=1024),l.memoizedProps=f,l.memoizedState=ne),C.props=f,C.state=ne,C.context=j,f=le):(typeof C.componentDidUpdate!="function"||D===o.memoizedProps&&te===o.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&te===o.memoizedState||(l.flags|=1024),f=!1)}return C=f,Yd(o,l),f=(l.flags&128)!==0,C||f?(C=l.stateNode,d=f&&typeof d.getDerivedStateFromError!="function"?null:C.render(),l.flags|=1,o!==null&&f?(l.child=Xs(l,o.child,null,v),l.child=Xs(l,null,d,v)):ei(o,l,d,v),l.memoizedState=C.state,o=l.child):o=fr(o,l,v),o}function OA(o,l,d,f){return Ws(),l.flags|=256,ei(o,l,d,f),l.child}var Sm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bm(o){return{baseLanes:o,cachePool:bE()}}function wm(o,l,d){return o=o!==null?o.childLanes&~d:0,l&&(o|=ji),o}function LA(o,l,d){var f=l.pendingProps,v=!1,C=(l.flags&128)!==0,D;if((D=C)||(D=o!==null&&o.memoizedState===null?!1:(Dt.current&2)!==0),D&&(v=!0,l.flags&=-129),D=(l.flags&32)!==0,l.flags&=-33,o===null){if($e){if(v?Qr(l):Zr(),(o=pt)?(o=VP(o,rn),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:Wr!==null?{id:Gn,overflow:Bn}:null,retryLane:536870912,hydrationErrors:null},d=hE(o),d.return=l,l.child=d,Zt=l,pt=null)):o=null,o===null)throw $r(l);return rv(o)?l.lanes=32:l.lanes=536870912,null}var L=f.children;return f=f.fallback,v?(Zr(),v=l.mode,L=Xd({mode:"hidden",children:L},v),f=zs(f,v,d,null),L.return=l,f.return=l,L.sibling=f,l.child=L,f=l.child,f.memoizedState=bm(d),f.childLanes=wm(o,D,d),l.memoizedState=Sm,hu(null,f)):(Qr(l),xm(l,L))}var j=o.memoizedState;if(j!==null&&(L=j.dehydrated,L!==null)){if(C)l.flags&256?(Qr(l),l.flags&=-257,l=Rm(o,l,d)):l.memoizedState!==null?(Zr(),l.child=o.child,l.flags|=128,l=null):(Zr(),L=f.fallback,v=l.mode,f=Xd({mode:"visible",children:f.children},v),L=zs(L,v,d,null),L.flags|=2,f.return=l,L.return=l,f.sibling=L,l.child=f,Xs(l,o.child,null,d),f=l.child,f.memoizedState=bm(d),f.childLanes=wm(o,D,d),l.memoizedState=Sm,l=hu(null,f));else if(Qr(l),rv(L)){if(D=L.nextSibling&&L.nextSibling.dataset,D)var J=D.dgst;D=J,f=Error(n(419)),f.stack="",f.digest=D,eu({value:f,source:null,stack:null}),l=Rm(o,l,d)}else if(Nt||la(o,l,d,!1),D=(d&o.childLanes)!==0,Nt||D){if(D=ct,D!==null&&(f=CR(D,d),f!==0&&f!==j.retryLane))throw j.retryLane=f,js(o,f),Pi(D,o,f),ym;nv(L)||sh(),l=Rm(o,l,d)}else nv(L)?(l.flags|=192,l.child=o.child,l=null):(o=j.treeContext,pt=on(L.nextSibling),Zt=l,$e=!0,Ur=null,rn=!1,o!==null&&gE(l,o),l=xm(l,f.children),l.flags|=4096);return l}return v?(Zr(),L=f.fallback,v=l.mode,j=o.child,J=j.sibling,f=ar(j,{mode:"hidden",children:f.children}),f.subtreeFlags=j.subtreeFlags&65011712,J!==null?L=ar(J,L):(L=zs(L,v,d,null),L.flags|=2),L.return=l,f.return=l,f.sibling=L,l.child=f,hu(null,f),f=l.child,L=o.child.memoizedState,L===null?L=bm(d):(v=L.cachePool,v!==null?(j=Lt._currentValue,v=v.parent!==j?{parent:j,pool:j}:v):v=bE(),L={baseLanes:L.baseLanes|d,cachePool:v}),f.memoizedState=L,f.childLanes=wm(o,D,d),l.memoizedState=Sm,hu(o.child,f)):(Qr(l),d=o.child,o=d.sibling,d=ar(d,{mode:"visible",children:f.children}),d.return=l,d.sibling=null,o!==null&&(D=l.deletions,D===null?(l.deletions=[o],l.flags|=16):D.push(o)),l.child=d,l.memoizedState=null,d)}function xm(o,l){return l=Xd({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function Xd(o,l){return o=Gi(22,o,null,l),o.lanes=0,o}function Rm(o,l,d){return Xs(l,o.child,null,d),o=xm(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function IA(o,l,d){o.lanes|=l;var f=o.alternate;f!==null&&(f.lanes|=l),Bg(o.return,l,d)}function Em(o,l,d,f,v,C){var D=o.memoizedState;D===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:f,tail:d,tailMode:v,treeForkCount:C}:(D.isBackwards=l,D.rendering=null,D.renderingStartTime=0,D.last=f,D.tail=d,D.tailMode=v,D.treeForkCount=C)}function NA(o,l,d){var f=l.pendingProps,v=f.revealOrder,C=f.tail;f=f.children;var D=Dt.current,L=(D&2)!==0;if(L?(D=D&1|2,l.flags|=128):D&=1,re(Dt,D),ei(o,l,f,d),f=$e?Jl:0,!L&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&IA(o,d,l);else if(o.tag===19)IA(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(v){case"forwards":for(d=l.child,v=null;d!==null;)o=d.alternate,o!==null&&Gd(o)===null&&(v=d),d=d.sibling;d=v,d===null?(v=l.child,l.child=null):(v=d.sibling,d.sibling=null),Em(l,!1,v,d,C,f);break;case"backwards":case"unstable_legacy-backwards":for(d=null,v=l.child,l.child=null;v!==null;){if(o=v.alternate,o!==null&&Gd(o)===null){l.child=v;break}o=v.sibling,v.sibling=d,d=v,v=o}Em(l,!0,d,null,C,f);break;case"together":Em(l,!1,null,null,void 0,f);break;default:l.memoizedState=null}return l.child}function fr(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),ts|=l.lanes,(d&l.childLanes)===0)if(o!==null){if(la(o,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,d=ar(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=ar(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function Am(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Md(o)))}function MV(o,l,d){switch(l.tag){case 3:_e(l,l.stateNode.containerInfo),qr(l,Lt,o.memoizedState.cache),Ws();break;case 27:case 5:ve(l);break;case 4:_e(l,l.stateNode.containerInfo);break;case 10:qr(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Qg(l),null;break;case 13:var f=l.memoizedState;if(f!==null)return f.dehydrated!==null?(Qr(l),l.flags|=128,null):(d&l.child.childLanes)!==0?LA(o,l,d):(Qr(l),o=fr(o,l,d),o!==null?o.sibling:null);Qr(l);break;case 19:var v=(o.flags&128)!==0;if(f=(d&l.childLanes)!==0,f||(la(o,l,d,!1),f=(d&l.childLanes)!==0),v){if(f)return NA(o,l,d);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),re(Dt,Dt.current),f)break;return null;case 22:return l.lanes=0,PA(o,l,d,l.pendingProps);case 24:qr(l,Lt,o.memoizedState.cache)}return fr(o,l,d)}function _A(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps)Nt=!0;else{if(!Am(o,d)&&(l.flags&128)===0)return Nt=!1,MV(o,l,d);Nt=(o.flags&131072)!==0}else Nt=!1,$e&&(l.flags&1048576)!==0&&pE(l,Jl,l.index);switch(l.lanes=0,l.tag){case 16:e:{var f=l.pendingProps;if(o=Ks(l.elementType),l.type=o,typeof o=="function")Fg(o)?(f=Zs(o,f),l.tag=1,l=FA(null,l,o,f,d)):(l.tag=0,l=Cm(null,l,o,f,d));else{if(o!=null){var v=o.$$typeof;if(v===T){l.tag=11,l=RA(null,l,o,f,d);break e}else if(v===F){l.tag=14,l=EA(null,l,o,f,d);break e}}throw l=Y(o)||o,Error(n(306,l,""))}}return l;case 0:return Cm(o,l,l.type,l.pendingProps,d);case 1:return f=l.type,v=Zs(f,l.pendingProps),FA(o,l,f,v,d);case 3:e:{if(_e(l,l.stateNode.containerInfo),o===null)throw Error(n(387));f=l.pendingProps;var C=l.memoizedState;v=C.element,$g(o,l),au(l,f,null,d);var D=l.memoizedState;if(f=D.cache,qr(l,Lt,f),f!==C.cache&&Hg(l,[Lt],d,!0),ou(),f=D.element,C.isDehydrated)if(C={element:f,isDehydrated:!1,cache:D.cache},l.updateQueue.baseState=C,l.memoizedState=C,l.flags&256){l=OA(o,l,f,d);break e}else if(f!==v){v=en(Error(n(424)),l),eu(v),l=OA(o,l,f,d);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(pt=on(o.firstChild),Zt=l,$e=!0,Ur=null,rn=!0,d=PE(l,null,f,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Ws(),f===v){l=fr(o,l,d);break e}ei(o,l,f,d)}l=l.child}return l;case 26:return Yd(o,l),o===null?(d=qP(l.type,null,l.pendingProps,null))?l.memoizedState=d:$e||(d=l.type,o=l.pendingProps,f=hh(ye.current).createElement(d),f[Qt]=l,f[bi]=o,ti(f,d,o),qt(f),l.stateNode=f):l.memoizedState=qP(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return ve(l),o===null&&$e&&(f=l.stateNode=WP(l.type,l.pendingProps,ye.current),Zt=l,rn=!0,v=pt,os(l.type)?(sv=v,pt=on(f.firstChild)):pt=v),ei(o,l,l.pendingProps.children,d),Yd(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&$e&&((v=f=pt)&&(f=oj(f,l.type,l.pendingProps,rn),f!==null?(l.stateNode=f,Zt=l,pt=on(f.firstChild),rn=!1,v=!0):v=!1),v||$r(l)),ve(l),v=l.type,C=l.pendingProps,D=o!==null?o.memoizedProps:null,f=C.children,ev(v,C)?f=null:D!==null&&ev(v,D)&&(l.flags|=32),l.memoizedState!==null&&(v=Jg(o,l,bV,null,null,d),Pu._currentValue=v),Yd(o,l),ei(o,l,f,d),l.child;case 6:return o===null&&$e&&((o=d=pt)&&(d=aj(d,l.pendingProps,rn),d!==null?(l.stateNode=d,Zt=l,pt=null,o=!0):o=!1),o||$r(l)),null;case 13:return LA(o,l,d);case 4:return _e(l,l.stateNode.containerInfo),f=l.pendingProps,o===null?l.child=Xs(l,null,f,d):ei(o,l,f,d),l.child;case 11:return RA(o,l,l.type,l.pendingProps,d);case 7:return ei(o,l,l.pendingProps,d),l.child;case 8:return ei(o,l,l.pendingProps.children,d),l.child;case 12:return ei(o,l,l.pendingProps.children,d),l.child;case 10:return f=l.pendingProps,qr(l,l.type,f.value),ei(o,l,f.children,d),l.child;case 9:return v=l.type._context,f=l.pendingProps.children,$s(l),v=Jt(v),f=f(v),l.flags|=1,ei(o,l,f,d),l.child;case 14:return EA(o,l,l.type,l.pendingProps,d);case 15:return AA(o,l,l.type,l.pendingProps,d);case 19:return NA(o,l,d);case 31:return TV(o,l,d);case 22:return PA(o,l,d,l.pendingProps);case 24:return $s(l),f=Jt(Lt),o===null?(v=zg(),v===null&&(v=ct,C=Vg(),v.pooledCache=C,C.refCount++,C!==null&&(v.pooledCacheLanes|=d),v=C),l.memoizedState={parent:f,cache:v},Ug(l),qr(l,Lt,v)):((o.lanes&d)!==0&&($g(o,l),au(l,null,null,d),ou()),v=o.memoizedState,C=l.memoizedState,v.parent!==f?(v={parent:f,cache:f},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),qr(l,Lt,f)):(f=C.cache,qr(l,Lt,f),f!==v.cache&&Hg(l,[Lt],d,!0))),ei(o,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function pr(o){o.flags|=4}function Pm(o,l,d,f,v){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(v&335544128)===v)if(o.stateNode.complete)o.flags|=8192;else if(uP())o.flags|=8192;else throw Ys=Id,Wg}else o.flags&=-16777217}function kA(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!ZP(l))if(uP())o.flags|=8192;else throw Ys=Id,Wg}function Qd(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?mR():536870912,o.lanes|=l,Sa|=l)}function fu(o,l){if(!$e)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var f=null;d!==null;)d.alternate!==null&&(f=d),d=d.sibling;f===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:f.sibling=null}}function gt(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,f=0;if(l)for(var v=o.child;v!==null;)d|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)d|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=f,o.childLanes=d,l}function FV(o,l,d){var f=l.pendingProps;switch(Ng(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(l),null;case 1:return gt(l),null;case 3:return d=l.stateNode,f=null,o!==null&&(f=o.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),cr(Lt),q(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(o===null||o.child===null)&&(aa(l)?pr(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,kg())),gt(l),null;case 26:var v=l.type,C=l.memoizedState;return o===null?(pr(l),C!==null?(gt(l),kA(l,C)):(gt(l),Pm(l,v,null,f,d))):C?C!==o.memoizedState?(pr(l),gt(l),kA(l,C)):(gt(l),l.flags&=-16777217):(o=o.memoizedProps,o!==f&&pr(l),gt(l),Pm(l,v,o,f,d)),null;case 27:if(Ce(l),d=ye.current,v=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==f&&pr(l);else{if(!f){if(l.stateNode===null)throw Error(n(166));return gt(l),null}o=se.current,aa(l)?mE(l):(o=WP(v,f,d),l.stateNode=o,pr(l))}return gt(l),null;case 5:if(Ce(l),v=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==f&&pr(l);else{if(!f){if(l.stateNode===null)throw Error(n(166));return gt(l),null}if(C=se.current,aa(l))mE(l);else{var D=hh(ye.current);switch(C){case 1:C=D.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:C=D.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":C=D.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":C=D.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":C=D.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof f.is=="string"?D.createElement("select",{is:f.is}):D.createElement("select"),f.multiple?C.multiple=!0:f.size&&(C.size=f.size);break;default:C=typeof f.is=="string"?D.createElement(v,{is:f.is}):D.createElement(v)}}C[Qt]=l,C[bi]=f;e:for(D=l.child;D!==null;){if(D.tag===5||D.tag===6)C.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===l)break e;for(;D.sibling===null;){if(D.return===null||D.return===l)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}l.stateNode=C;e:switch(ti(C,v,f),v){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&pr(l)}}return gt(l),Pm(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,d),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==f&&pr(l);else{if(typeof f!="string"&&l.stateNode===null)throw Error(n(166));if(o=ye.current,aa(l)){if(o=l.stateNode,d=l.memoizedProps,f=null,v=Zt,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}o[Qt]=l,o=!!(o.nodeValue===d||f!==null&&f.suppressHydrationWarning===!0||LP(o.nodeValue,d)),o||$r(l,!0)}else o=hh(o).createTextNode(f),o[Qt]=l,l.stateNode=o}return gt(l),null;case 31:if(d=l.memoizedState,o===null||o.memoizedState!==null){if(f=aa(l),d!==null){if(o===null){if(!f)throw Error(n(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[Qt]=l}else Ws(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;gt(l),o=!1}else d=kg(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=d),o=!0;if(!o)return l.flags&256?(Hi(l),l):(Hi(l),null);if((l.flags&128)!==0)throw Error(n(558))}return gt(l),null;case 13:if(f=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=aa(l),f!==null&&f.dehydrated!==null){if(o===null){if(!v)throw Error(n(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Qt]=l}else Ws(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;gt(l),v=!1}else v=kg(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(Hi(l),l):(Hi(l),null)}return Hi(l),(l.flags&128)!==0?(l.lanes=d,l):(d=f!==null,o=o!==null&&o.memoizedState!==null,d&&(f=l.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool),C=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(C=f.memoizedState.cachePool.pool),C!==v&&(f.flags|=2048)),d!==o&&d&&(l.child.flags|=8192),Qd(l,l.updateQueue),gt(l),null);case 4:return q(),o===null&&Ym(l.stateNode.containerInfo),gt(l),null;case 10:return cr(l.type),gt(l),null;case 19:if(z(Dt),f=l.memoizedState,f===null)return gt(l),null;if(v=(l.flags&128)!==0,C=f.rendering,C===null)if(v)fu(f,!1);else{if(Rt!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(C=Gd(o),C!==null){for(l.flags|=128,fu(f,!1),o=C.updateQueue,l.updateQueue=o,Qd(l,o),l.subtreeFlags=0,o=d,d=l.child;d!==null;)dE(d,o),d=d.sibling;return re(Dt,Dt.current&1|2),$e&&lr(l,f.treeForkCount),l.child}o=o.sibling}f.tail!==null&&$t()>ih&&(l.flags|=128,v=!0,fu(f,!1),l.lanes=4194304)}else{if(!v)if(o=Gd(C),o!==null){if(l.flags|=128,v=!0,o=o.updateQueue,l.updateQueue=o,Qd(l,o),fu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!C.alternate&&!$e)return gt(l),null}else 2*$t()-f.renderingStartTime>ih&&d!==536870912&&(l.flags|=128,v=!0,fu(f,!1),l.lanes=4194304);f.isBackwards?(C.sibling=l.child,l.child=C):(o=f.last,o!==null?o.sibling=C:l.child=C,f.last=C)}return f.tail!==null?(o=f.tail,f.rendering=o,f.tail=o.sibling,f.renderingStartTime=$t(),o.sibling=null,d=Dt.current,re(Dt,v?d&1|2:d&1),$e&&lr(l,f.treeForkCount),o):(gt(l),null);case 22:case 23:return Hi(l),Xg(),f=l.memoizedState!==null,o!==null?o.memoizedState!==null!==f&&(l.flags|=8192):f&&(l.flags|=8192),f?(d&536870912)!==0&&(l.flags&128)===0&&(gt(l),l.subtreeFlags&6&&(l.flags|=8192)):gt(l),d=l.updateQueue,d!==null&&Qd(l,d.retryQueue),d=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048),o!==null&&z(qs),null;case 24:return d=null,o!==null&&(d=o.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),cr(Lt),gt(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function OV(o,l){switch(Ng(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return cr(Lt),q(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return Ce(l),null;case 31:if(l.memoizedState!==null){if(Hi(l),l.alternate===null)throw Error(n(340));Ws()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(Hi(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Ws()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return z(Dt),null;case 4:return q(),null;case 10:return cr(l.type),null;case 22:case 23:return Hi(l),Xg(),o!==null&&z(qs),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return cr(Lt),null;case 25:return null;default:return null}}function GA(o,l){switch(Ng(l),l.tag){case 3:cr(Lt),q();break;case 26:case 27:case 5:Ce(l);break;case 4:q();break;case 31:l.memoizedState!==null&&Hi(l);break;case 13:Hi(l);break;case 19:z(Dt);break;case 10:cr(l.type);break;case 22:case 23:Hi(l),Xg(),o!==null&&z(qs);break;case 24:cr(Lt)}}function pu(o,l){try{var d=l.updateQueue,f=d!==null?d.lastEffect:null;if(f!==null){var v=f.next;d=v;do{if((d.tag&o)===o){f=void 0;var C=d.create,D=d.inst;f=C(),D.destroy=f}d=d.next}while(d!==v)}}catch(L){rt(l,l.return,L)}}function Jr(o,l,d){try{var f=l.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var C=v.next;f=C;do{if((f.tag&o)===o){var D=f.inst,L=D.destroy;if(L!==void 0){D.destroy=void 0,v=l;var j=d,J=L;try{J()}catch(le){rt(v,j,le)}}}f=f.next}while(f!==C)}}catch(le){rt(l,l.return,le)}}function BA(o){var l=o.updateQueue;if(l!==null){var d=o.stateNode;try{TE(l,d)}catch(f){rt(o,o.return,f)}}}function HA(o,l,d){d.props=Zs(o.type,o.memoizedProps),d.state=o.memoizedState;try{d.componentWillUnmount()}catch(f){rt(o,l,f)}}function gu(o,l){try{var d=o.ref;if(d!==null){switch(o.tag){case 26:case 27:case 5:var f=o.stateNode;break;case 30:f=o.stateNode;break;default:f=o.stateNode}typeof d=="function"?o.refCleanup=d(f):d.current=f}}catch(v){rt(o,l,v)}}function Hn(o,l){var d=o.ref,f=o.refCleanup;if(d!==null)if(typeof f=="function")try{f()}catch(v){rt(o,l,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(v){rt(o,l,v)}else d.current=null}function VA(o){var l=o.type,d=o.memoizedProps,f=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&f.focus();break e;case"img":d.src?f.src=d.src:d.srcSet&&(f.srcset=d.srcSet)}}catch(v){rt(o,o.return,v)}}function Dm(o,l,d){try{var f=o.stateNode;ej(f,o.type,d,l),f[bi]=l}catch(v){rt(o,o.return,v)}}function jA(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&os(o.type)||o.tag===4}function Tm(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||jA(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&os(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Mm(o,l,d){var f=o.tag;if(f===5||f===6)o=o.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(o,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(o),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=sr));else if(f!==4&&(f===27&&os(o.type)&&(d=o.stateNode,l=null),o=o.child,o!==null))for(Mm(o,l,d),o=o.sibling;o!==null;)Mm(o,l,d),o=o.sibling}function Zd(o,l,d){var f=o.tag;if(f===5||f===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(f!==4&&(f===27&&os(o.type)&&(d=o.stateNode),o=o.child,o!==null))for(Zd(o,l,d),o=o.sibling;o!==null;)Zd(o,l,d),o=o.sibling}function zA(o){var l=o.stateNode,d=o.memoizedProps;try{for(var f=o.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);ti(l,f,d),l[Qt]=o,l[bi]=d}catch(C){rt(o,o.return,C)}}var gr=!1,_t=!1,Fm=!1,WA=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function LV(o,l){if(o=o.containerInfo,Zm=Ch,o=iE(o),Rg(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var f=d.getSelection&&d.getSelection();if(f&&f.rangeCount!==0){d=f.anchorNode;var v=f.anchorOffset,C=f.focusNode;f=f.focusOffset;try{d.nodeType,C.nodeType}catch{d=null;break e}var D=0,L=-1,j=-1,J=0,le=0,fe=o,te=null;t:for(;;){for(var ne;fe!==d||v!==0&&fe.nodeType!==3||(L=D+v),fe!==C||f!==0&&fe.nodeType!==3||(j=D+f),fe.nodeType===3&&(D+=fe.nodeValue.length),(ne=fe.firstChild)!==null;)te=fe,fe=ne;for(;;){if(fe===o)break t;if(te===d&&++J===v&&(L=D),te===C&&++le===f&&(j=D),(ne=fe.nextSibling)!==null)break;fe=te,te=fe.parentNode}fe=ne}d=L===-1||j===-1?null:{start:L,end:j}}else d=null}d=d||{start:0,end:0}}else d=null;for(Jm={focusedElem:o,selectionRange:d},Ch=!1,Kt=l;Kt!==null;)if(l=Kt,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Kt=o;else for(;Kt!==null;){switch(l=Kt,C=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(d=0;d<o.length;d++)v=o[d],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&C!==null){o=void 0,d=l,v=C.memoizedProps,C=C.memoizedState,f=d.stateNode;try{var be=Zs(d.type,v);o=f.getSnapshotBeforeUpdate(be,C),f.__reactInternalSnapshotBeforeUpdate=o}catch(De){rt(d,d.return,De)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,d=o.nodeType,d===9)iv(o);else if(d===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":iv(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=l.sibling,o!==null){o.return=l.return,Kt=o;break}Kt=l.return}}function UA(o,l,d){var f=d.flags;switch(d.tag){case 0:case 11:case 15:vr(o,d),f&4&&pu(5,d);break;case 1:if(vr(o,d),f&4)if(o=d.stateNode,l===null)try{o.componentDidMount()}catch(D){rt(d,d.return,D)}else{var v=Zs(d.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(v,l,o.__reactInternalSnapshotBeforeUpdate)}catch(D){rt(d,d.return,D)}}f&64&&BA(d),f&512&&gu(d,d.return);break;case 3:if(vr(o,d),f&64&&(o=d.updateQueue,o!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{TE(o,l)}catch(D){rt(d,d.return,D)}}break;case 27:l===null&&f&4&&zA(d);case 26:case 5:vr(o,d),l===null&&f&4&&VA(d),f&512&&gu(d,d.return);break;case 12:vr(o,d);break;case 31:vr(o,d),f&4&&KA(o,d);break;case 13:vr(o,d),f&4&&YA(o,d),f&64&&(o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(d=jV.bind(null,d),lj(o,d))));break;case 22:if(f=d.memoizedState!==null||gr,!f){l=l!==null&&l.memoizedState!==null||_t,v=gr;var C=_t;gr=f,(_t=l)&&!C?yr(o,d,(d.subtreeFlags&8772)!==0):vr(o,d),gr=v,_t=C}break;case 30:break;default:vr(o,d)}}function $A(o){var l=o.alternate;l!==null&&(o.alternate=null,$A(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&ag(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ct=null,xi=!1;function mr(o,l,d){for(d=d.child;d!==null;)qA(o,l,d),d=d.sibling}function qA(o,l,d){if(Ni&&typeof Ni.onCommitFiberUnmount=="function")try{Ni.onCommitFiberUnmount(Bl,d)}catch{}switch(d.tag){case 26:_t||Hn(d,l),mr(o,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:_t||Hn(d,l);var f=Ct,v=xi;os(d.type)&&(Ct=d.stateNode,xi=!1),mr(o,l,d),Ru(d.stateNode),Ct=f,xi=v;break;case 5:_t||Hn(d,l);case 6:if(f=Ct,v=xi,Ct=null,mr(o,l,d),Ct=f,xi=v,Ct!==null)if(xi)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(d.stateNode)}catch(C){rt(d,l,C)}else try{Ct.removeChild(d.stateNode)}catch(C){rt(d,l,C)}break;case 18:Ct!==null&&(xi?(o=Ct,BP(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,d.stateNode),Da(o)):BP(Ct,d.stateNode));break;case 4:f=Ct,v=xi,Ct=d.stateNode.containerInfo,xi=!0,mr(o,l,d),Ct=f,xi=v;break;case 0:case 11:case 14:case 15:Jr(2,d,l),_t||Jr(4,d,l),mr(o,l,d);break;case 1:_t||(Hn(d,l),f=d.stateNode,typeof f.componentWillUnmount=="function"&&HA(d,l,f)),mr(o,l,d);break;case 21:mr(o,l,d);break;case 22:_t=(f=_t)||d.memoizedState!==null,mr(o,l,d),_t=f;break;default:mr(o,l,d)}}function KA(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Da(o)}catch(d){rt(l,l.return,d)}}}function YA(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Da(o)}catch(d){rt(l,l.return,d)}}function IV(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new WA),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new WA),l;default:throw Error(n(435,o.tag))}}function Jd(o,l){var d=IV(o);l.forEach(function(f){if(!d.has(f)){d.add(f);var v=zV.bind(null,o,f);f.then(v,v)}})}function Ri(o,l){var d=l.deletions;if(d!==null)for(var f=0;f<d.length;f++){var v=d[f],C=o,D=l,L=D;e:for(;L!==null;){switch(L.tag){case 27:if(os(L.type)){Ct=L.stateNode,xi=!1;break e}break;case 5:Ct=L.stateNode,xi=!1;break e;case 3:case 4:Ct=L.stateNode.containerInfo,xi=!0;break e}L=L.return}if(Ct===null)throw Error(n(160));qA(C,D,v),Ct=null,xi=!1,C=v.alternate,C!==null&&(C.return=null),v.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)XA(l,o),l=l.sibling}var xn=null;function XA(o,l){var d=o.alternate,f=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ri(l,o),Ei(o),f&4&&(Jr(3,o,o.return),pu(3,o),Jr(5,o,o.return));break;case 1:Ri(l,o),Ei(o),f&512&&(_t||d===null||Hn(d,d.return)),f&64&&gr&&(o=o.updateQueue,o!==null&&(f=o.callbacks,f!==null&&(d=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=d===null?f:d.concat(f))));break;case 26:var v=xn;if(Ri(l,o),Ei(o),f&512&&(_t||d===null||Hn(d,d.return)),f&4){var C=d!==null?d.memoizedState:null;if(f=o.memoizedState,d===null)if(f===null)if(o.stateNode===null){e:{f=o.type,d=o.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":C=v.getElementsByTagName("title")[0],(!C||C[jl]||C[Qt]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=v.createElement(f),v.head.insertBefore(C,v.querySelector("head > title"))),ti(C,f,d),C[Qt]=o,qt(C),f=C;break e;case"link":var D=XP("link","href",v).get(f+(d.href||""));if(D){for(var L=0;L<D.length;L++)if(C=D[L],C.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&C.getAttribute("rel")===(d.rel==null?null:d.rel)&&C.getAttribute("title")===(d.title==null?null:d.title)&&C.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){D.splice(L,1);break t}}C=v.createElement(f),ti(C,f,d),v.head.appendChild(C);break;case"meta":if(D=XP("meta","content",v).get(f+(d.content||""))){for(L=0;L<D.length;L++)if(C=D[L],C.getAttribute("content")===(d.content==null?null:""+d.content)&&C.getAttribute("name")===(d.name==null?null:d.name)&&C.getAttribute("property")===(d.property==null?null:d.property)&&C.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&C.getAttribute("charset")===(d.charSet==null?null:d.charSet)){D.splice(L,1);break t}}C=v.createElement(f),ti(C,f,d),v.head.appendChild(C);break;default:throw Error(n(468,f))}C[Qt]=o,qt(C),f=C}o.stateNode=f}else QP(v,o.type,o.stateNode);else o.stateNode=YP(v,f,o.memoizedProps);else C!==f?(C===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):C.count--,f===null?QP(v,o.type,o.stateNode):YP(v,f,o.memoizedProps)):f===null&&o.stateNode!==null&&Dm(o,o.memoizedProps,d.memoizedProps)}break;case 27:Ri(l,o),Ei(o),f&512&&(_t||d===null||Hn(d,d.return)),d!==null&&f&4&&Dm(o,o.memoizedProps,d.memoizedProps);break;case 5:if(Ri(l,o),Ei(o),f&512&&(_t||d===null||Hn(d,d.return)),o.flags&32){v=o.stateNode;try{Qo(v,"")}catch(be){rt(o,o.return,be)}}f&4&&o.stateNode!=null&&(v=o.memoizedProps,Dm(o,v,d!==null?d.memoizedProps:v)),f&1024&&(Fm=!0);break;case 6:if(Ri(l,o),Ei(o),f&4){if(o.stateNode===null)throw Error(n(162));f=o.memoizedProps,d=o.stateNode;try{d.nodeValue=f}catch(be){rt(o,o.return,be)}}break;case 3:if(gh=null,v=xn,xn=fh(l.containerInfo),Ri(l,o),xn=v,Ei(o),f&4&&d!==null&&d.memoizedState.isDehydrated)try{Da(l.containerInfo)}catch(be){rt(o,o.return,be)}Fm&&(Fm=!1,QA(o));break;case 4:f=xn,xn=fh(o.stateNode.containerInfo),Ri(l,o),Ei(o),xn=f;break;case 12:Ri(l,o),Ei(o);break;case 31:Ri(l,o),Ei(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Jd(o,f)));break;case 13:Ri(l,o),Ei(o),o.child.flags&8192&&o.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(th=$t()),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Jd(o,f)));break;case 22:v=o.memoizedState!==null;var j=d!==null&&d.memoizedState!==null,J=gr,le=_t;if(gr=J||v,_t=le||j,Ri(l,o),_t=le,gr=J,Ei(o),f&8192)e:for(l=o.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(d===null||j||gr||_t||Js(o)),d=null,l=o;;){if(l.tag===5||l.tag===26){if(d===null){j=d=l;try{if(C=j.stateNode,v)D=C.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{L=j.stateNode;var fe=j.memoizedProps.style,te=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;L.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(be){rt(j,j.return,be)}}}else if(l.tag===6){if(d===null){j=l;try{j.stateNode.nodeValue=v?"":j.memoizedProps}catch(be){rt(j,j.return,be)}}}else if(l.tag===18){if(d===null){j=l;try{var ne=j.stateNode;v?HP(ne,!0):HP(j.stateNode,!1)}catch(be){rt(j,j.return,be)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}f&4&&(f=o.updateQueue,f!==null&&(d=f.retryQueue,d!==null&&(f.retryQueue=null,Jd(o,d))));break;case 19:Ri(l,o),Ei(o),f&4&&(f=o.updateQueue,f!==null&&(o.updateQueue=null,Jd(o,f)));break;case 30:break;case 21:break;default:Ri(l,o),Ei(o)}}function Ei(o){var l=o.flags;if(l&2){try{for(var d,f=o.return;f!==null;){if(jA(f)){d=f;break}f=f.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var v=d.stateNode,C=Tm(o);Zd(o,C,v);break;case 5:var D=d.stateNode;d.flags&32&&(Qo(D,""),d.flags&=-33);var L=Tm(o);Zd(o,L,D);break;case 3:case 4:var j=d.stateNode.containerInfo,J=Tm(o);Mm(o,J,j);break;default:throw Error(n(161))}}catch(le){rt(o,o.return,le)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function QA(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;QA(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function vr(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)UA(o,l.alternate,l),l=l.sibling}function Js(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:Jr(4,l,l.return),Js(l);break;case 1:Hn(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&HA(l,l.return,d),Js(l);break;case 27:Ru(l.stateNode);case 26:case 5:Hn(l,l.return),Js(l);break;case 22:l.memoizedState===null&&Js(l);break;case 30:Js(l);break;default:Js(l)}o=o.sibling}}function yr(o,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var f=l.alternate,v=o,C=l,D=C.flags;switch(C.tag){case 0:case 11:case 15:yr(v,C,d),pu(4,C);break;case 1:if(yr(v,C,d),f=C,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(J){rt(f,f.return,J)}if(f=C,v=f.updateQueue,v!==null){var L=f.stateNode;try{var j=v.shared.hiddenCallbacks;if(j!==null)for(v.shared.hiddenCallbacks=null,v=0;v<j.length;v++)DE(j[v],L)}catch(J){rt(f,f.return,J)}}d&&D&64&&BA(C),gu(C,C.return);break;case 27:zA(C);case 26:case 5:yr(v,C,d),d&&f===null&&D&4&&VA(C),gu(C,C.return);break;case 12:yr(v,C,d);break;case 31:yr(v,C,d),d&&D&4&&KA(v,C);break;case 13:yr(v,C,d),d&&D&4&&YA(v,C);break;case 22:C.memoizedState===null&&yr(v,C,d),gu(C,C.return);break;case 30:break;default:yr(v,C,d)}l=l.sibling}}function Om(o,l){var d=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==d&&(o!=null&&o.refCount++,d!=null&&tu(d))}function Lm(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&tu(o))}function Rn(o,l,d,f){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)ZA(o,l,d,f),l=l.sibling}function ZA(o,l,d,f){var v=l.flags;switch(l.tag){case 0:case 11:case 15:Rn(o,l,d,f),v&2048&&pu(9,l);break;case 1:Rn(o,l,d,f);break;case 3:Rn(o,l,d,f),v&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&tu(o)));break;case 12:if(v&2048){Rn(o,l,d,f),o=l.stateNode;try{var C=l.memoizedProps,D=C.id,L=C.onPostCommit;typeof L=="function"&&L(D,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(j){rt(l,l.return,j)}}else Rn(o,l,d,f);break;case 31:Rn(o,l,d,f);break;case 13:Rn(o,l,d,f);break;case 23:break;case 22:C=l.stateNode,D=l.alternate,l.memoizedState!==null?C._visibility&2?Rn(o,l,d,f):mu(o,l):C._visibility&2?Rn(o,l,d,f):(C._visibility|=2,va(o,l,d,f,(l.subtreeFlags&10256)!==0||!1)),v&2048&&Om(D,l);break;case 24:Rn(o,l,d,f),v&2048&&Lm(l.alternate,l);break;default:Rn(o,l,d,f)}}function va(o,l,d,f,v){for(v=v&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var C=o,D=l,L=d,j=f,J=D.flags;switch(D.tag){case 0:case 11:case 15:va(C,D,L,j,v),pu(8,D);break;case 23:break;case 22:var le=D.stateNode;D.memoizedState!==null?le._visibility&2?va(C,D,L,j,v):mu(C,D):(le._visibility|=2,va(C,D,L,j,v)),v&&J&2048&&Om(D.alternate,D);break;case 24:va(C,D,L,j,v),v&&J&2048&&Lm(D.alternate,D);break;default:va(C,D,L,j,v)}l=l.sibling}}function mu(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=o,f=l,v=f.flags;switch(f.tag){case 22:mu(d,f),v&2048&&Om(f.alternate,f);break;case 24:mu(d,f),v&2048&&Lm(f.alternate,f);break;default:mu(d,f)}l=l.sibling}}var vu=8192;function ya(o,l,d){if(o.subtreeFlags&vu)for(o=o.child;o!==null;)JA(o,l,d),o=o.sibling}function JA(o,l,d){switch(o.tag){case 26:ya(o,l,d),o.flags&vu&&o.memoizedState!==null&&Sj(d,xn,o.memoizedState,o.memoizedProps);break;case 5:ya(o,l,d);break;case 3:case 4:var f=xn;xn=fh(o.stateNode.containerInfo),ya(o,l,d),xn=f;break;case 22:o.memoizedState===null&&(f=o.alternate,f!==null&&f.memoizedState!==null?(f=vu,vu=16777216,ya(o,l,d),vu=f):ya(o,l,d));break;default:ya(o,l,d)}}function eP(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function yu(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];Kt=f,iP(f,o)}eP(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)tP(o),o=o.sibling}function tP(o){switch(o.tag){case 0:case 11:case 15:yu(o),o.flags&2048&&Jr(9,o,o.return);break;case 3:yu(o);break;case 12:yu(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,eh(o)):yu(o);break;default:yu(o)}}function eh(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];Kt=f,iP(f,o)}eP(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:Jr(8,l,l.return),eh(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,eh(l));break;default:eh(l)}o=o.sibling}}function iP(o,l){for(;Kt!==null;){var d=Kt;switch(d.tag){case 0:case 11:case 15:Jr(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var f=d.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:tu(d.memoizedState.cache)}if(f=d.child,f!==null)f.return=d,Kt=f;else e:for(d=o;Kt!==null;){f=Kt;var v=f.sibling,C=f.return;if($A(f),f===d){Kt=null;break e}if(v!==null){v.return=C,Kt=v;break e}Kt=C}}}var NV={getCacheForType:function(o){var l=Jt(Lt),d=l.data.get(o);return d===void 0&&(d=o(),l.data.set(o,d)),d},cacheSignal:function(){return Jt(Lt).controller.signal}},_V=typeof WeakMap=="function"?WeakMap:Map,Je=0,ct=null,Be=null,ze=0,nt=0,Vi=null,es=!1,Ca=!1,Im=!1,Cr=0,Rt=0,ts=0,eo=0,Nm=0,ji=0,Sa=0,Cu=null,Ai=null,_m=!1,th=0,nP=0,ih=1/0,nh=null,is=null,Ht=0,ns=null,ba=null,Sr=0,km=0,Gm=null,rP=null,Su=0,Bm=null;function zi(){return(Je&2)!==0&&ze!==0?ze&-ze:_.T!==null?Um():SR()}function sP(){if(ji===0)if((ze&536870912)===0||$e){var o=dd;dd<<=1,(dd&3932160)===0&&(dd=262144),ji=o}else ji=536870912;return o=Bi.current,o!==null&&(o.flags|=32),ji}function Pi(o,l,d){(o===ct&&(nt===2||nt===9)||o.cancelPendingCommit!==null)&&(wa(o,0),rs(o,ze,ji,!1)),Vl(o,d),((Je&2)===0||o!==ct)&&(o===ct&&((Je&2)===0&&(eo|=d),Rt===4&&rs(o,ze,ji,!1)),Vn(o))}function oP(o,l,d){if((Je&6)!==0)throw Error(n(327));var f=!d&&(l&127)===0&&(l&o.expiredLanes)===0||Hl(o,l),v=f?BV(o,l):Vm(o,l,!0),C=f;do{if(v===0){Ca&&!f&&rs(o,l,0,!1);break}else{if(d=o.current.alternate,C&&!kV(d)){v=Vm(o,l,!1),C=!1;continue}if(v===2){if(C=l,o.errorRecoveryDisabledLanes&C)var D=0;else D=o.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){l=D;e:{var L=o;v=Cu;var j=L.current.memoizedState.isDehydrated;if(j&&(wa(L,D).flags|=256),D=Vm(L,D,!1),D!==2){if(Im&&!j){L.errorRecoveryDisabledLanes|=C,eo|=C,v=4;break e}C=Ai,Ai=v,C!==null&&(Ai===null?Ai=C:Ai.push.apply(Ai,C))}v=D}if(C=!1,v!==2)continue}}if(v===1){wa(o,0),rs(o,l,0,!0);break}e:{switch(f=o,C=v,C){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:rs(f,l,ji,!es);break e;case 2:Ai=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(v=th+300-$t(),10<v)){if(rs(f,l,ji,!es),fd(f,0,!0)!==0)break e;Sr=l,f.timeoutHandle=kP(aP.bind(null,f,d,Ai,nh,_m,l,ji,eo,Sa,es,C,"Throttled",-0,0),v);break e}aP(f,d,Ai,nh,_m,l,ji,eo,Sa,es,C,null,-0,0)}}break}while(!0);Vn(o)}function aP(o,l,d,f,v,C,D,L,j,J,le,fe,te,ne){if(o.timeoutHandle=-1,fe=l.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sr},JA(l,C,fe);var be=(C&62914560)===C?th-$t():(C&4194048)===C?nP-$t():0;if(be=bj(fe,be),be!==null){Sr=C,o.cancelPendingCommit=be(gP.bind(null,o,l,C,d,f,v,D,L,j,le,fe,null,te,ne)),rs(o,C,D,!J);return}}gP(o,l,C,d,f,v,D,L,j)}function kV(o){for(var l=o;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var f=0;f<d.length;f++){var v=d[f],C=v.getSnapshot;v=v.value;try{if(!ki(C(),v))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function rs(o,l,d,f){l&=~Nm,l&=~eo,o.suspendedLanes|=l,o.pingedLanes&=~l,f&&(o.warmLanes|=l),f=o.expirationTimes;for(var v=l;0<v;){var C=31-_i(v),D=1<<C;f[C]=-1,v&=~D}d!==0&&vR(o,d,l)}function rh(){return(Je&6)===0?(bu(0),!1):!0}function Hm(){if(Be!==null){if(nt===0)var o=Be.return;else o=Be,ur=Us=null,im(o),ha=null,nu=0,o=Be;for(;o!==null;)GA(o.alternate,o),o=o.return;Be=null}}function wa(o,l){var d=o.timeoutHandle;d!==-1&&(o.timeoutHandle=-1,nj(d)),d=o.cancelPendingCommit,d!==null&&(o.cancelPendingCommit=null,d()),Sr=0,Hm(),ct=o,Be=d=ar(o.current,null),ze=l,nt=0,Vi=null,es=!1,Ca=Hl(o,l),Im=!1,Sa=ji=Nm=eo=ts=Rt=0,Ai=Cu=null,_m=!1,(l&8)!==0&&(l|=l&32);var f=o.entangledLanes;if(f!==0)for(o=o.entanglements,f&=l;0<f;){var v=31-_i(f),C=1<<v;l|=o[v],f&=~C}return Cr=l,Ed(),d}function lP(o,l){Ne=null,_.H=du,l===da||l===Ld?(l=RE(),nt=3):l===Wg?(l=RE(),nt=4):nt=l===ym?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Vi=l,Be===null&&(Rt=1,qd(o,en(l,o.current)))}function uP(){var o=Bi.current;return o===null?!0:(ze&4194048)===ze?sn===null:(ze&62914560)===ze||(ze&536870912)!==0?o===sn:!1}function cP(){var o=_.H;return _.H=du,o===null?du:o}function dP(){var o=_.A;return _.A=NV,o}function sh(){Rt=4,es||(ze&4194048)!==ze&&Bi.current!==null||(Ca=!0),(ts&134217727)===0&&(eo&134217727)===0||ct===null||rs(ct,ze,ji,!1)}function Vm(o,l,d){var f=Je;Je|=2;var v=cP(),C=dP();(ct!==o||ze!==l)&&(nh=null,wa(o,l)),l=!1;var D=Rt;e:do try{if(nt!==0&&Be!==null){var L=Be,j=Vi;switch(nt){case 8:Hm(),D=6;break e;case 3:case 2:case 9:case 6:Bi.current===null&&(l=!0);var J=nt;if(nt=0,Vi=null,xa(o,L,j,J),d&&Ca){D=0;break e}break;default:J=nt,nt=0,Vi=null,xa(o,L,j,J)}}GV(),D=Rt;break}catch(le){lP(o,le)}while(!0);return l&&o.shellSuspendCounter++,ur=Us=null,Je=f,_.H=v,_.A=C,Be===null&&(ct=null,ze=0,Ed()),D}function GV(){for(;Be!==null;)hP(Be)}function BV(o,l){var d=Je;Je|=2;var f=cP(),v=dP();ct!==o||ze!==l?(nh=null,ih=$t()+500,wa(o,l)):Ca=Hl(o,l);e:do try{if(nt!==0&&Be!==null){l=Be;var C=Vi;t:switch(nt){case 1:nt=0,Vi=null,xa(o,l,C,1);break;case 2:case 9:if(wE(C)){nt=0,Vi=null,fP(l);break}l=function(){nt!==2&&nt!==9||ct!==o||(nt=7),Vn(o)},C.then(l,l);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:wE(C)?(nt=0,Vi=null,fP(l)):(nt=0,Vi=null,xa(o,l,C,7));break;case 5:var D=null;switch(Be.tag){case 26:D=Be.memoizedState;case 5:case 27:var L=Be;if(D?ZP(D):L.stateNode.complete){nt=0,Vi=null;var j=L.sibling;if(j!==null)Be=j;else{var J=L.return;J!==null?(Be=J,oh(J)):Be=null}break t}}nt=0,Vi=null,xa(o,l,C,5);break;case 6:nt=0,Vi=null,xa(o,l,C,6);break;case 8:Hm(),Rt=6;break e;default:throw Error(n(462))}}HV();break}catch(le){lP(o,le)}while(!0);return ur=Us=null,_.H=f,_.A=v,Je=d,Be!==null?0:(ct=null,ze=0,Ed(),Rt)}function HV(){for(;Be!==null&&!Ii();)hP(Be)}function hP(o){var l=_A(o.alternate,o,Cr);o.memoizedProps=o.pendingProps,l===null?oh(o):Be=l}function fP(o){var l=o,d=l.alternate;switch(l.tag){case 15:case 0:l=MA(d,l,l.pendingProps,l.type,void 0,ze);break;case 11:l=MA(d,l,l.pendingProps,l.type.render,l.ref,ze);break;case 5:im(l);default:GA(d,l),l=Be=dE(l,Cr),l=_A(d,l,Cr)}o.memoizedProps=o.pendingProps,l===null?oh(o):Be=l}function xa(o,l,d,f){ur=Us=null,im(l),ha=null,nu=0;var v=l.return;try{if(DV(o,v,l,d,ze)){Rt=1,qd(o,en(d,o.current)),Be=null;return}}catch(C){if(v!==null)throw Be=v,C;Rt=1,qd(o,en(d,o.current)),Be=null;return}l.flags&32768?($e||f===1?o=!0:Ca||(ze&536870912)!==0?o=!1:(es=o=!0,(f===2||f===9||f===3||f===6)&&(f=Bi.current,f!==null&&f.tag===13&&(f.flags|=16384))),pP(l,o)):oh(l)}function oh(o){var l=o;do{if((l.flags&32768)!==0){pP(l,es);return}o=l.return;var d=FV(l.alternate,l,Cr);if(d!==null){Be=d;return}if(l=l.sibling,l!==null){Be=l;return}Be=l=o}while(l!==null);Rt===0&&(Rt=5)}function pP(o,l){do{var d=OV(o.alternate,o);if(d!==null){d.flags&=32767,Be=d;return}if(d=o.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(o=o.sibling,o!==null)){Be=o;return}Be=o=d}while(o!==null);Rt=6,Be=null}function gP(o,l,d,f,v,C,D,L,j){o.cancelPendingCommit=null;do ah();while(Ht!==0);if((Je&6)!==0)throw Error(n(327));if(l!==null){if(l===o.current)throw Error(n(177));if(C=l.lanes|l.childLanes,C|=Tg,CH(o,d,C,D,L,j),o===ct&&(Be=ct=null,ze=0),ba=l,ns=o,Sr=d,km=C,Gm=v,rP=f,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,WV(Wo,function(){return SP(),null})):(o.callbackNode=null,o.callbackPriority=0),f=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||f){f=_.T,_.T=null,v=U.p,U.p=2,D=Je,Je|=4;try{LV(o,l,d)}finally{Je=D,U.p=v,_.T=f}}Ht=1,mP(),vP(),yP()}}function mP(){if(Ht===1){Ht=0;var o=ns,l=ba,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=_.T,_.T=null;var f=U.p;U.p=2;var v=Je;Je|=4;try{XA(l,o);var C=Jm,D=iE(o.containerInfo),L=C.focusedElem,j=C.selectionRange;if(D!==L&&L&&L.ownerDocument&&tE(L.ownerDocument.documentElement,L)){if(j!==null&&Rg(L)){var J=j.start,le=j.end;if(le===void 0&&(le=J),"selectionStart"in L)L.selectionStart=J,L.selectionEnd=Math.min(le,L.value.length);else{var fe=L.ownerDocument||document,te=fe&&fe.defaultView||window;if(te.getSelection){var ne=te.getSelection(),be=L.textContent.length,De=Math.min(j.start,be),at=j.end===void 0?De:Math.min(j.end,be);!ne.extend&&De>at&&(D=at,at=De,De=D);var X=eE(L,De),$=eE(L,at);if(X&&$&&(ne.rangeCount!==1||ne.anchorNode!==X.node||ne.anchorOffset!==X.offset||ne.focusNode!==$.node||ne.focusOffset!==$.offset)){var Z=fe.createRange();Z.setStart(X.node,X.offset),ne.removeAllRanges(),De>at?(ne.addRange(Z),ne.extend($.node,$.offset)):(Z.setEnd($.node,$.offset),ne.addRange(Z))}}}}for(fe=[],ne=L;ne=ne.parentNode;)ne.nodeType===1&&fe.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<fe.length;L++){var he=fe[L];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Ch=!!Zm,Jm=Zm=null}finally{Je=v,U.p=f,_.T=d}}o.current=l,Ht=2}}function vP(){if(Ht===2){Ht=0;var o=ns,l=ba,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=_.T,_.T=null;var f=U.p;U.p=2;var v=Je;Je|=4;try{UA(o,l.alternate,l)}finally{Je=v,U.p=f,_.T=d}}Ht=3}}function yP(){if(Ht===4||Ht===3){Ht=0,bn();var o=ns,l=ba,d=Sr,f=rP;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Ht=5:(Ht=0,ba=ns=null,CP(o,o.pendingLanes));var v=o.pendingLanes;if(v===0&&(is=null),sg(d),l=l.stateNode,Ni&&typeof Ni.onCommitFiberRoot=="function")try{Ni.onCommitFiberRoot(Bl,l,void 0,(l.current.flags&128)===128)}catch{}if(f!==null){l=_.T,v=U.p,U.p=2,_.T=null;try{for(var C=o.onRecoverableError,D=0;D<f.length;D++){var L=f[D];C(L.value,{componentStack:L.stack})}}finally{_.T=l,U.p=v}}(Sr&3)!==0&&ah(),Vn(o),v=o.pendingLanes,(d&261930)!==0&&(v&42)!==0?o===Bm?Su++:(Su=0,Bm=o):Su=0,bu(0)}}function CP(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,tu(l)))}function ah(){return mP(),vP(),yP(),SP()}function SP(){if(Ht!==5)return!1;var o=ns,l=km;km=0;var d=sg(Sr),f=_.T,v=U.p;try{U.p=32>d?32:d,_.T=null,d=Gm,Gm=null;var C=ns,D=Sr;if(Ht=0,ba=ns=null,Sr=0,(Je&6)!==0)throw Error(n(331));var L=Je;if(Je|=4,tP(C.current),ZA(C,C.current,D,d),Je=L,bu(0,!1),Ni&&typeof Ni.onPostCommitFiberRoot=="function")try{Ni.onPostCommitFiberRoot(Bl,C)}catch{}return!0}finally{U.p=v,_.T=f,CP(o,l)}}function bP(o,l,d){l=en(d,l),l=vm(o.stateNode,l,2),o=Xr(o,l,2),o!==null&&(Vl(o,2),Vn(o))}function rt(o,l,d){if(o.tag===3)bP(o,o,d);else for(;l!==null;){if(l.tag===3){bP(l,o,d);break}else if(l.tag===1){var f=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(is===null||!is.has(f))){o=en(d,o),d=wA(2),f=Xr(l,d,2),f!==null&&(xA(d,f,l,o),Vl(f,2),Vn(f));break}}l=l.return}}function jm(o,l,d){var f=o.pingCache;if(f===null){f=o.pingCache=new _V;var v=new Set;f.set(l,v)}else v=f.get(l),v===void 0&&(v=new Set,f.set(l,v));v.has(d)||(Im=!0,v.add(d),o=VV.bind(null,o,l,d),l.then(o,o))}function VV(o,l,d){var f=o.pingCache;f!==null&&f.delete(l),o.pingedLanes|=o.suspendedLanes&d,o.warmLanes&=~d,ct===o&&(ze&d)===d&&(Rt===4||Rt===3&&(ze&62914560)===ze&&300>$t()-th?(Je&2)===0&&wa(o,0):Nm|=d,Sa===ze&&(Sa=0)),Vn(o)}function wP(o,l){l===0&&(l=mR()),o=js(o,l),o!==null&&(Vl(o,l),Vn(o))}function jV(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),wP(o,d)}function zV(o,l){var d=0;switch(o.tag){case 31:case 13:var f=o.stateNode,v=o.memoizedState;v!==null&&(d=v.retryLane);break;case 19:f=o.stateNode;break;case 22:f=o.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(l),wP(o,d)}function WV(o,l){return Bt(o,l)}var lh=null,Ra=null,zm=!1,uh=!1,Wm=!1,ss=0;function Vn(o){o!==Ra&&o.next===null&&(Ra===null?lh=Ra=o:Ra=Ra.next=o),uh=!0,zm||(zm=!0,$V())}function bu(o,l){if(!Wm&&uh){Wm=!0;do for(var d=!1,f=lh;f!==null;){if(o!==0){var v=f.pendingLanes;if(v===0)var C=0;else{var D=f.suspendedLanes,L=f.pingedLanes;C=(1<<31-_i(42|o)+1)-1,C&=v&~(D&~L),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(d=!0,AP(f,C))}else C=ze,C=fd(f,f===ct?C:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(C&3)===0||Hl(f,C)||(d=!0,AP(f,C));f=f.next}while(d);Wm=!1}}function UV(){xP()}function xP(){uh=zm=!1;var o=0;ss!==0&&ij()&&(o=ss);for(var l=$t(),d=null,f=lh;f!==null;){var v=f.next,C=RP(f,l);C===0?(f.next=null,d===null?lh=v:d.next=v,v===null&&(Ra=d)):(d=f,(o!==0||(C&3)!==0)&&(uh=!0)),f=v}Ht!==0&&Ht!==5||bu(o),ss!==0&&(ss=0)}function RP(o,l){for(var d=o.suspendedLanes,f=o.pingedLanes,v=o.expirationTimes,C=o.pendingLanes&-62914561;0<C;){var D=31-_i(C),L=1<<D,j=v[D];j===-1?((L&d)===0||(L&f)!==0)&&(v[D]=yH(L,l)):j<=l&&(o.expiredLanes|=L),C&=~L}if(l=ct,d=ze,d=fd(o,o===l?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f=o.callbackNode,d===0||o===l&&(nt===2||nt===9)||o.cancelPendingCommit!==null)return f!==null&&f!==null&&oi(f),o.callbackNode=null,o.callbackPriority=0;if((d&3)===0||Hl(o,d)){if(l=d&-d,l===o.callbackPriority)return l;switch(f!==null&&oi(f),sg(d)){case 2:case 8:d=ai;break;case 32:d=Wo;break;case 268435456:d=gR;break;default:d=Wo}return f=EP.bind(null,o),d=Bt(d,f),o.callbackPriority=l,o.callbackNode=d,l}return f!==null&&f!==null&&oi(f),o.callbackPriority=2,o.callbackNode=null,2}function EP(o,l){if(Ht!==0&&Ht!==5)return o.callbackNode=null,o.callbackPriority=0,null;var d=o.callbackNode;if(ah()&&o.callbackNode!==d)return null;var f=ze;return f=fd(o,o===ct?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),f===0?null:(oP(o,f,l),RP(o,$t()),o.callbackNode!=null&&o.callbackNode===d?EP.bind(null,o):null)}function AP(o,l){if(ah())return null;oP(o,l,!0)}function $V(){rj(function(){(Je&6)!==0?Bt(yt,UV):xP()})}function Um(){if(ss===0){var o=ua;o===0&&(o=cd,cd<<=1,(cd&261888)===0&&(cd=256)),ss=o}return ss}function PP(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:vd(""+o)}function DP(o,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,o.id&&d.setAttribute("form",o.id),l.parentNode.insertBefore(d,l),o=new FormData(o),d.parentNode.removeChild(d),o}function qV(o,l,d,f,v){if(l==="submit"&&d&&d.stateNode===v){var C=PP((v[bi]||null).action),D=f.submitter;D&&(l=(l=D[bi]||null)?PP(l.formAction):D.getAttribute("formAction"),l!==null&&(C=l,D=null));var L=new bd("action","action",null,f,v);o.push({event:L,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ss!==0){var j=D?DP(v,D):new FormData(v);dm(d,{pending:!0,data:j,method:v.method,action:C},null,j)}}else typeof C=="function"&&(L.preventDefault(),j=D?DP(v,D):new FormData(v),dm(d,{pending:!0,data:j,method:v.method,action:C},C,j))},currentTarget:v}]})}}for(var $m=0;$m<Dg.length;$m++){var qm=Dg[$m],KV=qm.toLowerCase(),YV=qm[0].toUpperCase()+qm.slice(1);wn(KV,"on"+YV)}wn(sE,"onAnimationEnd"),wn(oE,"onAnimationIteration"),wn(aE,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(dV,"onTransitionRun"),wn(hV,"onTransitionStart"),wn(fV,"onTransitionCancel"),wn(lE,"onTransitionEnd"),Yo("onMouseEnter",["mouseout","mouseover"]),Yo("onMouseLeave",["mouseout","mouseover"]),Yo("onPointerEnter",["pointerout","pointerover"]),Yo("onPointerLeave",["pointerout","pointerover"]),Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wu));function TP(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var f=o[d],v=f.event;f=f.listeners;e:{var C=void 0;if(l)for(var D=f.length-1;0<=D;D--){var L=f[D],j=L.instance,J=L.currentTarget;if(L=L.listener,j!==C&&v.isPropagationStopped())break e;C=L,v.currentTarget=J;try{C(v)}catch(le){Rd(le)}v.currentTarget=null,C=j}else for(D=0;D<f.length;D++){if(L=f[D],j=L.instance,J=L.currentTarget,L=L.listener,j!==C&&v.isPropagationStopped())break e;C=L,v.currentTarget=J;try{C(v)}catch(le){Rd(le)}v.currentTarget=null,C=j}}}}function He(o,l){var d=l[og];d===void 0&&(d=l[og]=new Set);var f=o+"__bubble";d.has(f)||(MP(l,o,2,!1),d.add(f))}function Km(o,l,d){var f=0;l&&(f|=4),MP(d,o,f,l)}var ch="_reactListening"+Math.random().toString(36).slice(2);function Ym(o){if(!o[ch]){o[ch]=!0,xR.forEach(function(d){d!=="selectionchange"&&(XV.has(d)||Km(d,!1,o),Km(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[ch]||(l[ch]=!0,Km("selectionchange",!1,l))}}function MP(o,l,d,f){switch(sD(l)){case 2:var v=Rj;break;case 8:v=Ej;break;default:v=cv}d=v.bind(null,l,d,o),v=void 0,!gg||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),f?v!==void 0?o.addEventListener(l,d,{capture:!0,passive:v}):o.addEventListener(l,d,!0):v!==void 0?o.addEventListener(l,d,{passive:v}):o.addEventListener(l,d,!1)}function Xm(o,l,d,f,v){var C=f;if((l&1)===0&&(l&2)===0&&f!==null)e:for(;;){if(f===null)return;var D=f.tag;if(D===3||D===4){var L=f.stateNode.containerInfo;if(L===v)break;if(D===4)for(D=f.return;D!==null;){var j=D.tag;if((j===3||j===4)&&D.stateNode.containerInfo===v)return;D=D.return}for(;L!==null;){if(D=$o(L),D===null)return;if(j=D.tag,j===5||j===6||j===26||j===27){f=C=D;continue e}L=L.parentNode}}f=f.return}NR(function(){var J=C,le=fg(d),fe=[];e:{var te=uE.get(o);if(te!==void 0){var ne=bd,be=o;switch(o){case"keypress":if(Cd(d)===0)break e;case"keydown":case"keyup":ne=zH;break;case"focusin":be="focus",ne=Cg;break;case"focusout":be="blur",ne=Cg;break;case"beforeblur":case"afterblur":ne=Cg;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=GR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=FH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=$H;break;case sE:case oE:case aE:ne=IH;break;case lE:ne=KH;break;case"scroll":case"scrollend":ne=TH;break;case"wheel":ne=XH;break;case"copy":case"cut":case"paste":ne=_H;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=HR;break;case"toggle":case"beforetoggle":ne=ZH}var De=(l&4)!==0,at=!De&&(o==="scroll"||o==="scrollend"),X=De?te!==null?te+"Capture":null:te;De=[];for(var $=J,Z;$!==null;){var he=$;if(Z=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Z===null||X===null||(he=Wl($,X),he!=null&&De.push(xu($,he,Z))),at)break;$=$.return}0<De.length&&(te=new ne(te,be,null,d,le),fe.push({event:te,listeners:De}))}}if((l&7)===0){e:{if(te=o==="mouseover"||o==="pointerover",ne=o==="mouseout"||o==="pointerout",te&&d!==hg&&(be=d.relatedTarget||d.fromElement)&&($o(be)||be[Uo]))break e;if((ne||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(be=d.relatedTarget||d.toElement,ne=J,be=be?$o(be):null,be!==null&&(at=s(be),De=be.tag,be!==at||De!==5&&De!==27&&De!==6)&&(be=null)):(ne=null,be=J),ne!==be)){if(De=GR,he="onMouseLeave",X="onMouseEnter",$="mouse",(o==="pointerout"||o==="pointerover")&&(De=HR,he="onPointerLeave",X="onPointerEnter",$="pointer"),at=ne==null?te:zl(ne),Z=be==null?te:zl(be),te=new De(he,$+"leave",ne,d,le),te.target=at,te.relatedTarget=Z,he=null,$o(le)===J&&(De=new De(X,$+"enter",be,d,le),De.target=Z,De.relatedTarget=at,he=De),at=he,ne&&be)t:{for(De=QV,X=ne,$=be,Z=0,he=X;he;he=De(he))Z++;he=0;for(var Ee=$;Ee;Ee=De(Ee))he++;for(;0<Z-he;)X=De(X),Z--;for(;0<he-Z;)$=De($),he--;for(;Z--;){if(X===$||$!==null&&X===$.alternate){De=X;break t}X=De(X),$=De($)}De=null}else De=null;ne!==null&&FP(fe,te,ne,De,!1),be!==null&&at!==null&&FP(fe,at,be,De,!0)}}e:{if(te=J?zl(J):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Ke=KR;else if($R(te))if(YR)Ke=lV;else{Ke=oV;var we=sV}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&dg(J.elementType)&&(Ke=KR):Ke=aV;if(Ke&&(Ke=Ke(o,J))){qR(fe,Ke,d,le);break e}we&&we(o,te,J),o==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&cg(te,"number",te.value)}switch(we=J?zl(J):window,o){case"focusin":($R(we)||we.contentEditable==="true")&&(ta=we,Eg=J,Zl=null);break;case"focusout":Zl=Eg=ta=null;break;case"mousedown":Ag=!0;break;case"contextmenu":case"mouseup":case"dragend":Ag=!1,nE(fe,d,le);break;case"selectionchange":if(cV)break;case"keydown":case"keyup":nE(fe,d,le)}var ke;if(bg)e:{switch(o){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else ea?WR(o,d)&&(We="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(We="onCompositionStart");We&&(VR&&d.locale!=="ko"&&(ea||We!=="onCompositionStart"?We==="onCompositionEnd"&&ea&&(ke=_R()):(zr=le,mg="value"in zr?zr.value:zr.textContent,ea=!0)),we=dh(J,We),0<we.length&&(We=new BR(We,o,null,d,le),fe.push({event:We,listeners:we}),ke?We.data=ke:(ke=UR(d),ke!==null&&(We.data=ke)))),(ke=eV?tV(o,d):iV(o,d))&&(We=dh(J,"onBeforeInput"),0<We.length&&(we=new BR("onBeforeInput","beforeinput",null,d,le),fe.push({event:we,listeners:We}),we.data=ke)),qV(fe,o,J,d,le)}TP(fe,l)})}function xu(o,l,d){return{instance:o,listener:l,currentTarget:d}}function dh(o,l){for(var d=l+"Capture",f=[];o!==null;){var v=o,C=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||C===null||(v=Wl(o,d),v!=null&&f.unshift(xu(o,v,C)),v=Wl(o,l),v!=null&&f.push(xu(o,v,C))),o.tag===3)return f;o=o.return}return[]}function QV(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function FP(o,l,d,f,v){for(var C=l._reactName,D=[];d!==null&&d!==f;){var L=d,j=L.alternate,J=L.stateNode;if(L=L.tag,j!==null&&j===f)break;L!==5&&L!==26&&L!==27||J===null||(j=J,v?(J=Wl(d,C),J!=null&&D.unshift(xu(d,J,j))):v||(J=Wl(d,C),J!=null&&D.push(xu(d,J,j)))),d=d.return}D.length!==0&&o.push({event:l,listeners:D})}var ZV=/\r\n?/g,JV=/\u0000|\uFFFD/g;function OP(o){return(typeof o=="string"?o:""+o).replace(ZV,`
`).replace(JV,"")}function LP(o,l){return l=OP(l),OP(o)===l}function ot(o,l,d,f,v,C){switch(d){case"children":typeof f=="string"?l==="body"||l==="textarea"&&f===""||Qo(o,f):(typeof f=="number"||typeof f=="bigint")&&l!=="body"&&Qo(o,""+f);break;case"className":gd(o,"class",f);break;case"tabIndex":gd(o,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":gd(o,d,f);break;case"style":LR(o,f,C);break;case"data":if(l!=="object"){gd(o,"data",f);break}case"src":case"href":if(f===""&&(l!=="a"||d!=="href")){o.removeAttribute(d);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(d);break}f=vd(""+f),o.setAttribute(d,f);break;case"action":case"formAction":if(typeof f=="function"){o.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(d==="formAction"?(l!=="input"&&ot(o,l,"name",v.name,v,null),ot(o,l,"formEncType",v.formEncType,v,null),ot(o,l,"formMethod",v.formMethod,v,null),ot(o,l,"formTarget",v.formTarget,v,null)):(ot(o,l,"encType",v.encType,v,null),ot(o,l,"method",v.method,v,null),ot(o,l,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){o.removeAttribute(d);break}f=vd(""+f),o.setAttribute(d,f);break;case"onClick":f!=null&&(o.onclick=sr);break;case"onScroll":f!=null&&He("scroll",o);break;case"onScrollEnd":f!=null&&He("scrollend",o);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(d=f.__html,d!=null){if(v.children!=null)throw Error(n(60));o.innerHTML=d}}break;case"multiple":o.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":o.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){o.removeAttribute("xlink:href");break}d=vd(""+f),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(d,""+f):o.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(d,""):o.removeAttribute(d);break;case"capture":case"download":f===!0?o.setAttribute(d,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?o.setAttribute(d,f):o.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?o.setAttribute(d,f):o.removeAttribute(d);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?o.removeAttribute(d):o.setAttribute(d,f);break;case"popover":He("beforetoggle",o),He("toggle",o),pd(o,"popover",f);break;case"xlinkActuate":rr(o,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":rr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":rr(o,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":rr(o,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":rr(o,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":rr(o,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":rr(o,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":rr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":rr(o,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":pd(o,"is",f);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=PH.get(d)||d,pd(o,d,f))}}function Qm(o,l,d,f,v,C){switch(d){case"style":LR(o,f,C);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(d=f.__html,d!=null){if(v.children!=null)throw Error(n(60));o.innerHTML=d}}break;case"children":typeof f=="string"?Qo(o,f):(typeof f=="number"||typeof f=="bigint")&&Qo(o,""+f);break;case"onScroll":f!=null&&He("scroll",o);break;case"onScrollEnd":f!=null&&He("scrollend",o);break;case"onClick":f!=null&&(o.onclick=sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!RR.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(v=d.endsWith("Capture"),l=d.slice(2,v?d.length-7:void 0),C=o[bi]||null,C=C!=null?C[d]:null,typeof C=="function"&&o.removeEventListener(l,C,v),typeof f=="function")){typeof C!="function"&&C!==null&&(d in o?o[d]=null:o.hasAttribute(d)&&o.removeAttribute(d)),o.addEventListener(l,f,v);break e}d in o?o[d]=f:f===!0?o.setAttribute(d,""):pd(o,d,f)}}}function ti(o,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",o),He("load",o);var f=!1,v=!1,C;for(C in d)if(d.hasOwnProperty(C)){var D=d[C];if(D!=null)switch(C){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:ot(o,l,C,D,d,null)}}v&&ot(o,l,"srcSet",d.srcSet,d,null),f&&ot(o,l,"src",d.src,d,null);return;case"input":He("invalid",o);var L=C=D=v=null,j=null,J=null;for(f in d)if(d.hasOwnProperty(f)){var le=d[f];if(le!=null)switch(f){case"name":v=le;break;case"type":D=le;break;case"checked":j=le;break;case"defaultChecked":J=le;break;case"value":C=le;break;case"defaultValue":L=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(n(137,l));break;default:ot(o,l,f,le,d,null)}}TR(o,C,L,j,J,D,v,!1);return;case"select":He("invalid",o),f=D=C=null;for(v in d)if(d.hasOwnProperty(v)&&(L=d[v],L!=null))switch(v){case"value":C=L;break;case"defaultValue":D=L;break;case"multiple":f=L;default:ot(o,l,v,L,d,null)}l=C,d=D,o.multiple=!!f,l!=null?Xo(o,!!f,l,!1):d!=null&&Xo(o,!!f,d,!0);return;case"textarea":He("invalid",o),C=v=f=null;for(D in d)if(d.hasOwnProperty(D)&&(L=d[D],L!=null))switch(D){case"value":f=L;break;case"defaultValue":v=L;break;case"children":C=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(n(91));break;default:ot(o,l,D,L,d,null)}FR(o,f,v,C);return;case"option":for(j in d)if(d.hasOwnProperty(j)&&(f=d[j],f!=null))switch(j){case"selected":o.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ot(o,l,j,f,d,null)}return;case"dialog":He("beforetoggle",o),He("toggle",o),He("cancel",o),He("close",o);break;case"iframe":case"object":He("load",o);break;case"video":case"audio":for(f=0;f<wu.length;f++)He(wu[f],o);break;case"image":He("error",o),He("load",o);break;case"details":He("toggle",o);break;case"embed":case"source":case"link":He("error",o),He("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in d)if(d.hasOwnProperty(J)&&(f=d[J],f!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:ot(o,l,J,f,d,null)}return;default:if(dg(l)){for(le in d)d.hasOwnProperty(le)&&(f=d[le],f!==void 0&&Qm(o,l,le,f,d,void 0));return}}for(L in d)d.hasOwnProperty(L)&&(f=d[L],f!=null&&ot(o,l,L,f,d,null))}function ej(o,l,d,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,C=null,D=null,L=null,j=null,J=null,le=null;for(ne in d){var fe=d[ne];if(d.hasOwnProperty(ne)&&fe!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":j=fe;default:f.hasOwnProperty(ne)||ot(o,l,ne,null,f,fe)}}for(var te in f){var ne=f[te];if(fe=d[te],f.hasOwnProperty(te)&&(ne!=null||fe!=null))switch(te){case"type":C=ne;break;case"name":v=ne;break;case"checked":J=ne;break;case"defaultChecked":le=ne;break;case"value":D=ne;break;case"defaultValue":L=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(n(137,l));break;default:ne!==fe&&ot(o,l,te,ne,f,fe)}}ug(o,D,L,j,J,le,C,v);return;case"select":ne=D=L=te=null;for(C in d)if(j=d[C],d.hasOwnProperty(C)&&j!=null)switch(C){case"value":break;case"multiple":ne=j;default:f.hasOwnProperty(C)||ot(o,l,C,null,f,j)}for(v in f)if(C=f[v],j=d[v],f.hasOwnProperty(v)&&(C!=null||j!=null))switch(v){case"value":te=C;break;case"defaultValue":L=C;break;case"multiple":D=C;default:C!==j&&ot(o,l,v,C,f,j)}l=L,d=D,f=ne,te!=null?Xo(o,!!d,te,!1):!!f!=!!d&&(l!=null?Xo(o,!!d,l,!0):Xo(o,!!d,d?[]:"",!1));return;case"textarea":ne=te=null;for(L in d)if(v=d[L],d.hasOwnProperty(L)&&v!=null&&!f.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:ot(o,l,L,null,f,v)}for(D in f)if(v=f[D],C=d[D],f.hasOwnProperty(D)&&(v!=null||C!=null))switch(D){case"value":te=v;break;case"defaultValue":ne=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(n(91));break;default:v!==C&&ot(o,l,D,v,f,C)}MR(o,te,ne);return;case"option":for(var be in d)if(te=d[be],d.hasOwnProperty(be)&&te!=null&&!f.hasOwnProperty(be))switch(be){case"selected":o.selected=!1;break;default:ot(o,l,be,null,f,te)}for(j in f)if(te=f[j],ne=d[j],f.hasOwnProperty(j)&&te!==ne&&(te!=null||ne!=null))switch(j){case"selected":o.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:ot(o,l,j,te,f,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in d)te=d[De],d.hasOwnProperty(De)&&te!=null&&!f.hasOwnProperty(De)&&ot(o,l,De,null,f,te);for(J in f)if(te=f[J],ne=d[J],f.hasOwnProperty(J)&&te!==ne&&(te!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(n(137,l));break;default:ot(o,l,J,te,f,ne)}return;default:if(dg(l)){for(var at in d)te=d[at],d.hasOwnProperty(at)&&te!==void 0&&!f.hasOwnProperty(at)&&Qm(o,l,at,void 0,f,te);for(le in f)te=f[le],ne=d[le],!f.hasOwnProperty(le)||te===ne||te===void 0&&ne===void 0||Qm(o,l,le,te,f,ne);return}}for(var X in d)te=d[X],d.hasOwnProperty(X)&&te!=null&&!f.hasOwnProperty(X)&&ot(o,l,X,null,f,te);for(fe in f)te=f[fe],ne=d[fe],!f.hasOwnProperty(fe)||te===ne||te==null&&ne==null||ot(o,l,fe,te,f,ne)}function IP(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tj(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,d=performance.getEntriesByType("resource"),f=0;f<d.length;f++){var v=d[f],C=v.transferSize,D=v.initiatorType,L=v.duration;if(C&&L&&IP(D)){for(D=0,L=v.responseEnd,f+=1;f<d.length;f++){var j=d[f],J=j.startTime;if(J>L)break;var le=j.transferSize,fe=j.initiatorType;le&&IP(fe)&&(j=j.responseEnd,D+=le*(j<L?1:(L-J)/(j-J)))}if(--f,l+=8*(C+D)/(v.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Zm=null,Jm=null;function hh(o){return o.nodeType===9?o:o.ownerDocument}function NP(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _P(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function ev(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var tv=null;function ij(){var o=window.event;return o&&o.type==="popstate"?o===tv?!1:(tv=o,!0):(tv=null,!1)}var kP=typeof setTimeout=="function"?setTimeout:void 0,nj=typeof clearTimeout=="function"?clearTimeout:void 0,GP=typeof Promise=="function"?Promise:void 0,rj=typeof queueMicrotask=="function"?queueMicrotask:typeof GP<"u"?function(o){return GP.resolve(null).then(o).catch(sj)}:kP;function sj(o){setTimeout(function(){throw o})}function os(o){return o==="head"}function BP(o,l){var d=l,f=0;do{var v=d.nextSibling;if(o.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"||d==="/&"){if(f===0){o.removeChild(v),Da(l);return}f--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")f++;else if(d==="html")Ru(o.ownerDocument.documentElement);else if(d==="head"){d=o.ownerDocument.head,Ru(d);for(var C=d.firstChild;C;){var D=C.nextSibling,L=C.nodeName;C[jl]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&C.rel.toLowerCase()==="stylesheet"||d.removeChild(C),C=D}}else d==="body"&&Ru(o.ownerDocument.body);d=v}while(d);Da(l)}function HP(o,l){var d=o;o=0;do{var f=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),f&&f.nodeType===8)if(d=f.data,d==="/$"){if(o===0)break;o--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||o++;d=f}while(d)}function iv(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":iv(d),ag(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}o.removeChild(d)}}function oj(o,l,d,f){for(;o.nodeType===1;){var v=d;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!f&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(f){if(!o[jl])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(C=o.getAttribute("rel"),C==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(C!==v.rel||o.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(C=o.getAttribute("src"),(C!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&C&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var C=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===C)return o}else return o;if(o=on(o.nextSibling),o===null)break}return null}function aj(o,l,d){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!d||(o=on(o.nextSibling),o===null))return null;return o}function VP(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=on(o.nextSibling),o===null))return null;return o}function nv(o){return o.data==="$?"||o.data==="$~"}function rv(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function lj(o,l){var d=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||d.readyState!=="loading")l();else{var f=function(){l(),d.removeEventListener("DOMContentLoaded",f)};d.addEventListener("DOMContentLoaded",f),o._reactRetry=f}}function on(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var sv=null;function jP(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"||d==="/&"){if(l===0)return on(o.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}o=o.nextSibling}return null}function zP(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return o;l--}else d!=="/$"&&d!=="/&"||l++}o=o.previousSibling}return null}function WP(o,l,d){switch(l=hh(d),o){case"html":if(o=l.documentElement,!o)throw Error(n(452));return o;case"head":if(o=l.head,!o)throw Error(n(453));return o;case"body":if(o=l.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function Ru(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);ag(o)}var an=new Map,UP=new Set;function fh(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var br=U.d;U.d={f:uj,r:cj,D:dj,C:hj,L:fj,m:pj,X:mj,S:gj,M:vj};function uj(){var o=br.f(),l=rh();return o||l}function cj(o){var l=qo(o);l!==null&&l.tag===5&&l.type==="form"?lA(l):br.r(o)}var Ea=typeof document>"u"?null:document;function $P(o,l,d){var f=Ea;if(f&&typeof l=="string"&&l){var v=Zi(l);v='link[rel="'+o+'"][href="'+v+'"]',typeof d=="string"&&(v+='[crossorigin="'+d+'"]'),UP.has(v)||(UP.add(v),o={rel:o,crossOrigin:d,href:l},f.querySelector(v)===null&&(l=f.createElement("link"),ti(l,"link",o),qt(l),f.head.appendChild(l)))}}function dj(o){br.D(o),$P("dns-prefetch",o,null)}function hj(o,l){br.C(o,l),$P("preconnect",o,l)}function fj(o,l,d){br.L(o,l,d);var f=Ea;if(f&&o&&l){var v='link[rel="preload"][as="'+Zi(l)+'"]';l==="image"&&d&&d.imageSrcSet?(v+='[imagesrcset="'+Zi(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(v+='[imagesizes="'+Zi(d.imageSizes)+'"]')):v+='[href="'+Zi(o)+'"]';var C=v;switch(l){case"style":C=Aa(o);break;case"script":C=Pa(o)}an.has(C)||(o=g({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:o,as:l},d),an.set(C,o),f.querySelector(v)!==null||l==="style"&&f.querySelector(Eu(C))||l==="script"&&f.querySelector(Au(C))||(l=f.createElement("link"),ti(l,"link",o),qt(l),f.head.appendChild(l)))}}function pj(o,l){br.m(o,l);var d=Ea;if(d&&o){var f=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+Zi(f)+'"][href="'+Zi(o)+'"]',C=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Pa(o)}if(!an.has(C)&&(o=g({rel:"modulepreload",href:o},l),an.set(C,o),d.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Au(C)))return}f=d.createElement("link"),ti(f,"link",o),qt(f),d.head.appendChild(f)}}}function gj(o,l,d){br.S(o,l,d);var f=Ea;if(f&&o){var v=Ko(f).hoistableStyles,C=Aa(o);l=l||"default";var D=v.get(C);if(!D){var L={loading:0,preload:null};if(D=f.querySelector(Eu(C)))L.loading=5;else{o=g({rel:"stylesheet",href:o,"data-precedence":l},d),(d=an.get(C))&&ov(o,d);var j=D=f.createElement("link");qt(j),ti(j,"link",o),j._p=new Promise(function(J,le){j.onload=J,j.onerror=le}),j.addEventListener("load",function(){L.loading|=1}),j.addEventListener("error",function(){L.loading|=2}),L.loading|=4,ph(D,l,f)}D={type:"stylesheet",instance:D,count:1,state:L},v.set(C,D)}}}function mj(o,l){br.X(o,l);var d=Ea;if(d&&o){var f=Ko(d).hoistableScripts,v=Pa(o),C=f.get(v);C||(C=d.querySelector(Au(v)),C||(o=g({src:o,async:!0},l),(l=an.get(v))&&av(o,l),C=d.createElement("script"),qt(C),ti(C,"link",o),d.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},f.set(v,C))}}function vj(o,l){br.M(o,l);var d=Ea;if(d&&o){var f=Ko(d).hoistableScripts,v=Pa(o),C=f.get(v);C||(C=d.querySelector(Au(v)),C||(o=g({src:o,async:!0,type:"module"},l),(l=an.get(v))&&av(o,l),C=d.createElement("script"),qt(C),ti(C,"link",o),d.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},f.set(v,C))}}function qP(o,l,d,f){var v=(v=ye.current)?fh(v):null;if(!v)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Aa(d.href),d=Ko(v).hoistableStyles,f=d.get(l),f||(f={type:"style",instance:null,count:0,state:null},d.set(l,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){o=Aa(d.href);var C=Ko(v).hoistableStyles,D=C.get(o);if(D||(v=v.ownerDocument||v,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(o,D),(C=v.querySelector(Eu(o)))&&!C._p&&(D.instance=C,D.state.loading=5),an.has(o)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},an.set(o,d),C||yj(v,o,d,D.state))),l&&f===null)throw Error(n(528,""));return D}if(l&&f!==null)throw Error(n(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Pa(d),d=Ko(v).hoistableScripts,f=d.get(l),f||(f={type:"script",instance:null,count:0,state:null},d.set(l,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function Aa(o){return'href="'+Zi(o)+'"'}function Eu(o){return'link[rel="stylesheet"]['+o+"]"}function KP(o){return g({},o,{"data-precedence":o.precedence,precedence:null})}function yj(o,l,d,f){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?f.loading=1:(l=o.createElement("link"),f.preload=l,l.addEventListener("load",function(){return f.loading|=1}),l.addEventListener("error",function(){return f.loading|=2}),ti(l,"link",d),qt(l),o.head.appendChild(l))}function Pa(o){return'[src="'+Zi(o)+'"]'}function Au(o){return"script[async]"+o}function YP(o,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var f=o.querySelector('style[data-href~="'+Zi(d.href)+'"]');if(f)return l.instance=f,qt(f),f;var v=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return f=(o.ownerDocument||o).createElement("style"),qt(f),ti(f,"style",v),ph(f,d.precedence,o),l.instance=f;case"stylesheet":v=Aa(d.href);var C=o.querySelector(Eu(v));if(C)return l.state.loading|=4,l.instance=C,qt(C),C;f=KP(d),(v=an.get(v))&&ov(f,v),C=(o.ownerDocument||o).createElement("link"),qt(C);var D=C;return D._p=new Promise(function(L,j){D.onload=L,D.onerror=j}),ti(C,"link",f),l.state.loading|=4,ph(C,d.precedence,o),l.instance=C;case"script":return C=Pa(d.src),(v=o.querySelector(Au(C)))?(l.instance=v,qt(v),v):(f=d,(v=an.get(C))&&(f=g({},d),av(f,v)),o=o.ownerDocument||o,v=o.createElement("script"),qt(v),ti(v,"link",f),o.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(f=l.instance,l.state.loading|=4,ph(f,d.precedence,o));return l.instance}function ph(o,l,d){for(var f=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,C=v,D=0;D<f.length;D++){var L=f[D];if(L.dataset.precedence===l)C=L;else if(C!==v)break}C?C.parentNode.insertBefore(o,C.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(o,l.firstChild))}function ov(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function av(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var gh=null;function XP(o,l,d){if(gh===null){var f=new Map,v=gh=new Map;v.set(d,f)}else v=gh,f=v.get(d),f||(f=new Map,v.set(d,f));if(f.has(o))return f;for(f.set(o,null),d=d.getElementsByTagName(o),v=0;v<d.length;v++){var C=d[v];if(!(C[jl]||C[Qt]||o==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var D=C.getAttribute(l)||"";D=o+D;var L=f.get(D);L?L.push(C):f.set(D,[C])}}return f}function QP(o,l,d){o=o.ownerDocument||o,o.head.insertBefore(d,l==="title"?o.querySelector("head > title"):null)}function Cj(o,l,d){if(d===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function ZP(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function Sj(o,l,d,f){if(d.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var v=Aa(f.href),C=l.querySelector(Eu(v));if(C){l=C._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=mh.bind(o),l.then(o,o)),d.state.loading|=4,d.instance=C,qt(C);return}C=l.ownerDocument||l,f=KP(f),(v=an.get(v))&&ov(f,v),C=C.createElement("link"),qt(C);var D=C;D._p=new Promise(function(L,j){D.onload=L,D.onerror=j}),ti(C,"link",f),d.instance=C}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(o.count++,d=mh.bind(o),l.addEventListener("load",d),l.addEventListener("error",d))}}var lv=0;function bj(o,l){return o.stylesheets&&o.count===0&&yh(o,o.stylesheets),0<o.count||0<o.imgCount?function(d){var f=setTimeout(function(){if(o.stylesheets&&yh(o,o.stylesheets),o.unsuspend){var C=o.unsuspend;o.unsuspend=null,C()}},6e4+l);0<o.imgBytes&&lv===0&&(lv=62500*tj());var v=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&yh(o,o.stylesheets),o.unsuspend)){var C=o.unsuspend;o.unsuspend=null,C()}},(o.imgBytes>lv?50:800)+l);return o.unsuspend=d,function(){o.unsuspend=null,clearTimeout(f),clearTimeout(v)}}:null}function mh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yh(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var vh=null;function yh(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,vh=new Map,l.forEach(wj,o),vh=null,mh.call(o))}function wj(o,l){if(!(l.state.loading&4)){var d=vh.get(o);if(d)var f=d.get(null);else{d=new Map,vh.set(o,d);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<v.length;C++){var D=v[C];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(d.set(D.dataset.precedence,D),f=D)}f&&d.set(null,f)}v=l.instance,D=v.getAttribute("data-precedence"),C=d.get(D)||f,C===f&&d.set(null,v),d.set(D,v),this.count++,f=mh.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),C?C.parentNode.insertBefore(v,C.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),l.state.loading|=4}}var Pu={$$typeof:R,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function xj(o,l,d,f,v,C,D,L,j){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ng(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ng(0),this.hiddenUpdates=ng(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=C,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function JP(o,l,d,f,v,C,D,L,j,J,le,fe){return o=new xj(o,l,d,D,j,J,le,fe,L),l=1,C===!0&&(l|=24),C=Gi(3,null,null,l),o.current=C,C.stateNode=o,l=Vg(),l.refCount++,o.pooledCache=l,l.refCount++,C.memoizedState={element:f,isDehydrated:d,cache:l},Ug(C),o}function eD(o){return o?(o=ra,o):ra}function tD(o,l,d,f,v,C){v=eD(v),f.context===null?f.context=v:f.pendingContext=v,f=Yr(l),f.payload={element:d},C=C===void 0?null:C,C!==null&&(f.callback=C),d=Xr(o,f,l),d!==null&&(Pi(d,o,l),su(d,o,l))}function iD(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function uv(o,l){iD(o,l),(o=o.alternate)&&iD(o,l)}function nD(o){if(o.tag===13||o.tag===31){var l=js(o,67108864);l!==null&&Pi(l,o,67108864),uv(o,67108864)}}function rD(o){if(o.tag===13||o.tag===31){var l=zi();l=rg(l);var d=js(o,l);d!==null&&Pi(d,o,l),uv(o,l)}}var Ch=!0;function Rj(o,l,d,f){var v=_.T;_.T=null;var C=U.p;try{U.p=2,cv(o,l,d,f)}finally{U.p=C,_.T=v}}function Ej(o,l,d,f){var v=_.T;_.T=null;var C=U.p;try{U.p=8,cv(o,l,d,f)}finally{U.p=C,_.T=v}}function cv(o,l,d,f){if(Ch){var v=dv(f);if(v===null)Xm(o,l,f,Sh,d),oD(o,f);else if(Pj(v,o,l,d,f))f.stopPropagation();else if(oD(o,f),l&4&&-1<Aj.indexOf(o)){for(;v!==null;){var C=qo(v);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var D=ks(C.pendingLanes);if(D!==0){var L=C;for(L.pendingLanes|=2,L.entangledLanes|=2;D;){var j=1<<31-_i(D);L.entanglements[1]|=j,D&=~j}Vn(C),(Je&6)===0&&(ih=$t()+500,bu(0))}}break;case 31:case 13:L=js(C,2),L!==null&&Pi(L,C,2),rh(),uv(C,2)}if(C=dv(f),C===null&&Xm(o,l,f,Sh,d),C===v)break;v=C}v!==null&&f.stopPropagation()}else Xm(o,l,f,null,d)}}function dv(o){return o=fg(o),hv(o)}var Sh=null;function hv(o){if(Sh=null,o=$o(o),o!==null){var l=s(o);if(l===null)o=null;else{var d=l.tag;if(d===13){if(o=a(l),o!==null)return o;o=null}else if(d===31){if(o=u(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return Sh=o,null}function sD(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_s()){case yt:return 2;case ai:return 8;case Wo:case hH:return 32;case gR:return 268435456;default:return 32}default:return 32}}var fv=!1,as=null,ls=null,us=null,Du=new Map,Tu=new Map,cs=[],Aj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oD(o,l){switch(o){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":Du.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tu.delete(l.pointerId)}}function Mu(o,l,d,f,v,C){return o===null||o.nativeEvent!==C?(o={blockedOn:l,domEventName:d,eventSystemFlags:f,nativeEvent:C,targetContainers:[v]},l!==null&&(l=qo(l),l!==null&&nD(l)),o):(o.eventSystemFlags|=f,l=o.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),o)}function Pj(o,l,d,f,v){switch(l){case"focusin":return as=Mu(as,o,l,d,f,v),!0;case"dragenter":return ls=Mu(ls,o,l,d,f,v),!0;case"mouseover":return us=Mu(us,o,l,d,f,v),!0;case"pointerover":var C=v.pointerId;return Du.set(C,Mu(Du.get(C)||null,o,l,d,f,v)),!0;case"gotpointercapture":return C=v.pointerId,Tu.set(C,Mu(Tu.get(C)||null,o,l,d,f,v)),!0}return!1}function aD(o){var l=$o(o.target);if(l!==null){var d=s(l);if(d!==null){if(l=d.tag,l===13){if(l=a(d),l!==null){o.blockedOn=l,bR(o.priority,function(){rD(d)});return}}else if(l===31){if(l=u(d),l!==null){o.blockedOn=l,bR(o.priority,function(){rD(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function bh(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=dv(o.nativeEvent);if(d===null){d=o.nativeEvent;var f=new d.constructor(d.type,d);hg=f,d.target.dispatchEvent(f),hg=null}else return l=qo(d),l!==null&&nD(l),o.blockedOn=d,!1;l.shift()}return!0}function lD(o,l,d){bh(o)&&d.delete(l)}function Dj(){fv=!1,as!==null&&bh(as)&&(as=null),ls!==null&&bh(ls)&&(ls=null),us!==null&&bh(us)&&(us=null),Du.forEach(lD),Tu.forEach(lD)}function wh(o,l){o.blockedOn===l&&(o.blockedOn=null,fv||(fv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Dj)))}var xh=null;function uD(o){xh!==o&&(xh=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){xh===o&&(xh=null);for(var l=0;l<o.length;l+=3){var d=o[l],f=o[l+1],v=o[l+2];if(typeof f!="function"){if(hv(f||d)===null)continue;break}var C=qo(d);C!==null&&(o.splice(l,3),l-=3,dm(C,{pending:!0,data:v,method:d.method,action:f},f,v))}}))}function Da(o){function l(j){return wh(j,o)}as!==null&&wh(as,o),ls!==null&&wh(ls,o),us!==null&&wh(us,o),Du.forEach(l),Tu.forEach(l);for(var d=0;d<cs.length;d++){var f=cs[d];f.blockedOn===o&&(f.blockedOn=null)}for(;0<cs.length&&(d=cs[0],d.blockedOn===null);)aD(d),d.blockedOn===null&&cs.shift();if(d=(o.ownerDocument||o).$$reactFormReplay,d!=null)for(f=0;f<d.length;f+=3){var v=d[f],C=d[f+1],D=v[bi]||null;if(typeof C=="function")D||uD(d);else if(D){var L=null;if(C&&C.hasAttribute("formAction")){if(v=C,D=C[bi]||null)L=D.formAction;else if(hv(v)!==null)continue}else L=D.action;typeof L=="function"?d[f+1]=L:(d.splice(f,3),f-=3),uD(d)}}}function cD(){function o(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(D){return v=D})},focusReset:"manual",scroll:"manual"})}function l(){v!==null&&(v(),v=null),f||setTimeout(d,20)}function d(){if(!f&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,v=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){f=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),v!==null&&(v(),v=null)}}}function pv(o){this._internalRoot=o}Rh.prototype.render=pv.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));var d=l.current,f=zi();tD(d,f,o,l,null,null)},Rh.prototype.unmount=pv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;tD(o.current,2,null,o,null,null),rh(),l[Uo]=null}};function Rh(o){this._internalRoot=o}Rh.prototype.unstable_scheduleHydration=function(o){if(o){var l=SR();o={blockedOn:null,target:o,priority:l};for(var d=0;d<cs.length&&l!==0&&l<cs[d].priority;d++);cs.splice(d,0,o),d===0&&aD(o)}};var dD=t.version;if(dD!=="19.2.4")throw Error(n(527,dD,"19.2.4"));U.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=h(l),o=o!==null?p(o):null,o=o===null?null:o.stateNode,o};var Tj={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eh.isDisabled&&Eh.supportsFiber)try{Bl=Eh.inject(Tj),Ni=Eh}catch{}}return Ou.createRoot=function(o,l){if(!r(o))throw Error(n(299));var d=!1,f="",v=yA,C=CA,D=SA;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError)),l=JP(o,1,!1,null,null,d,f,null,v,C,D,cD),o[Uo]=l.current,Ym(o),new pv(l)},Ou.hydrateRoot=function(o,l,d){if(!r(o))throw Error(n(299));var f=!1,v="",C=yA,D=CA,L=SA,j=null;return d!=null&&(d.unstable_strictMode===!0&&(f=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(C=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&(L=d.onRecoverableError),d.formState!==void 0&&(j=d.formState)),l=JP(o,1,!0,l,d??null,f,v,j,C,D,L,cD),l.context=eD(null),d=l.current,f=zi(),f=rg(f),v=Yr(f),v.callback=null,Xr(d,v,f),d=f,l.current.lanes=d,Vl(l,d),Vn(l),o[Uo]=l.current,Ym(o),new Rh(l)},Ou.version="19.2.4",Ou}var bD;function Gj(){if(bD)return vv.exports;bD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),vv.exports=kj(),vv.exports}var Bj=Gj();const Hj=ut(Bj);function Vj({assetType:e,onAssetTypeChange:t}){return O.jsx("header",{className:"border-b border-cyber-border bg-cyber-panel/80 backdrop-blur-sm sticky top-0 z-50",children:O.jsxs("div",{className:"max-w-[1920px] mx-auto px-4 py-3 flex items-center justify-between",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"text-cyber-green glow-green text-xl font-bold tracking-wider",children:"MATEO"}),O.jsx("div",{className:"text-cyber-muted text-xs tracking-widest uppercase",children:"Market Analysis Terminal"})]}),O.jsxs("div",{className:"flex items-center gap-4",children:[O.jsxs("div",{className:"flex items-center bg-cyber-bg rounded border border-cyber-border overflow-hidden",children:[O.jsx("button",{onClick:()=>t("stock"),className:`px-3 py-1.5 text-[11px] font-bold uppercase tracking-wider transition-all ${e==="stock"?"bg-cyber-green/20 text-cyber-green border-r border-cyber-green/30":"text-cyber-muted hover:text-cyber-green/70 border-r border-cyber-border"}`,children:"Stocks"}),O.jsx("button",{onClick:()=>t("crypto"),className:`px-3 py-1.5 text-[11px] font-bold uppercase tracking-wider transition-all ${e==="crypto"?"bg-cyber-green/20 text-cyber-green":"text-cyber-muted hover:text-cyber-green/70"}`,children:"Crypto"})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("div",{className:"w-2 h-2 rounded-full bg-cyber-green animate-pulse"}),O.jsx("span",{className:"text-xs text-cyber-muted",children:"LIVE"})]}),O.jsx("div",{className:"text-xs text-cyber-muted",children:new Date().toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]})]})})}const Jn="";async function jj(e){const t=new URLSearchParams;e&&t.set("asset_type",e);const i=await fetch(`${Jn}/api/stocks/signal-alerts?${t.toString()}`);if(!i.ok)throw new Error("Failed to fetch signal alerts");return i.json()}async function zj(e){const t=new URLSearchParams;e&&t.set("asset_type",e);const i=await fetch(`${Jn}/api/sectors?${t.toString()}`);if(!i.ok)throw new Error("Failed to fetch sectors");return i.json()}async function Wj(e){const t=new URLSearchParams;e.signal&&t.set("signal",e.signal),e.sort&&t.set("sort",e.sort),e.order&&t.set("order",e.order),e.search&&t.set("search",e.search),t.set("limit",String(e.limit)),e.asset_type&&t.set("asset_type",e.asset_type),e.as_of_date&&t.set("as_of_date",e.as_of_date),e.sector&&e.sector!=="ALL"&&t.set("sector",e.sector);const i=await fetch(`${Jn}/api/stocks?${t.toString()}`);if(!i.ok)throw new Error("Failed to fetch stocks");return i.json()}async function Uj(e,t){const i=new URLSearchParams;e&&i.set("asset_type",e),t&&i.set("as_of_date",t);const n=await fetch(`${Jn}/api/stocks/top-performers?${i.toString()}`);if(!n.ok)throw new Error("Failed to fetch top performers");return n.json()}async function $j(e){const t=await fetch(`${Jn}/api/stocks/${e}`);if(!t.ok)throw new Error("Failed to fetch stock detail");return t.json()}async function qj(e){const t=new URLSearchParams;e&&t.set("asset_type",e);const i=await fetch(`${Jn}/api/stats?${t.toString()}`);if(!i.ok)throw new Error("Failed to fetch stats");return i.json()}async function Kj(e){const t=new URLSearchParams;e&&t.set("asset_type",e);const i=await fetch(`${Jn}/api/symbols?${t.toString()}`);if(!i.ok)throw new Error("Failed to fetch symbols");return i.json()}async function Yj(e){const t=await fetch(`${Jn}/api/simulation/run`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const i=await t.json().catch(()=>({error:"Simulation failed"}));throw new Error(i.error||"Simulation failed")}return t.json()}async function Xj(e){const t=await fetch(`${Jn}/api/simulation/compare`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const i=await t.json().catch(()=>({error:"Comparison failed"}));throw new Error(i.error||"Comparison failed")}return t.json()}async function Qj(e){const t=await fetch(`${Jn}/api/simulation/market-conditions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const i=await t.json().catch(()=>({error:"Analysis failed"}));throw new Error(i.error||"Analysis failed")}return t.json()}function Zj(e){return new Date(e+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"})}function Jj({alert:e,onClick:t}){const i=e.signal==="BUY",n=e.avgDaysBetweenChanges>=20;return O.jsxs("button",{onClick:t,className:`panel transition-all duration-200 p-3 text-left min-w-[180px] cursor-pointer group relative overflow-hidden ${n?i?"border-cyber-green/40 hover:border-cyber-green/80":"border-cyber-red/40 hover:border-cyber-red/80":"hover:border-cyber-green/50"}`,children:[n&&O.jsx("div",{className:`absolute top-0 right-0 px-1.5 py-0.5 text-[8px] font-bold uppercase tracking-wider ${i?"bg-cyber-green/20 text-cyber-green":"bg-cyber-red/20 text-cyber-red"}`,children:"RARE"}),O.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[O.jsx("span",{className:"text-sm font-bold text-cyber-text group-hover:text-cyber-green transition-colors",children:e.symbol}),O.jsxs("div",{className:"flex items-center gap-1",children:[O.jsx("span",{className:`text-[10px] ${i?"text-cyber-red":"text-cyber-green"}`,children:i?"SELL":"BUY"}),O.jsx("span",{className:`text-[10px] ${i?"text-cyber-green":"text-cyber-red"}`,children:""}),O.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold ${i?"bg-cyber-green/20 text-cyber-green":"bg-cyber-red/20 text-cyber-red"}`,children:e.signal})]})]}),O.jsx("div",{className:"text-[10px] text-cyber-muted truncate mb-2",children:e.name}),O.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[O.jsxs("span",{className:"text-sm text-cyber-text",children:["$",e.price.toFixed(2)]}),O.jsxs("span",{className:`text-xs font-bold ${e.changePercent>=0?"text-cyber-green":"text-cyber-red"}`,children:[e.changePercent>=0?"+":"",e.changePercent.toFixed(2),"%"]})]}),O.jsxs("div",{className:"border-t border-cyber-border/50 pt-1.5 space-y-0.5",children:[O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsx("span",{className:"text-[9px] text-cyber-muted uppercase",children:"Changed"}),O.jsxs("span",{className:"text-[10px] text-cyber-text",children:[Zj(e.lastSignalChange),O.jsxs("span",{className:"text-cyber-muted ml-1",children:["(",e.daysSinceChange,"d ago)"]})]})]}),O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsx("span",{className:"text-[9px] text-cyber-muted uppercase",children:"Avg Freq"}),O.jsxs("span",{className:`text-[10px] font-bold ${e.avgDaysBetweenChanges>=20?"text-cyber-yellow":"text-cyber-muted"}`,children:["~",e.avgDaysBetweenChanges,"d between flips"]})]}),O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsx("span",{className:"text-[9px] text-cyber-muted uppercase",children:"Total Flips"}),O.jsxs("span",{className:"text-[10px] text-cyber-muted",children:[e.signalChanges,"x in ",e.dataPoints,"d"]})]})]})]})}function ez({assetType:e,onSelectSymbol:t}){const[i,n]=M.useState([]);return M.useEffect(()=>{jj(e).then(n).catch(()=>n([]))},[e]),i.length===0?null:O.jsxs("div",{children:[O.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] mb-2 flex items-center gap-2",children:[O.jsx("span",{className:"w-1.5 h-1.5 bg-cyber-yellow rounded-full animate-pulse"}),O.jsx("span",{className:"text-cyber-yellow",children:"SIGNAL CHANGE ALERTS"}),O.jsx("span",{className:"text-cyber-muted",children:" Recently flipped BUYSELL (slow movers ranked higher)"})]}),O.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:i.map(r=>O.jsx(Jj,{alert:r,onClick:()=>t(r.symbol)},r.symbol))})]})}function tz({item:e,onClick:t}){const i=e.changePercent>=0;return O.jsxs("button",{onClick:t,className:"panel hover:border-cyber-green/50 transition-all duration-200 p-3 text-left min-w-[140px] cursor-pointer group",children:[O.jsxs("div",{className:"flex items-center justify-between mb-1",children:[O.jsx("span",{className:"text-sm font-bold text-cyber-text group-hover:text-cyber-green transition-colors",children:e.symbol}),O.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold ${e.signal==="BUY"?"bg-cyber-green/20 text-cyber-green":e.signal==="SELL"?"bg-cyber-red/20 text-cyber-red":"bg-cyber-yellow/20 text-cyber-yellow"}`,children:e.signal})]}),O.jsx("div",{className:"text-xs text-cyber-muted truncate mb-1",children:e.name}),O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsxs("span",{className:"text-sm text-cyber-text",children:["$",e.price.toFixed(2)]}),O.jsxs("span",{className:`text-xs font-bold ${i?"text-cyber-green":"text-cyber-red"}`,children:[i?"+":"",e.changePercent.toFixed(2),"%"]})]})]})}function iz({assetType:e,asOfDate:t,onSelectSymbol:i}){const[n,r]=M.useState(null);return M.useEffect(()=>{Uj(e,t).then(r).catch(()=>r(null))},[e,t]),!n||n.gainers.length===0&&n.losers.length===0?null:O.jsxs("div",{className:"space-y-3",children:[O.jsx(bv,{title:"TOP GAINERS",items:n.gainers,onSelect:i}),O.jsx(bv,{title:"STRONG BUY SIGNALS",items:n.strongBuys,onSelect:i}),O.jsx(bv,{title:"TOP LOSERS",items:n.losers,onSelect:i})]})}function bv({title:e,items:t,onSelect:i}){return!t||t.length===0?null:O.jsxs("div",{children:[O.jsxs("div",{className:"text-[10px] text-cyber-green uppercase tracking-[0.2em] mb-2 flex items-center gap-2",children:[O.jsx("span",{className:"w-1.5 h-1.5 bg-cyber-green rounded-full"}),e]}),O.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:t.map(n=>O.jsx(tz,{item:n,onClick:()=>i(n.symbol)},n.symbol))})]})}var wl=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){const n=t?this.allAsyncListeners:this.allSyncListeners;let r=n.get(e);return!r&&i&&(r=new Set,n.set(e,r)),r}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){const n=this.getListeners(e,i,!1);n&&(n.delete(t),n.size===0&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const i=e.type;if(t&&"event"in e){const u=e.event;u instanceof Event&&(e.eventPath=u.composedPath())}const n=(u,c)=>u.forEach(h=>{if(!c.has(h))return;const p=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>h(e)):()=>h(e);t?this.dispatchAsync(p):p()}),r=this.getListeners(i,t,!1)??new Set,s=new Set(r);s.size>0&&n(s,r),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(u=>{const c=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>u(i,e)):()=>u(i,e);t?this.dispatchAsync(c):c()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}},UI=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(UI||{}),wD={};function Ox(e,t){wD[t]||(e(),wD[t]=!0)}function On(e,...t){console.log("AG Grid: "+e,...t)}function ue(e,...t){Ox(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function Qe(e,...t){Ox(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function Lx(e){return!!(e&&e.constructor&&e.call&&e.apply)}function nz(e){rz(e,400)}var wv=[],xv=!1;function xD(e){wv.push(e),!xv&&(xv=!0,window.setTimeout(()=>{const t=wv.slice();wv.length=0,xv=!1,t.forEach(i=>i())},0))}function rz(e,t=0){e.length>0&&window.setTimeout(()=>e.forEach(i=>i()),t)}function yi(e,t){let i;return function(...n){const r=this;window.clearTimeout(i),i=window.setTimeout(function(){e.apply(r,n)},t)}}function RD(e,t){let i=0;return function(...n){const r=this,s=new Date().getTime();s-i<t||(i=s,e.apply(r,n))}}function sz(e,t,i=100,n){const r=new Date().getTime();let s=null,a=!1;const u=()=>{const c=new Date().getTime()-r>i;(e()||c)&&(t(),a=!0,s!=null&&(window.clearInterval(s),s=null))};u(),a||(s=window.setInterval(u,10))}function oz(...e){return t=>e.reduce((i,n)=>n(i),t)}function Ar(e){return e==null||e===""?null:e}function pe(e,t=!1){return e!=null&&(e!==""||t)}function je(e){return!pe(e)}function Yi(e){return e==null||e.length===0}function Hb(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function mo(e){if(e===void 0)return;if(e===null||e==="")return null;if(typeof e=="number")return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Vb(e){if(e!==void 0)return e===null||e===""?!1:jb(e)}function jb(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}function uc(e,t){const i=e?JSON.stringify(e):null,n=t?JSON.stringify(t):null;return i===n}function az(e,t,i=!1){const n=e==null,r=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&r)return 0;if(n)return-1;if(r)return 1;function s(a,u){return a>u?1:a<u?-1:0}if(typeof e!="string"||!i)return s(e,t);try{return e.localeCompare(t)}catch{return s(e,t)}}function qh(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach(i=>t.push(i)),t}return Object.values(e)}function $I(e,t){return e.get("rowModelType")===t}function vt(e){return $I(e,"clientSide")}function er(e){return $I(e,"serverSide")}function ri(e,t){return e.get("domLayout")===t}function Jh(e){return nf(e)!==void 0}function ef(e){return!e.get("suppressAsyncEvents")}function qI(e){return typeof e.get("getRowHeight")=="function"}function lz(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Rs(e,t,i=!1,n){if(n==null&&(n=e.environment.getDefaultRowHeight()),qI(e)){if(i)return{height:n,estimated:!0};const a={node:t,data:t.data},u=e.getCallback("getRowHeight")(a);if(zb(u))return u===0&&ue("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,u),estimated:!1}}if(t.detail&&e.get("masterDetail"))return uz(e);const r=e.get("rowHeight");return{height:r&&zb(r)?r:n,estimated:!1}}function uz(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return zb(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function vo(e){const{environment:t}=e,i=e.get("rowHeight");if(!i||je(i))return t.getDefaultRowHeight();const n=t.refreshRowHeightVariable();return n!==-1?n:(ue("row height must be a number if not using standard row model"),t.getDefaultRowHeight())}function zb(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function cc(e,t,i){const n=t[e.getDomDataKey()];return n?n[i]:void 0}function Po(e,t,i,n){const r=e.getDomDataKey();let s=t[r];je(s)&&(s={},t[r]=s),s[i]=n}function Pt(e){let t=null;const i=e.get("getDocument");return i&&pe(i)?t=i():e.eGridDiv&&(t=e.eGridDiv.ownerDocument),t&&pe(t)?t:document}function KI(e){return Pt(e).defaultView||window}function dc(e){return e.eGridDiv.getRootNode()}function wt(e){return dc(e).activeElement}function YI(e){const t=Pt(e),i=wt(e);return i===null||i===t.body}function Ba(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function fp(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||ri(e,"print"))}function zn(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function Wb(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function XI(e){const t=e.get("grandTotalRow");if(t)return t;if(e.get("groupIncludeTotalFooter"))return"bottom"}function QI(e){const t=e.get("groupTotalRow");if(typeof t=="function")return e.getCallback("groupTotalRow");if(t)return()=>t;const i=e.get("groupIncludeFooter");if(typeof i=="function"){const n=e.getCallback("groupIncludeFooter");return r=>n(r)?"bottom":void 0}return()=>i?"bottom":void 0}function ZI(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function pp(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function xl(e){const t=e.getCallback("getRowId");return t===void 0?t:i=>{let n=t(i);return typeof n!="string"&&(ue("The getRowId callback must return a string. The ID ",n," is being cast to a string."),n=String(n)),n}}function Ua(e){return(e==null?void 0:e.checkboxes)??!0}function tf(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function cz(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function dz(e){return typeof e.get("rowSelection")!="string"}function hz(e){return e.get("cellSelection")!==void 0}function fz(e){const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?(t==null?void 0:t.suppressMultiRanges)??!1:!1:e.get("suppressMultiRangeSelection")}function Fr(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function pz(e){var n;const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?((n=t.handle)==null?void 0:n.mode)==="range":!1:e.get("enableRangeHandle")}function ED(e){var n;const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?((n=t.handle)==null?void 0:n.mode)==="fill":!1:e.get("enableFillHandle")}function JI(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const i=e.get("suppressRowClickSelection"),n=e.get("suppressRowDeselection");return i&&n?!1:i?"enableDeselection":n?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function gz(e){const t=JI(e);return t===!0||t==="enableSelection"}function AD(e){const t=JI(e);return t===!0||t==="enableDeselection"}function Ix(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function nf(e){const t=e.get("rowSelection");if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return t==null?void 0:t.mode}function eN(e){return nf(e)==="multiRow"}function mz(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function Nx(e){const t=e.get("rowSelection");if(typeof t=="string"){const i=e.get("groupSelectsChildren"),n=e.get("groupSelectsFiltered");return i&&n?"filteredDescendants":i?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function Do(e){const t=Nx(e);return t==="descendants"||t==="filteredDescendants"}function Rv(e){return e.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!e.get("suppressSetFilterByDefault")}function Ve(e){if(!(!e||!e.length))return e[e.length-1]}function As(e,t,i){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((n,r)=>i?i(n,t[r]):t[r]===n)}function vz(e){return e.sort((t,i)=>t-i)}function tN(e,t){const i=e.indexOf(t);i>=0&&(e[i]=e[e.length-1],e.pop())}function Ci(e,t){const i=e.indexOf(t);i>=0&&e.splice(i,1)}function yz(e,t){for(let i=0;i<t.length;i++)tN(e,t[i])}function Cz(e,t){for(let i=0;i<t.length;i++)Ci(e,t[i])}function rf(e,t,i){e.splice(i,0,t)}function iN(e,t,i){Cz(e,t),t.slice().reverse().forEach(n=>rf(e,n,i))}function yo(e,t){return e.indexOf(t)>-1}function Sz(e){return(e==null?void 0:e.flatMap(t=>t))??[]}function PD(e,t){t==null||e==null||t.forEach(i=>e.push(i))}var nN="__ag_Grid_Stop_Propagation",bz=["touchstart","touchend","touchmove","touchcancel","scroll"],Ev={};function $a(e){e[nN]=!0}function Pr(e){return e[nN]===!0}var rN=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if(typeof Ev[i]=="boolean")return Ev[i];const n=document.createElement(e[i]||"div");return i="on"+i,Ev[i]=i in n}})();function Ub(e,t,i){let n=t;for(;n;){const r=cc(e,n,i);if(r)return r;n=n.parentElement}return null}function wz(e,t){return!t||!e?!1:Rz(t).indexOf(e)>=0}function xz(e){const t=[];let i=e.target;for(;i;)t.push(i),i=i.parentElement;return t}function Rz(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():xz(t)}function Ez(e,t,i,n){const s=yo(bz,i)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,i,n,s)}var ie=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,i){this.localEventService||(this.localEventService=new wl),this.localEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.localEventService&&this.localEventService.removeEventListener(e,t,i)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const i=[];for(const n in t){const r=t[n];r&&i.push(this._setupListener(e,n,r))}return i}_setupListener(e,t,i){if(this.destroyed)return()=>null;e instanceof HTMLElement?Ez(this.getFrameworkOverrides(),e,t,i):e.addEventListener(t,i);const n=()=>(e.removeEventListener(t,i),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==n),null)}setupGridOptionListener(e,t){this.gos.addPropertyEventListener(e,t);const i=()=>(this.gos.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const i=e.join("-")+this.propertyListenerId++,n=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=r.changeSet.id}const s={type:"gridPropertyChanged",changeSet:r.changeSet,source:r.source};t(s)};e.forEach(r=>this.setupGridOptionListener(r,n))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.stubContext).createBean(e,i)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function mi(e){return e instanceof Kh}var Kh=class extends ie{constructor(e,t,i,n){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=aN(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=i,this.level=n}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{Es(t)?e.push(t):mi(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,i=!1;const n=this.findChildrenRemovingPadding();for(let s=0,a=n.length;s<a;s++){const u=n[s];if(!u.isVisible())continue;const c=u.getColumnGroupShow();c==="open"?(e=!0,i=!0):c==="closed"?(t=!0,i=!0):(e=!0,t=!0)}const r=e&&t&&i;this.expandable!==r&&(this.expandable=r,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=i=>{i.forEach(n=>{mi(n)&&n.isPadding()?t(n.children):e.push(n)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},sN="ag-Grid-ControlsColumn",Az=class extends ie{constructor(){super(...arguments),this.beanName="controlsColService"}isControlsColEnabled(){const{gos:e}=this,t=e.get("rowSelection");if(!t||typeof t!="object")return!1;const i=Ua(t),n=tf(t);return!!(i||n)}createControlsCols(){if(!this.isControlsColEnabled())return[];const{gos:e}=this,t=e.get("selectionColumnDef"),n={maxWidth:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:e.get("enableRtl")?"right":"left",comparator(s,a,u,c){const h=u.isSelected(),p=c.isSelected();return h&&p?0:h?1:-1},editable:!1,suppressFillHandle:!0,...t,colId:`${sN}`},r=new Gx(n,null,n.colId,!1);return this.createBean(r),[r]}},gp="ag-Grid-AutoColumn";function _x(e){const t=[],i=n=>{for(let r=0;r<n.length;r++){const s=n[r];Es(s)?t.push(s):mi(s)&&i(s.getChildren())}};return i(e),t}function xr(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}function vs(e,t,i){const n={};if(!t)return;Or(null,t,s=>{n[s.getInstanceId()]=s}),i&&Or(null,i,s=>{n[s.getInstanceId()]=null});const r=Object.values(n).filter(s=>s!=null);e.destroyBeans(r)}function $b(e){return e.getId().startsWith(gp)}function qa(e){return e.getColId().startsWith(sN)}function Yh(e){let t=[];return e instanceof Array?e.some(n=>typeof n!="string")?ue("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:typeof e=="string"?t=e.split(","):ue("colDef.type should be of type 'string' | 'string[]'"),t}var kx=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e,t){const{frameworkOverrides:i,wrappedListeners:n}=this;let r=t;if(i.shouldWrapOutgoing){r=a=>{i.wrapOutgoing(()=>t(a))};let s=n.get(e);s||(s=new Map,n.set(e,s)),s.set(t,r)}return r}wrapGlobal(e){const{frameworkOverrides:t,wrappedGlobalListeners:i}=this;let n=e;return t.shouldWrapOutgoing&&(n=(r,s)=>{t.wrapOutgoing(()=>e(r,s))},i.set(e,n)),n}unwrap(e,t){const{wrappedListeners:i}=this,n=i.get(e);if(n){const r=n.get(t);if(r)return n.delete(t),n.size===0&&i.delete(e),r}return t}unwrapGlobal(e){const{wrappedGlobalListeners:t}=this,i=t.get(e);return i?(t.delete(e),i):e}},mp=new Set(["__proto__","constructor","prototype"]);function Mn(e,t){if(e!=null){if(Array.isArray(e)){for(let i=0;i<e.length;i++)t(i.toString(),e[i]);return}for(const[i,n]of Object.entries(e))mp.has(i)||t(i,n)}}function oN(e){const t={},i=Object.keys(e);for(let n=0;n<i.length;n++){if(mp.has(i[n]))continue;const r=i[n],s=e[r];t[r]=s}return t}function qb(e,t){if(!e)return;const i=e,n={};return Object.keys(i).forEach(r=>{if(t&&t.indexOf(r)>=0||mp.has(r))return;const s=i[r];Yb(s)&&s.constructor===Object?n[r]=qb(s):n[r]=s}),n}function Kb(e){if(!e)return[];const t=Object;if(typeof t.values=="function")return t.values(e);const i=[];for(const n in e)e.hasOwnProperty(n)&&e.propertyIsEnumerable(n)&&i.push(e[n]);return i}function vi(e,t,i=!0,n=!1){pe(t)&&Mn(t,(r,s)=>{if(mp.has(r))return;let a=e[r];a!==s&&(n&&a==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(a={},e[r]=a),Yb(s)&&Yb(a)&&!Array.isArray(a)?vi(a,s,i,n):(i||s!==void 0)&&(e[r]=s))})}function Qu(e,t,i){if(!t||!e)return;if(!i)return e[t];const n=t.split(".");let r=e;for(let s=0;s<n.length;s++){if(r==null)return;r=r[n[s]]}return r}function Yb(e){return typeof e=="object"&&e!==null}var Pz={resizable:!0,sortable:!0},Dz=0;function aN(){return Dz++}function Es(e){return e instanceof Gx}var Gx=class extends ie{constructor(e,t,i,n){super(),this.isColumn=!0,this.instanceId=aN(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new wl,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=n,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);const t=e.sortIndex,i=e.initialSortIndex;t!==void 0?t!==null&&(this.sortIndex=t):i!==null&&(this.sortIndex=i);const n=e.hide,r=e.initialHide;n!==void 0?this.visible=!n:this.visible=!r,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const s=e.flex,a=e.initialFlex;s!==void 0?this.flex=s:a!==void 0&&(this.flex=a)}setColDef(e,t,i){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=pe(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=pe(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=pe(this.colDef.tooltipField)||pe(this.colDef.tooltipValueGetter)||pe(this.colDef.tooltipComponent)}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const i=mo(e.width),n=mo(e.initialWidth);return i!=null?t=i:n!=null?t=n:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(je(this.colDef)||je(this.colDef.showRowGroup))return!1;const t=this.colDef.showRowGroup===!0,i=this.colDef.showRowGroup===e;return t||i}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,t){var n;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new kx(this.frameworkOverrides));const i=((n=this.frameworkEventListenerService)==null?void 0:n.wrap(e,t))??t;this.columnEventService.addEventListener(e,i)}removeEventListener(e,t){var n;const i=((n=this.frameworkEventListenerService)==null?void 0:n.unwrap(e,t))??t;this.columnEventService.removeEventListener(e,i)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const t=this.createColumnFunctionCallbackParams(e),i=this.colDef.suppressNavigable;return i(t)}return!1}isCellEditable(e){if(e.group){if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){const t=this.gos.get("rowSelection");if(t&&typeof t!="string"){const i=qa(this)&&Ua(t);return this.isColumnFunc(e,i)}else return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??Pz[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const i=this.createColumnFunctionCallbackParams(e);return t(i)}return!1}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return je(this.sort)}isSorting(){return pe(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,i){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const n=this.createColumnEvent("filterChanged",t);i&&vi(n,i),this.columnEventService.dispatchEvent(n)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const i=e===!0;this.visible!==i&&(this.visible=i,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(je(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)}getRowSpan(e){if(je(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)}setActualWidth(e,t,i=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}},Tz={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Mz=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=Hb(e);let i=0;for(;;){let n;if(e?(n=e,i!==0&&(n+="_"+i)):t?(n=t,i!==0&&(n+="_"+i)):n=i,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);i++}}},Fz=class extends ie{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,t,i,n){const r=new Mz,{existingCols:s,existingGroups:a,existingColKeys:u}=this.extractExistingTreeData(i);r.addExistingKeys(u);const c=this.recursivelyCreateColumns(e,0,t,s,r,a,n),h=this.findMaxDept(c,0),p=this.balanceColumnTree(c,0,h,r);return Or(null,p,(m,y)=>{mi(m)&&m.setupExpandable(),m.setOriginalParent(y)}),{columnTree:p,treeDept:h}}extractExistingTreeData(e){const t=[],i=[],n=[];return e&&Or(null,e,r=>{if(mi(r)){const s=r;i.push(s)}else{const s=r;n.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:i,existingColKeys:n}}balanceTreeForAutoCols(e,t){const i=[],n=this.findDepth(t);return e.forEach(r=>{let s=r;for(let a=n-1;a>=0;a--){const u=new Kh(null,`FAKE_PATH_${r.getId()}}_${a}`,!0,a);this.createBean(u),u.setChildren([s]),s.setOriginalParent(u),s=u}n===0&&r.setOriginalParent(null),i.push(s)}),[i,n]}findDepth(e){let t=0,i=e;for(;i&&i[0]&&mi(i[0]);)t++,i=i[0].getChildren();return t}balanceColumnTree(e,t,i,n){const r=[];for(let s=0;s<e.length;s++){const a=e[s];if(mi(a)){const u=a,c=this.balanceColumnTree(u.getChildren(),t+1,i,n);u.setChildren(c),r.push(u)}else{let u,c;for(let h=i-1;h>=t;h--){const p=n.getUniqueKey(null,null),g=this.createMergedColGroupDef(null),m=new Kh(g,p,!0,t);this.createBean(m),c&&c.setChildren([m]),c=m,u||(u=c)}if(u&&c)if(r.push(u),e.some(p=>mi(p))){c.setChildren([a]);continue}else{c.setChildren(e);break}r.push(a)}}return r}findMaxDept(e,t){let i=t;for(let n=0;n<e.length;n++){const r=e[n];if(mi(r)){const s=r,a=this.findMaxDept(s.getChildren(),t+1);i<a&&(i=a)}}return i}recursivelyCreateColumns(e,t,i,n,r,s,a){if(!e)return[];const u=new Array(e.length);for(let c=0;c<u.length;c++){const h=e[c];this.isColumnGroup(h)?u[c]=this.createColumnGroup(i,h,t,n,r,s,a):u[c]=this.createColumn(i,h,n,r,a)}return u}createColumnGroup(e,t,i,n,r,s,a){const u=this.createMergedColGroupDef(t),c=r.getUniqueKey(u.groupId||null,null),h=new Kh(u,c,!1,i);this.createBean(h);const p=this.findExistingGroup(t,s);p&&s.splice(p.idx,1);const g=p==null?void 0:p.group;g&&h.setExpanded(g.isExpanded());const m=this.recursivelyCreateColumns(u.children,i+1,e,n,r,s,a);return h.setChildren(m),h}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,i,n,r){var u;const s=this.findExistingColumn(t,i);s&&(i==null||i.splice(s.idx,1));let a=s==null?void 0:s.column;if(a){const c=this.addColumnDefaultAndTypes(t,a.getColId());a.setColDef(c,t,r),this.applyColumnState(a,c,r)}else{const c=n.getUniqueKey(t.colId,t.field),h=this.addColumnDefaultAndTypes(t,c);a=new Gx(h,t,c,e),this.createBean(a)}return(u=this.dataTypeService)==null||u.addColumnListeners(a),a}applyColumnState(e,t,i){const n=mo(t.flex);if(n!==void 0&&e.setFlex(n),e.getFlex()<=0){const u=mo(t.width);if(u!=null)e.setActualWidth(u,i);else{const c=e.getActualWidth();e.setActualWidth(c,i)}}t.sort!==void 0&&(t.sort=="asc"||t.sort=="desc"?e.setSort(t.sort,i):e.setSort(void 0,i));const s=mo(t.sortIndex);s!==void 0&&e.setSortIndex(s);const a=Vb(t.hide);a!==void 0&&e.setVisible(!a,i),t.pinned!==void 0&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let i=0;i<t.length;i++){const n=t[i].getUserProvidedColDef();if(!n)continue;if(e.colId!=null){if(t[i].getId()===e.colId)return{idx:i,column:t[i]};continue}if(e.field!=null){if(n.field===e.field)return{idx:i,column:t[i]};continue}if(n===e)return{idx:i,column:t[i]}}}findExistingGroup(e,t){if(e.groupId!=null)for(let n=0;n<t.length;n++){const r=t[n];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:n,group:r}}}addColumnDefaultAndTypes(e,t){var u;const i={},n=this.gos.get("defaultColDef");vi(i,n,!1,!0);const r=this.updateColDefAndGetColumnType(i,e,t);r&&this.assignColumnTypes(r,i),vi(i,e,!1,!0);const s=this.gos.get("autoGroupColumnDef"),a=zn(this.gos);return e.rowGroup&&s&&a&&vi(i,{sort:s.sort,initialSort:s.initialSort},!1,!0),(u=this.dataTypeService)==null||u.validateColDef(i),i}updateColDefAndGetColumnType(e,t,i){var s;const n=(s=this.dataTypeService)==null?void 0:s.updateColDefAndGetColumnType(e,t,i),r=t.type??n??e.type;return e.type=r,r?Yh(r):void 0}assignColumnTypes(e,t){if(!e.length)return;const i=Object.assign({},Tz),n=this.gos.get("columnTypes")||{};Mn(n,(r,s)=>{r in i?ue(`the column type '${r}' is a default column type and cannot be overridden.`):(s.type&&ue("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[r]=s)}),e.forEach(r=>{const s=i[r.trim()];s?vi(t,s,!1,!0):ue("colDef.type '"+r+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};function Or(e,t,i){if(t)for(let n=0;n<t.length;n++){const r=t[n];mi(r)&&Or(r,r.getChildren(),i),i(r,e)}}var Oz=class extends ie{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.controlsColService=e.controlsColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],t=>this.refreshAll(oo(t.source))),this.addManagedPropertyListener("rowSelection",t=>{this.onSelectionOptionsChanged(t.currentValue,t.previousValue,oo(t.source))}),this.addManagedPropertyListener("autoGroupColumnDef",t=>this.onAutoGroupColumnDefChanged(oo(t.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],t=>this.recreateColumnDefs(oo(t.source))),this.addManagedPropertyListener("pivotMode",t=>this.setPivotMode(this.gos.get("pivotMode"),oo(t.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e){var h,p,g;const t=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire();const i=(h=this.colDefCols)==null?void 0:h.list,n=(p=this.colDefCols)==null?void 0:p.tree,r=this.columnFactory.createColumnTree(this.colDefs,!0,n,e);vs(this.context,(g=this.colDefCols)==null?void 0:g.tree,r.columnTree);const s=r.columnTree,a=r.treeDept,u=_x(s),c={};u.forEach(m=>c[m.getId()]=m),this.colDefCols={tree:s,treeDepth:a,list:u,map:c},this.funcColsService.extractCols(e,i),this.ready=!0,this.refreshCols(!0),this.visibleColsService.refresh(e),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(e),t&&(this.changeEventsDispatching=!0,t(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(e),e==="gridInitializing"&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(e){var r,s,a;if(!this.colDefCols)return;const t=(r=this.cols)==null?void 0:r.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.createControlsCols(),this.addControlsCols();const i=lz(this.gos,this.showingPivotResult);(!e||i)&&this.restoreColOrder(),this.positionLockedCols(),(s=this.showRowGroupColsService)==null||s.refresh(),(a=this.quickFilterService)==null||a.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!As(t,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=e!=null,e){const{map:t,list:i,tree:n,treeDepth:r}=e;this.cols={list:i.slice(),map:{...t},tree:n.slice(),treeDepth:r},e.list.some(a=>{var u;return((u=this.cols)==null?void 0:u.map[a.getColId()])!==void 0})||(this.lastPivotOrder=null)}else{const{map:t,list:i,tree:n,treeDepth:r}=this.colDefCols;this.cols={list:i.slice(),map:{...t},tree:n.slice(),treeDepth:r}}}getColsToShow(){var r;const e=this.isPivotMode()&&!this.isShowingPivotResult(),t=this.funcColsService.getValueColumns(),i=(r=this.controlsColService)==null?void 0:r.isControlsColEnabled();return this.cols.list.filter(s=>{const a=$b(s);if(e){const u=t&&yo(t,s);return a||u||i&&qa(s)}else return a||s.isVisible()})}addAutoCols(){this.autoCols!=null&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),DD(this.cols))}createAutoCols(){var b;const e=pp(this.gos,this.pivotMode),t=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),i=this.funcColsService.getRowGroupColumns(),r=!(i.length>0||this.gos.get("treeData"))||t||e,s=()=>{this.autoCols&&(vs(this.context,this.autoCols.tree),this.autoCols=null)};if(r||!this.autoColService){s();return}const a=this.autoColService.createAutoCols(i)??[],u=MD(a,((b=this.autoCols)==null?void 0:b.list)||null),c=this.cols.treeDepth,p=(this.autoCols?this.autoCols.treeDepth:-1)==c;if(u&&p)return;s();const[g,m]=this.columnFactory.balanceTreeForAutoCols(a,this.cols.tree);this.autoCols={list:a,tree:g,treeDepth:m,map:{}};const y=w=>{if(!w)return null;const S=w.filter(x=>!$b(x));return[...a,...S]};this.lastOrder=y(this.lastOrder),this.lastPivotOrder=y(this.lastPivotOrder)}createControlsCols(){var h,p,g;const e=()=>{var m;vs(this.context,(m=this.controlsCols)==null?void 0:m.tree),this.controlsCols=null};this.controlsColService||e();const t=this.cols.treeDepth,n=(((h=this.controlsCols)==null?void 0:h.treeDepth)??-1)==t,r=((p=this.controlsColService)==null?void 0:p.createControlsCols())??[];if(MD(r,((g=this.controlsCols)==null?void 0:g.list)??[])&&n)return;e();const[a,u]=this.columnFactory.balanceTreeForAutoCols(r,this.cols.tree);this.controlsCols={list:r,tree:a,treeDepth:u,map:{}};const c=m=>{if(!m)return null;const y=m.filter(b=>!qa(b));return[...r,...y]};this.lastOrder=c(this.lastOrder),this.lastPivotOrder=c(this.lastPivotOrder)}addControlsCols(){this.controlsCols!=null&&(this.cols.list=this.controlsCols.list.concat(this.cols.list),this.cols.tree=this.controlsCols.tree.concat(this.cols.tree),DD(this.cols))}refreshAll(e){this.isReady()&&(this.refreshCols(!1),this.visibleColsService.refresh(e))}setColsVisible(e,t=!1,i){this.columnApplyStateService.applyColumnState({state:e.map(n=>({colId:typeof n=="string"?n:n.getColId(),hide:!t}))},i)}setColsPinned(e,t,i){if(!this.cols||Yi(e))return;if(ri(this.gos,"print")){ue("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let n;t===!0||t==="left"?n="left":t==="right"?n="right":n=null;const r=[];e.forEach(s=>{if(!s)return;const a=this.getCol(s);a&&a.getPinned()!==n&&(a.setPinned(n),r.push(a))}),r.length&&(this.visibleColsService.refresh(i),this.eventDispatcher.columnPinned(r,i)),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,i){let n;mi(e)?n=e.getId():n=e||"",this.columnGroupStateService.setColumnGroupState([{groupId:n,open:t}],i)}getProvidedColGroup(e){var i;let t=null;return Or(null,(i=this.cols)==null?void 0:i.tree,n=>{mi(n)&&n.getId()===e&&(t=n)}),t}isColGroupLocked(e){const t=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||t===0)return!1;if(t===-1)return!0;const n=this.funcColsService.getRowGroupColumns().findIndex(r=>r.getColId()===e.getColId());return t>n}isSuppressAutoCol(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(e=>e.isVisible()&&e.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,vt(this.gos)||er(this.gos)||ue("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){const e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;const t=new Map(e.map((c,h)=>[c,h]));if(!this.cols.list.some(c=>t.has(c)))return;const n=new Map(this.cols.list.map(c=>[c,!0])),r=e.filter(c=>n.has(c)),s=new Map(r.map(c=>[c,!0])),a=this.cols.list.filter(c=>!s.has(c)),u=r.slice();a.forEach(c=>{let h=c.getOriginalParent();if(!h){u.push(c);return}const p=[];for(;!p.length&&h;)h.getLeafColumns().forEach(b=>{const w=u.indexOf(b)>=0,S=p.indexOf(b)<0;w&&S&&p.push(b)}),h=h.getOriginalParent();if(!p.length){u.push(c);return}const g=p.map(y=>u.indexOf(y)),m=Math.max(...g);rf(u,c,m+1)}),this.cols.list=u}sortColsLikeKeys(e){if(this.cols==null)return;let t=[];const i={};e.forEach(r=>{if(i[r])return;const s=this.cols.map[r];s&&(t.push(s),i[r]=!0)});let n=0;if(this.cols.list.forEach(r=>{const s=r.getColId();if(i[s]!=null)return;s.startsWith(gp)?rf(t,r,n++):t.push(r)}),t=this.columnMoveService.placeLockedColumns(t),!this.columnMoveService.doesMovePassMarryChildren(t)){ue("Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.cols.list=t}sortColsLikeCols(e){!e||e.length<=1||e.filter(i=>this.cols.list.indexOf(i)<0).length>0||e.sort((i,n)=>{const r=this.cols.list.indexOf(i),s=this.cols.list.indexOf(n);return r-s})}resetColDefIntoCol(e,t){const i=e.getUserProvidedColDef();if(!i)return!1;const n=this.columnFactory.addColumnDefaultAndTypes(i,e.getColId());return e.setColDef(n,i,t),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,t,i){var n;iN((n=this.cols)==null?void 0:n.list,e,t),this.visibleColsService.refresh(i)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=(e=this.cols)==null?void 0:e.list:this.lastOrder=(t=this.cols)==null?void 0:t.list}getColumnDefs(){if(!this.colDefCols)return;const e=this.colDefCols.list.slice();this.showingPivotResult?e.sort((n,r)=>this.lastOrder.indexOf(n)-this.lastOrder.indexOf(r)):this.lastOrder&&e.sort((n,r)=>this.cols.list.indexOf(n)-this.cols.list.indexOf(r));const t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,t,i)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){var e;return((e=this.colDefCols)==null?void 0:e.treeDepth)>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(e=>e.getColDef().colSpan!=null)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,t){e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,this.ready&&(this.refreshCols(!1),this.visibleColsService.refresh(t),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return e&&this.gos.get("treeData")?(ue("Pivot mode not available with treeData."),!1):!0}isPivotActive(){const e=this.funcColsService.getPivotColumns();return this.pivotMode&&!Yi(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(e))}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e,t,i;vs(this.context,(e=this.colDefCols)==null?void 0:e.tree),vs(this.context,(t=this.autoCols)==null?void 0:t.tree),vs(this.context,(i=this.controlsCols)==null?void 0:i.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){var e;return(e=this.colDefCols)!=null&&e.list?this.colDefCols.list:null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}getAllCols(){var i,n,r;const e=this.pivotResultColsService.getPivotResultCols(),t=e==null?void 0:e.list;return[((i=this.colDefCols)==null?void 0:i.list)??[],((n=this.autoCols)==null?void 0:n.list)??[],((r=this.controlsCols)==null?void 0:r.list)??[],t??[]].flat()}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(t==null)return null;const{map:i,list:n}=t;if(typeof e=="string"&&i[e])return i[e];for(let r=0;r<n.length;r++)if(TD(n[r],e))return n[r];return this.getAutoCol(e)}getAutoCol(e){var t;return((t=this.autoCols)==null?void 0:t.list.find(i=>TD(i,e)))??null}getAutoCols(){var e;return((e=this.autoCols)==null?void 0:e.list)??null}setColHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){const e=[],t=this.ctrlsService.getHeaderRowContainerCtrls();for(const i of t){if(!i)continue;const n=i.getGroupRowCount()||0;for(let r=0;r<n;r++){const s=i.getGroupRowCtrlAtIndex(r),a=e[r];if(s){const u=this.getColumnGroupHeaderRowHeight(s);(a==null||u>a)&&(e[r]=u)}}}return e}getColumnGroupHeaderRowHeight(e){const t=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let i=0;const n=e.getHeaderCtrls();for(const r of n){const s=r.getColumn();if(s.isAutoHeaderHeight()){const a=s.getAutoHeaderHeight();a!=null&&a>i&&(i=a)}}return Math.max(t,i)}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),i=this.visibleColsService.getAllCols().filter(n=>n.isAutoHeaderHeight()).map(n=>n.getAutoHeaderHeight()||0);return Math.max(e,...i)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:i}=e;setTimeout(()=>{t?this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",i)})}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}onSelectionOptionsChanged(e,t,i){const n=t&&typeof t!="string"?Ua(t):void 0,r=e&&typeof e!="string"?Ua(e):void 0,s=n!==r,a=t&&typeof t!="string"?tf(t):void 0,u=e&&typeof e!="string"?tf(e):void 0;(s||a!==u)&&this.refreshAll(i)}};function oo(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function DD(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function TD(e,t){const i=e===t,n=e.getColDef()===t,r=e.getColId()==t;return i||n||r}function MD(e,t){return As(e,t,(i,n)=>i.getColId()===n.getColId())}var Lz=class extends ie{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:i,skipHeaderGroups:n,stopAtGroup:r,source:s="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>this.autoSizeCols(e));return}this.timesDelayed=0;const a=[];let u=-1;const c=i??this.gos.get("skipHeaderOnAutoSize"),h=n??c;for(;u!==0;){u=0;const p=[];t.forEach(g=>{if(!g)return;const m=this.columnModel.getCol(g);if(!m||a.indexOf(m)>=0)return;const y=this.autoWidthCalculator.getPreferredWidthForColumn(m,c);if(y>0){const b=this.normaliseColumnWidth(m,y);m.setActualWidth(b,s),a.push(m),u++}p.push(m)}),p.length&&this.visibleColsService.refresh(s)}h||this.autoSizeColumnGroupsByColumns(t,s,r),this.eventDispatcher.columnResized(a,!0,"autosizeColumns")}autoSizeColumn(e,t,i){e&&this.autoSizeCols({colKeys:[e],skipHeader:i,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,i){const n=new Set;this.columnModel.getColsForKeys(e).forEach(u=>{let c=u.getParent();for(;c&&c!=i;)c.isPadding()||n.add(c),c=c.getParent()});let s;const a=[];for(const u of n){for(const c of this.ctrlsService.getHeaderRowContainerCtrls())if(s=c.getHeaderCtrlForColumn(u),s)break;s&&s.resizeLeafColumnsToFit(t)}return a}autoSizeAllColumns(e,t){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const i=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:i,skipHeader:t,source:e})}normaliseColumnWidth(e,t){const i=e.getMinWidth();t<i&&(t=i);const n=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=n),t}},Iz=class extends ie{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>Ci(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>Ci(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>Ci(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(t===!0)return this.rowGroupCols.slice(0);const i=this.columnModel.getColDefCol(t);return i?[i]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return Yi(this.rowGroupCols)}setColumnAggFunc(e,t,i){if(!e)return;const n=this.columnModel.getColDefCol(e);n&&(n.setAggFunc(t),this.eventDispatcher.columnChanged("columnValueChanged",[n],i))}setRowGroupColumns(e,t){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(i,n)=>this.setRowGroupActive(i,n,t),t)}setRowGroupActive(e,t,i){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,i),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([t],!1,i),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([t],!0,i))}addRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!0,!0,i=>this.setRowGroupActive(!0,i,t),"columnRowGroupChanged",t)}removeRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!1,!0,i=>this.setRowGroupActive(!1,i,t),"columnRowGroupChanged",t)}addPivotColumns(e,t){this.updateColList(e,this.pivotCols,!0,!1,i=>i.setPivotActive(!0,t),"columnPivotChanged",t)}setPivotColumns(e,t){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,(i,n)=>{n.setPivotActive(i,t)},t)}removePivotColumns(e,t){this.updateColList(e,this.pivotCols,!1,!1,i=>i.setPivotActive(!1,t),"columnPivotChanged",t)}setValueColumns(e,t){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,(i,n)=>this.setValueActive(i,n,t),t)}setValueActive(e,t,i){if(e!==t.isValueActive()&&(t.setValueActive(e,i),e&&!t.getAggFunc()&&this.aggFuncService)){const n=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(n)}}addValueColumns(e,t){this.updateColList(e,this.valueCols,!0,!1,i=>this.setValueActive(!0,i,t),"columnValueChanged",t)}removeValueColumns(e,t){this.updateColList(e,this.valueCols,!1,!1,i=>this.setValueActive(!1,i,t),"columnValueChanged",t)}moveRowGroupColumn(e,t,i){if(this.isRowGroupEmpty())return;const n=this.rowGroupCols[e],r=this.rowGroupCols.slice(e,t);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(t,0,n),this.eventDispatcher.rowGroupChanged(r,i)}setColList(e,t,i,n,r,s,a){if(!this.columnModel.getCols())return;const u=new Map;t.forEach((h,p)=>u.set(h,p)),t.length=0,pe(e)&&e.forEach(h=>{const p=this.columnModel.getColDefCol(h);p&&t.push(p)}),t.forEach((h,p)=>{const g=u.get(h);if(g===void 0){u.set(h,0);return}n&&g!==p||u.delete(h)}),(this.columnModel.getColDefCols()||[]).forEach(h=>{const p=t.indexOf(h)>=0;s(p,h)}),r&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(a),this.eventDispatcher.columnChanged(i,[...u.keys()],a)}updateColList(e,t,i,n,r,s,a){if(!e||Yi(e))return;let u=!1;const c=new Set;e.forEach(h=>{if(!h)return;const p=this.columnModel.getColDefCol(h);if(p){if(c.add(p),i){if(t.indexOf(p)>=0)return;t.push(p)}else{const g=t.indexOf(p);if(g<0)return;for(let m=g+1;m<t.length;m++)c.add(t[m]);Ci(t,p)}r(p),u=!0}}),u&&(n&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(a),this.eventDispatcher.genericColumnEvent(s,Array.from(c),a))}extractCols(e,t){this.extractRowGroupCols(e,t),this.extractPivotCols(e,t),this.extractValueCols(e,t)}extractValueCols(e,t){this.valueCols=this.extractColsCommon(t,this.valueCols,(i,n)=>i.setValueActive(n,e),()=>{},()=>{},i=>{const n=i.aggFunc;if(n===null||n==="")return null;if(n!==void 0)return!!n},i=>i.initialAggFunc!=null&&i.initialAggFunc!=""),this.valueCols.forEach(i=>{const n=i.getColDef();n.aggFunc!=null&&n.aggFunc!=""?i.setAggFunc(n.aggFunc):i.getAggFunc()||i.setAggFunc(n.initialAggFunc)})}extractRowGroupCols(e,t){this.rowGroupCols=this.extractColsCommon(t,this.rowGroupCols,(i,n)=>i.setRowGroupActive(n,e),i=>i.rowGroupIndex,i=>i.initialRowGroupIndex,i=>i.rowGroup,i=>i.initialRowGroup)}extractPivotCols(e,t){this.pivotCols=this.extractColsCommon(t,this.pivotCols,(i,n)=>i.setPivotActive(n,e),i=>i.pivotIndex,i=>i.initialPivotIndex,i=>i.pivot,i=>i.initialPivot)}extractColsCommon(e=[],t=[],i,n,r,s,a){const u=[],c=[];(this.columnModel.getColDefCols()||[]).forEach(m=>{const y=e.indexOf(m)<0,b=m.getColDef(),w=Vb(s(b)),S=Vb(a(b)),x=mo(n(b)),E=mo(r(b));let R;w!==void 0?R=w:x!==void 0?x===null?R=!1:R=x>=0:y?S!==void 0?R=S:E!==void 0?R=E!=null&&E>=0:R=!1:R=t.indexOf(m)>=0,R&&((y?x!=null||E!=null:x!=null)?u.push(m):c.push(m))});const p=m=>{const y=n(m.getColDef()),b=r(m.getColDef());return y??b};u.sort((m,y)=>{const b=p(m),w=p(y);return b===w?0:b<w?-1:1});const g=[].concat(u);return t.forEach(m=>{c.indexOf(m)>=0&&g.push(m)}),c.forEach(m=>{g.indexOf(m)<0&&g.push(m)}),t.forEach(m=>{g.indexOf(m)<0&&i(m,!1)}),g.forEach(m=>{t.indexOf(m)<0&&i(m,!0)}),g}generateColumnStateForRowGroupAndPivotIndexes(e,t){const i={},n=(r,s,a,u,c,h)=>{const p=this.columnModel.getColDefCols();if(!s.length||!p)return[];const g=Object.keys(r),m=new Set(g),y=new Set(g),b=new Set(s.map(P=>{const F=P.getColId();return y.delete(F),F}).concat(g)),w=[],S={};let x=0;for(let P=0;P<p.length;P++){const F=p[P].getColId();b.has(F)&&(w.push(F),S[F]=x++)}let E=1e3,R=!1,T=0;const A=P=>{const F=S[P];for(let I=T;I<F;I++){const k=w[I];y.has(k)&&(r[k][c]=E++,y.delete(k))}T=F};s.forEach(P=>{const F=P.getColId();if(m.has(F))A(F),r[F][c]=E++;else{const I=P.getColDef();(I[c]===null||I[c]===void 0&&I[h]==null)&&(R||(I[a]||I[a]===void 0&&I[u]?A(F):(y.forEach(V=>{r[V][c]=E+S[V]}),E+=w.length,R=!0)),i[F]||(i[F]={colId:F}),i[F][c]=E++)}})};return n(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),n(t,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}},Nz=class extends ie{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,t){const i=this.columnModel.getColDefCols()||[];if(Yi(i))return!1;if(e&&e.state&&!e.state.forEach)return ue("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const n=this.funcColsService.getModifyColumnsNoEventsCallbacks(),r=(u,c,h)=>{const p=this.compareColumnStatesAndDispatchEvents(t),g=c.slice(),m={},y={},b=[],w=[];let S=0;const x=this.funcColsService.getRowGroupColumns().slice(),E=this.funcColsService.getPivotColumns().slice();u.forEach(P=>{const F=P.colId||"";if(F.startsWith(gp)){b.push(P),w.push(P);return}const k=h(F);k?(this.syncColumnWithStateItem(k,P,e.defaultState,m,y,!1,t,n),Ci(g,k)):(w.push(P),S+=1)});const R=P=>this.syncColumnWithStateItem(P,null,e.defaultState,m,y,!1,t,n);g.forEach(R),this.funcColsService.sortRowGroupColumns(FD.bind(this,m,x)),this.funcColsService.sortPivotColumns(FD.bind(this,y,E)),this.columnModel.refreshCols(!1);const A=(this.columnModel.getAutoCols()||[]).slice();return b.forEach(P=>{const F=this.columnModel.getAutoCol(P.colId);Ci(A,F),this.syncColumnWithStateItem(F,P,e.defaultState,null,null,!0,t,n)}),A.forEach(R),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(t),this.eventDispatcher.everythingChanged(t),p(),{unmatchedAndAutoStates:w,unmatchedCount:S}};this.columnAnimationService.start();let{unmatchedAndAutoStates:s,unmatchedCount:a}=r(e.state||[],i,u=>this.columnModel.getColDefCol(u));if(s.length>0||pe(e.defaultState)){const u=this.pivotResultColsService.getPivotResultCols(),c=u==null?void 0:u.list;a=r(s,c||[],h=>this.pivotResultColsService.getPivotResultCol(h)).unmatchedCount}return this.columnAnimationService.finish(),a===0}resetColumnState(e){const t=this.columnModel.getColDefCols();if(Yi(t))return;const i=this.columnModel.getColDefColTree(),n=_x(i),r=[];let s=1e3,a=1e3,u=[];const c=this.columnModel.getAutoCols();c&&(u=u.concat(c)),n&&(u=u.concat(n)),u.forEach(h=>{const p=this.getColumnStateFromColDef(h);je(p.rowGroupIndex)&&p.rowGroup&&(p.rowGroupIndex=s++),je(p.pivotIndex)&&p.pivot&&(p.pivotIndex=a++),r.push(p)}),this.applyColumnState({state:r,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(b,w)=>b??w??null,i=e.getColDef(),n=t(i.sort,i.initialSort),r=t(i.sortIndex,i.initialSortIndex),s=t(i.hide,i.initialHide),a=t(i.pinned,i.initialPinned),u=t(i.width,i.initialWidth),c=t(i.flex,i.initialFlex);let h=t(i.rowGroupIndex,i.initialRowGroupIndex),p=t(i.rowGroup,i.initialRowGroup);h==null&&(p==null||p==!1)&&(h=null,p=null);let g=t(i.pivotIndex,i.initialPivotIndex),m=t(i.pivot,i.initialPivot);g==null&&(m==null||m==!1)&&(g=null,m=null);const y=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:r,hide:s,pinned:a,width:u,flex:c,rowGroup:p,rowGroupIndex:h,pivot:m,pivotIndex:g,aggFunc:y}}syncColumnWithStateItem(e,t,i,n,r,s,a,u){if(!e)return;const c=(T,A)=>{const P={value1:void 0,value2:void 0};let F=!1;return t&&(t[T]!==void 0&&(P.value1=t[T],F=!0),pe(A)&&t[A]!==void 0&&(P.value2=t[A],F=!0)),!F&&i&&(i[T]!==void 0&&(P.value1=i[T]),pe(A)&&i[A]!==void 0&&(P.value2=i[A])),P},h=c("hide").value1;h!==void 0&&e.setVisible(!h,a);const p=c("pinned").value1;p!==void 0&&e.setPinned(p);const g=e.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth(),m=c("flex").value1;if(m!==void 0&&e.setFlex(m),m==null){const T=c("width").value1;T!=null&&g!=null&&T>=g&&e.setActualWidth(T,a)}const y=c("sort").value1;y!==void 0&&(y==="desc"||y==="asc"?e.setSort(y,a):e.setSort(void 0,a));const b=c("sortIndex").value1;if(b!==void 0&&e.setSortIndex(b),s||!e.isPrimary())return;const w=c("aggFunc").value1;w!==void 0&&(typeof w=="string"?(e.setAggFunc(w),e.isValueActive()||(e.setValueActive(!0,a),u.addValueCol(e))):(pe(w)&&ue("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,a),u.removeValueCol(e))));const{value1:S,value2:x}=c("rowGroup","rowGroupIndex");(S!==void 0||x!==void 0)&&(typeof x=="number"||S?(e.isRowGroupActive()||(e.setRowGroupActive(!0,a),u.addGroupCol(e)),n&&typeof x=="number"&&(n[e.getId()]=x)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,a),u.removeGroupCol(e)));const{value1:E,value2:R}=c("pivot","pivotIndex");(E!==void 0||R!==void 0)&&(typeof R=="number"||E?(e.isPivotActive()||(e.setPivotActive(!0,a),u.addPivotCol(e)),r&&typeof R=="number"&&(r[e.getId()]=R)):e.isPivotActive()&&(e.setPivotActive(!1,a),u.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;const t=[];e.state.forEach(i=>{i.colId!=null&&t.push(i.colId)}),this.columnModel.sortColsLikeKeys(t)}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},i=this.columnGetStateService.getColumnState(),n={};return i.forEach(r=>{n[r.colId]=r}),()=>{const r=this.columnModel.getAllCols(),s=(w,S,x,E)=>{const R=S.map(E),T=x.map(E);if(As(R,T))return;const P=new Set(S);x.forEach(I=>{P.delete(I)||P.add(I)});const F=[...P];this.eventService.dispatchEvent({type:w,columns:F,column:F.length===1?F[0]:null,source:e})},a=w=>{const S=[];return r.forEach(x=>{const E=n[x.getColId()];E&&w(E,x)&&S.push(x)}),S},u=w=>w.getColId();s("columnRowGroupChanged",t.rowGroupColumns,this.funcColsService.getRowGroupColumns(),u),s("columnPivotChanged",t.pivotColumns,this.funcColsService.getPivotColumns(),u);const h=a((w,S)=>{const x=w.aggFunc!=null,E=x!=S.isValueActive(),R=x&&w.aggFunc!=S.getAggFunc();return E||R});h.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",h,e);const p=(w,S)=>w.width!=S.getActualWidth();this.eventDispatcher.columnResized(a(p),!0,e);const g=(w,S)=>w.pinned!=S.getPinned();this.eventDispatcher.columnPinned(a(g),e);const m=(w,S)=>w.hide==S.isVisible();this.eventDispatcher.columnVisible(a(m),e);const b=a((w,S)=>w.sort!=S.getSort()||w.sortIndex!=S.getSortIndex());b.length>0&&this.sortController.dispatchSortChangedEvents(e,b),this.normaliseColumnMovedEventForColumnState(i,e)}}normaliseColumnMovedEventForColumnState(e,t){const i=this.columnGetStateService.getColumnState(),n={};i.forEach(c=>n[c.colId]=c);const r={};e.forEach(c=>{n[c.colId]&&(r[c.colId]=!0)});const s=e.filter(c=>r[c.colId]),a=i.filter(c=>r[c.colId]),u=[];a.forEach((c,h)=>{const p=s&&s[h];if(p&&p.colId!==c.colId){const g=this.columnModel.getCol(p.colId);g&&u.push(g)}}),u.length&&this.eventDispatcher.columnMoved({movedColumns:u,source:t,finished:!0})}},FD=(e,t,i,n)=>{const r=e[i.getId()],s=e[n.getId()],a=r!=null,u=s!=null;if(a&&u)return r-s;if(a)return-1;if(u)return 1;const c=t.indexOf(i),h=t.indexOf(n),p=c>=0,g=h>=0;return p&&g?c-h:p?-1:1},_z=class extends ie{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,t,i){const n=this.columnModel.getCols();if(!n)return;const r=n[e];this.moveColumns([r],t,i)}moveColumns(e,t,i,n=!0){const r=this.columnModel.getCols();if(!r)return;if(t>r.length-e.length){ue("tried to insert columns in invalid location, toIndex = ",t),ue("remember that you should not count the moving columns when calculating the new index");return}this.columnAnimationService.start();const s=this.columnModel.getColsForKeys(e);this.doesMovePassRules(s,t)&&(this.columnModel.moveInCols(s,t,i),this.eventDispatcher.columnMoved({movedColumns:s,source:i,toIndex:t,finished:n})),this.columnAnimationService.finish()}doesMovePassRules(e,t){const i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const n=this.columnModel.getCols().slice();return iN(n,e,t),n}doesMovePassLockedPositions(e){const t=s=>s?s==="left"||s===!0?-1:1:0,i=this.gos.get("enableRtl");let n=i?1:-1,r=!0;return e.forEach(s=>{const a=t(s.getColDef().lockPosition);i?a>n&&(r=!1):a<n&&(r=!1),n=a}),r}doesMovePassMarryChildren(e){let t=!0;const i=this.columnModel.getColTree();return Or(null,i,n=>{if(!mi(n))return;const r=n,s=r.getColGroupDef();if(!(s&&s.marryChildren))return;const u=[];r.getLeafColumns().forEach(m=>{const y=e.indexOf(m);u.push(y)});const c=Math.max.apply(Math,u),h=Math.min.apply(Math,u),p=c-h,g=r.getLeafColumns().length-1;p>g&&(t=!1)}),t}placeLockedColumns(e){const t=[],i=[],n=[];return e.forEach(s=>{const a=s.getColDef().lockPosition;a==="right"?n.push(s):a==="left"||a===!0?t.push(s):i.push(s)}),this.gos.get("enableRtl")?[...n,...i,...t]:[...t,...i,...n]}},kz=/[&<>"']/g,Gz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function qn(e,t){if(e==null)return null;const i=e.toString().toString();return t?i:i.replace(kz,n=>Gz[n])}function Bz(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,i=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(i,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" ")}var Hz=class extends ie{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,t);return i?this.wrapHeaderNameWithAggFunc(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,i){const n=t?t.getColGroupDef():null;return n?this.getHeaderName(n,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,n,r){const s=e.headerValueGetter;if(s){const a=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:i,providedColumnGroup:n,location:r});return typeof s=="function"?s(a):typeof s=="string"?this.expressionService.evaluate(s,a):(ue("headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return Bz(e.field)}return""}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const i=e.getColDef().pivotValueColumn,n=pe(i);let r=null,s;if(n){const a=this.funcColsService.getValueColumns(),u=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&a.length===1,c=e.getColDef().pivotTotalColumnIds!==void 0;if(u&&!c)return t;r=i?i.getAggFunc():null,s=!0}else{const a=e.isValueActive(),u=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();a&&u?(r=e.getAggFunc(),s=!0):s=!1}if(s){const a=typeof r=="string"?r:"func";return`${this.localeService.getLocaleTextFunc()(a,a)}(${t})`}return t}},Vz=class extends ie{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){var e;vs(this.context,(e=this.pivotResultCols)==null?void 0:e.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(e,t){if(this.pivotResultCols==null)return null;const i=this.columnModel.getColDefCol(t);let n=null;return this.pivotResultCols.list.forEach(r=>{const s=r.getColDef().pivotKeys,a=r.getColDef().pivotValueColumn;As(s,e)&&a===i&&(n=r)}),n}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){var i,n;if(this.columnModel.isReady()&&!(e==null&&this.pivotResultCols==null)){if(e){this.processPivotResultColDef(e);const r=this.columnFactory.createColumnTree(e,!1,((i=this.pivotResultCols)==null?void 0:i.tree)||this.previousPivotResultCols||void 0,t);vs(this.context,(n=this.pivotResultCols)==null?void 0:n.tree,r.columnTree);const s=r.columnTree,a=r.treeDept,u=_x(s),c={};this.pivotResultCols={tree:s,treeDepth:a,list:u,map:c},this.pivotResultCols.list.forEach(p=>this.pivotResultCols.map[p.getId()]=p);const h=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.columnModel.refreshCols(!h)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.columnModel.refreshCols(!1);this.visibleColsService.refresh(t)}}processPivotResultColDef(e){const t=this.gos.get("processPivotResultColDef"),i=this.gos.get("processPivotResultColGroupDef");if(!t&&!i)return;const n=r=>{r.forEach(s=>{if(pe(s.children)){const u=s;i&&i(u),n(u.children)}else t&&t(s)})};e&&n(e)}},jz=class extends ie{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,t,i,n){const r=[];e.forEach(s=>{const a=this.columnModel.getColDefCol(s.key)||this.columnModel.getCol(s.key);if(!a)return;if(r.push({width:s.newWidth,ratios:[1],columns:[a]}),this.gos.get("colResizeDefault")==="shift"&&(t=!t),t){const c=this.visibleColsService.getColAfter(a);if(!c)return;const h=a.getActualWidth()-s.newWidth,p=c.getActualWidth()+h;r.push({width:p,ratios:[1],columns:[c]})}}),r.length!==0&&this.resizeColumnSets({resizeSets:r,finished:i,source:n})}resizeColumnSets(e){const{resizeSets:t,finished:i,source:n}=e;if(!(!t||t.every(p=>this.checkMinAndMaxWidthsForSet(p)))){if(i){const p=t&&t.length>0?t[0].columns:null;this.eventDispatcher.columnResized(p,i,n)}return}const s=[],a=[];t.forEach(p=>{const{width:g,columns:m,ratios:y}=p,b={},w={};m.forEach(E=>a.push(E));let S=!0,x=0;for(;S;){if(x++,x>1e3){Qe("infinite loop in resizeColumnSets");break}S=!1;const E=[];let R=0,T=g;m.forEach((P,F)=>{if(w[P.getId()])T-=b[P.getId()];else{E.push(P);const k=y[F];R+=k}});const A=1/R;E.forEach((P,F)=>{const I=F===E.length-1;let k;I?k=T:(k=Math.round(y[F]*g*A),T-=k);const W=P.getMinWidth(),V=P.getMaxWidth();k<W?(k=W,w[P.getId()]=!0,S=!0):V>0&&k>V&&(k=V,w[P.getId()]=!0,S=!0),b[P.getId()]=k})}m.forEach(E=>{const R=b[E.getId()];E.getActualWidth()!==R&&(E.setActualWidth(R,n),s.push(E))})});const u=s.length>0;let c=[];u&&(c=this.refreshFlexedColumns({resizingCols:a,skipSetLeft:!0}),this.visibleColsService.setLeftValues(n),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const h=a.concat(c);(u||i)&&this.eventDispatcher.columnResized(h,i,n,c)}checkMinAndMaxWidthsForSet(e){const{columns:t,width:i}=e;let n=0,r=0,s=!0;t.forEach(c=>{const h=c.getMinWidth();n+=h||0;const p=c.getMaxWidth();p>0?r+=p:s=!1});const a=i>=n,u=!s||i<=r;return a&&u}refreshFlexedColumns(e={}){const t=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];const i=this.visibleColsService.getCenterCols();let n=-1;if(e.resizingCols){const m=new Set(e.resizingCols);for(let y=i.length-1;y>=0;y--)if(m.has(i[y])){n=y;break}}let r=0,s=[],a=0,u=0;for(let m=0;m<i.length;m++)i[m].getFlex()&&m>n?(s.push(i[m]),u+=i[m].getFlex(),a+=i[m].getMinWidth()):r+=i[m].getActualWidth();if(!s.length)return[];let c=[];r+a>this.flexViewportWidth&&(s.forEach(m=>m.setActualWidth(m.getMinWidth(),t)),c=s,s=[]);const h=[];let p;e:for(;;){p=this.flexViewportWidth-r;const m=p/u;for(let y=0;y<s.length;y++){const b=s[y],w=m*b.getFlex();let S=0;const x=b.getMinWidth(),E=b.getMaxWidth();if(w<x?S=x:w>E&&(S=E),S){b.setActualWidth(S,t),tN(s,b),u-=b.getFlex(),c.push(b),r+=b.getActualWidth();continue e}h[y]=Math.floor(w)}break}let g=p;return s.forEach((m,y)=>{const b=y<s.length-1?Math.min(h[y],g):Math.max(h[y],g);m.setActualWidth(b,t),c.push(m),g-=h[y]}),e.skipSetLeft||this.visibleColsService.setLeftValues(t),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(c,!0,t,s),s}sizeColumnsToFit(e,t="sizeColumnsToFit",i,n){var m;if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,i,n));return}const r={};n&&((m=n==null?void 0:n.columnLimits)==null||m.forEach(({key:y,...b})=>{r[typeof y=="string"?y:y.getColId()]=b}));const s=this.visibleColsService.getAllCols(),a=e===xr(s);if(e<=0||!s.length||a)return;const u=[],c=[];s.forEach(y=>{y.getColDef().suppressSizeToFit===!0?c.push(y):u.push(y)});const h=u.slice(0);let p=!1;const g=y=>{Ci(u,y),c.push(y)};for(u.forEach(y=>{y.resetActualWidth(t);const b=r==null?void 0:r[y.getId()],w=(b==null?void 0:b.minWidth)??(n==null?void 0:n.defaultMinWidth),S=(b==null?void 0:b.maxWidth)??(n==null?void 0:n.defaultMaxWidth),x=y.getActualWidth();typeof w=="number"&&x<w?y.setActualWidth(w,t,!0):typeof S=="number"&&x>S&&y.setActualWidth(S,t,!0)});!p;){p=!0;const y=e-xr(c);if(y<=0)u.forEach(b=>{var S;const w=((S=r==null?void 0:r[b.getId()])==null?void 0:S.minWidth)??(n==null?void 0:n.defaultMinWidth);if(typeof w=="number"){b.setActualWidth(w,t,!0);return}b.setMinimum(t)});else{const b=y/xr(u);let w=y;for(let S=u.length-1;S>=0;S--){const x=u[S],E=r==null?void 0:r[x.getId()],R=(E==null?void 0:E.minWidth)??(n==null?void 0:n.defaultMinWidth),T=(E==null?void 0:E.maxWidth)??(n==null?void 0:n.defaultMaxWidth),A=x.getMinWidth(),P=x.getMaxWidth(),F=typeof R=="number"&&R>A?R:A,I=typeof T=="number"&&T<P?T:P;let k=Math.round(x.getActualWidth()*b);k<F?(k=F,g(x),p=!1):k>I?(k=I,g(x),p=!1):S===0&&(k=w),x.setActualWidth(k,t,!0),w-=k}}}h.forEach(y=>{y.fireColumnWidthChangedEvent(t)}),this.visibleColsService.setLeftValues(t),this.visibleColsService.updateBodyWidths(),!i&&this.eventDispatcher.columnResized(h,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:i,defaultMinWidth:n,defaultMaxWidth:r}=e,s=i==null?void 0:i.map(({colId:a,minWidth:u,maxWidth:c})=>({key:a,minWidth:u,maxWidth:c}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:n,defaultMaxWidth:r,columnLimits:s})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}};function lN(e,t){return e+"_"+t}function Mt(e){return e instanceof uN}var uN=class extends ie{constructor(e,t,i,n){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=t,this.partId=i,this.providedColumnGroup=e,this.pinned=n}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return lN(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Mt(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Ve(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{Es(t)?e.push(t):Mt(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{Es(t)?e.push(t):Mt(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(i=>{if(Mt(i)&&(!i.displayedChildren||!i.displayedChildren.length))return;switch(i.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(i);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},cN=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let i;return typeof t!="number"?i=0:i=t+1,this.existingIds[e]=i,i}},zz=class extends ie{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e,t=!1){t||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=Av(this.treeLeft),this.columnsCenter=Av(this.treeCenter),this.columnsRight=Av(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter(i=>i.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols(e)}updateBodyWidths(){const e=xr(this.columnsCenter),t=xr(this.columnsLeft),i=xr(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let t,i;this.gos.get("enableRtl")?(t=this.columnsLeft?this.columnsLeft[0]:null,i=this.columnsRight?Ve(this.columnsRight):null):(t=this.columnsLeft?Ve(this.columnsLeft):null,i=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(n=>{n.setLastLeftPinned(n===t,e),n.setFirstRightPinned(n===i,e)})}buildTrees(){const e=this.columnModel.getColsToShow(),t=e.filter(s=>s.getPinned()=="left"),i=e.filter(s=>s.getPinned()=="right"),n=e.filter(s=>s.getPinned()!="left"&&s.getPinned()!="right"),r=new cN;this.treeLeft=this.createGroups({columns:t,idCreator:r,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:i,idCreator:r,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:n,idCreator:r,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const e=this.columnModel.getCols(),t=[],i=[],n=[];for(const r of e){const s=r.getPinned();s?s===!0||s==="left"?t.push(r):n.push(r):i.push(r)}this.ariaOrderColumns=t.concat(i).concat(n)}getAriaColIndex(e){let t;return Mt(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Mt(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;const i=this.columnModel.getCols().slice(0),n=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(r=>{if(n){let s=xr(r);r.forEach(a=>{s-=a.getActualWidth(),a.setLeft(s,e)})}else{let s=0;r.forEach(a=>{a.setLeft(s,e),s+=a.getActualWidth()})}yz(i,r)}),i.forEach(r=>{r.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,t,i,n){const r=[];let s=null;for(let a=0;a<t.length;a++){const u=t[a],c=t.length-a,h=Math.min(u.getColSpan(e),c),p=[u];if(h>1){const m=h-1;for(let y=1;y<=m;y++)p.push(t[a+y]);a+=m}let g;i?(g=!1,p.forEach(m=>{i(m)&&(g=!0)})):g=!0,g&&(r.length===0&&s&&(n&&n(u))&&r.push(s),r.push(u)),s=u}return r}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){const t=this.getAllCols(),i=t.indexOf(e);return i>0?t[i-1]:null}getGroupAtDirection(e,t){const i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),r=t==="After"?Ve(n):n[0],s=`getCol${t}`;for(;;){const a=this[s](r);if(!a)return null;const u=this.getColGroupAtLevel(a,i);if(u!==e)return u}}getColGroupAtLevel(e,t){let i=e.getParent(),n,r;for(;n=i.getProvidedColumnGroup().getLevel(),r=i.getPaddingLevel(),!(n+r<=t);)i=i.getParent();return i}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};ao(this.treeCenter,!1,e),ao(this.treeLeft,!1,e),ao(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllTrees();ao(e,!1,t=>{Mt(t)&&t.calculateDisplayedColumns()})}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["getLeftCols","getCenterCols","getRightCols"];e&&t.reverse();for(let i=0;i<t.length;i++){const n=this[t[i]]();if(n.length)return e?Ve(n):n[0]}return null}getColumnGroup(e,t){if(!e)return null;if(Mt(e))return e;const i=this.getAllTrees(),n=typeof t=="number";let r=null;return ao(i,!1,s=>{if(Mt(s)){const a=s;let u;n?u=e===a.getGroupId()&&t===a.getPartId():u=e===a.getGroupId(),u&&(r=a)}}),r}getColAfter(e){const t=this.getAllCols(),i=t.indexOf(e);return i<t.length-1?t[i+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return xr(this.columnsLeft)}getDisplayedColumnsRightWidth(){return xr(this.columnsRight)}isColAtEdge(e,t){const i=this.getAllCols();if(!i.length)return!1;const n=t==="first";let r;if(Mt(e)){const s=e.getDisplayedLeafColumns();if(!s.length)return!1;r=n?s[0]:Ve(s)}else r=e;return(n?i[0]:Ve(i))===r}createGroups(e){const{columns:t,idCreator:i,pinned:n,oldDisplayedGroups:r,isStandaloneStructure:s}=e,a=this.mapOldGroupsById(r),u=[];let c=t;for(;c.length;){const h=c;c=[];let p=0;const g=m=>{const y=p;p=m;const b=h[y],S=(Mt(b)?b.getProvidedColumnGroup():b).getOriginalParent();if(S==null){for(let E=y;E<m;E++)u.push(h[E]);return}const x=this.createColGroup(S,i,a,n,s);for(let E=y;E<m;E++)x.addChild(h[E]);c.push(x)};for(let m=1;m<h.length;m++){const y=h[m],w=(Mt(y)?y.getProvidedColumnGroup():y).getOriginalParent(),S=h[p],E=(Mt(S)?S.getProvidedColumnGroup():S).getOriginalParent();w!==E&&g(m)}p<h.length&&g(h.length)}return s||this.setupParentsIntoCols(u,null),u}createColGroup(e,t,i,n,r){const s=e.getGroupId(),a=t.getInstanceIdForKey(s),u=lN(s,a);let c=i[u];return c&&c.getProvidedColumnGroup()!==e&&(c=null),pe(c)?c.reset():(c=new uN(e,s,a,n),r||this.createBean(c)),c}mapOldGroupsById(e){const t={},i=n=>{n.forEach(r=>{if(Mt(r)){const s=r;t[r.getUniqueId()]=s,i(s.getChildren())}})};return e&&i(e),t}setupParentsIntoCols(e,t){e.forEach(i=>{if(i.setParent(t),Mt(i)){const n=i;this.setupParentsIntoCols(n.getChildren(),n)}})}};function ao(e,t,i){if(e)for(let n=0;n<e.length;n++){const r=e[n];if(Mt(r)){const s=t?r.getDisplayedChildren():r.getChildren();ao(s,t,i)}i(r)}}function Av(e){const t=[];return ao(e,!0,i=>{Es(i)&&t.push(i)}),t}var dN=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],Wz=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],Uz=[...dN,...Wz],$z={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0},ci=class{};ci.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];ci.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"];ci.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];ci.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];ci.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"];ci.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"];ci.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];ci.ALL_PROPERTIES=[...ci.ARRAY_PROPERTIES,...ci.OBJECT_PROPERTIES,...ci.STRING_PROPERTIES,...ci.NUMBER_PROPERTIES,...ci.FUNCTION_PROPERTIES,...ci.BOOLEAN_PROPERTIES,...ci.OTHER_PROPERTIES];var hc=ci,gn=class{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)}};gn.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";gn.PUBLIC_EVENTS=dN;gn.EVENT_CALLBACKS=Uz.map(e=>gn.getCallbackForEvent(e));gn.BOOLEAN_PROPERTIES=hc.BOOLEAN_PROPERTIES;gn.ALL_PROPERTIES=hc.ALL_PROPERTIES;gn.ALL_PROPERTIES_AND_CALLBACKS=[...gn.ALL_PROPERTIES,...gn.EVENT_CALLBACKS];gn.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(gn.ALL_PROPERTIES_AND_CALLBACKS);var fc=gn;function qz(e,t){typeof e!="object"&&(e={});const i={...e};return fc.ALL_PROPERTIES_AND_CALLBACKS.forEach(r=>{const s=t[r];typeof s<"u"&&s!==fc.VUE_OMITTED_PROPERTY&&(i[r]=s)}),i}function Kz(e,t){if(!e)return;const i={};let n=!1;if(Object.keys(e).filter(a=>fc.ALL_PROPERTIES_AND_CALLBACKS_SET.has(a)).forEach(a=>{i[a]=e[a],n=!0}),!n)return;const r={type:"gridOptionsChanged",options:i};t.dispatchEvent(r);const s={type:"componentStateChanged"};Mn(i,(a,u)=>{s[a]=u}),t.dispatchEvent(s)}var Rl=class extends ie{};function Jc(e,t,i){return i&&e.addDestroyFunc(()=>t.destroyBean(i)),i??e}var ed=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(n=>this.addCssClass(n));return}if(this.cssClassStates[e]!==!0&&e.length){const n=this.getGui();n&&n.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(n=>this.removeCssClass(n));return}if(this.cssClassStates[e]!==!1&&e.length){const n=this.getGui();n&&n.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const n=(e||"").split(" ");if(n.length>1){n.forEach(r=>this.addOrRemoveCssClass(r,t));return}}if(this.cssClassStates[e]!==t&&e.length){const n=this.getGui();n&&n.classList.toggle(e,t),this.cssClassStates[e]=t}}};function kr(e,t,i){i==null||typeof i=="string"&&i==""?hN(e,t):tr(e,t,i)}function tr(e,t,i){e.setAttribute(fN(t),i.toString())}function hN(e,t){e.removeAttribute(fN(t))}function fN(e){return`aria-${e}`}function Nn(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function Yz(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function Xz(e){return e.getAttribute("aria-label")}function Ka(e,t){kr(e,"label",t)}function pc(e,t){kr(e,"labelledby",t)}function pN(e,t){kr(e,"live",t)}function Qz(e,t){kr(e,"atomic",t)}function Zz(e,t){kr(e,"relevant",t)}function Jz(e,t){kr(e,"disabled",t)}function gN(e,t){kr(e,"hidden",t)}function sf(e,t){tr(e,"expanded",t)}function e2(e,t){tr(e,"setsize",t)}function t2(e,t){tr(e,"posinset",t)}function i2(e,t){tr(e,"rowcount",t)}function n2(e,t){tr(e,"rowindex",t)}function r2(e,t){tr(e,"colcount",t)}function mN(e,t){tr(e,"colindex",t)}function s2(e,t){tr(e,"colspan",t)}function o2(e,t){tr(e,"sort",t)}function a2(e){hN(e,"sort")}function of(e,t){kr(e,"selected",t)}function l2(e,t){kr(e,"controls",t.id),pc(t,e.id)}function Bx(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var u2="[tabindex], input, select, button, textarea, [href]",vN="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Hx(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(e,"input, select, button, textarea"),r=t.call(e,vN),s=Qn(e);return n&&!r&&s}function bt(e,t,i={}){const{skipAriaHidden:n}=i;e.classList.toggle("ag-hidden",!t),n||gN(e,!t)}function c2(e,t,i={}){const{skipAriaHidden:n}=i;e.classList.toggle("ag-invisible",!t),n||gN(e,!t)}function gc(e,t){const i="disabled",n=t?r=>r.setAttribute(i,""):r=>r.removeAttribute(i);n(e),bN(e.querySelectorAll("input"),r=>n(r))}function Ha(e,t,i){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof i=="number"){if(++n>i)break}else if(e===i)break}return!1}function No(e){const{height:t,width:i,borderTopWidth:n,borderRightWidth:r,borderBottomWidth:s,borderLeftWidth:a,paddingTop:u,paddingRight:c,paddingBottom:h,paddingLeft:p,marginTop:g,marginRight:m,marginBottom:y,marginLeft:b,boxSizing:w}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(a||"0"),paddingTop:parseFloat(u||"0"),paddingRight:parseFloat(c||"0"),paddingBottom:parseFloat(h||"0"),paddingLeft:parseFloat(p||"0"),marginTop:parseFloat(g||"0"),marginRight:parseFloat(m||"0"),marginBottom:parseFloat(y||"0"),marginLeft:parseFloat(b||"0"),boxSizing:w}}function Vx(e){const t=No(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function td(e){const t=No(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function yN(e){const{height:t,marginBottom:i,marginTop:n}=No(e);return Math.floor(t+i+n)}function af(e){const{width:t,marginLeft:i,marginRight:n}=No(e);return Math.floor(t+i+n)}function CN(e){const t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:n,borderRightWidth:r,borderBottomWidth:s}=No(e);return{top:t.top+(i||0),left:t.left+(n||0),right:t.right+(r||0),bottom:t.bottom+(s||0)}}function lf(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i)),i}function uf(e,t,i){i&&(t*=-1),e.scrollLeft=t}function Xi(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function To(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function SN(e){return!!e.offsetParent}function Qn(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!SN(e)||window.getComputedStyle(e).visibility!=="visible")}function mc(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function d2(e){return e.clientWidth<e.scrollWidth}function h2(e){return e.clientHeight<e.scrollHeight}function cf(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):In(e,t)}function In(e,t){t=jx(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function Zu(e,t){t=jx(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function jx(e){return typeof e=="number"?`${e}px`:e}function zx(e){return e instanceof Node||e instanceof HTMLElement}function f2(e){if(e==null)return[];const t=[];return bN(e,i=>t.push(i)),t}function p2(e,t){if(e)for(let i=0;i<e.length;i++){const n=e[i];t(n.name,n.value)}}function mn(e,t,i){i==null||i===""?e.removeAttribute(t):e.setAttribute(t,i.toString())}function bN(e,t){if(e!=null)for(let i=0;i<e.length;i++)t(e[i])}var Ya=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},Pv,Ph,Dv,Tv,Mv,Fv,Xb,Qb,Ov;function Lr(){return Pv===void 0&&(Pv=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Pv}function wN(){if(Ph===void 0)if(Lr()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(Ph=e[1]!=null?parseFloat(e[1]):0)}else Ph=0;return Ph}function g2(){if(Dv===void 0){const e=window;Dv=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Dv}function Wx(){return Tv===void 0&&(Tv=/(firefox)/i.test(navigator.userAgent)),Tv}function xN(){return Mv===void 0&&(Mv=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Mv}function Ps(){return Fv===void 0&&(Fv=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),Fv}function OD(){return!Lr()||wN()>=15}function Zb(e){if(!e)return null;const t=e.tabIndex,i=e.getAttribute("tabIndex");return t===-1&&(i===null||i===""&&!Wx())?null:t.toString()}function m2(){if(Ov!==void 0)return Ov;if(!document.body)return-1;let e=1e6;const t=Wx()?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){const n=e*2;if(i.style.height=n+"px",n>t||i.clientHeight!==n)break;e=n}return document.body.removeChild(i),Ov=e,e}function v2(){var e,t;return((e=document.body)==null?void 0:e.clientWidth)??(window.innerHeight||((t=document.documentElement)==null?void 0:t.clientWidth)||-1)}function y2(){var e,t;return((e=document.body)==null?void 0:e.clientHeight)??(window.innerHeight||((t=document.documentElement)==null?void 0:t.clientHeight)||-1)}function C2(){return Qb==null&&RN(),Qb}function RN(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;i===0&&t.clientWidth===0&&(i=null),t.parentNode&&t.parentNode.removeChild(t),i!=null&&(Qb=i,Xb=i===0)}function EN(){return Xb==null&&RN(),Xb}var S2=1e3,b2=1e3,LD=100,AN=class io extends ie{constructor(t,i,n,r){super(),this.parentComp=t,this.tooltipShowDelayOverride=i,this.tooltipHideDelayOverride=n,this.shouldDisplayTooltip=r,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(t){this.popupService=t.popupService,this.userComponentFactory=t.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const t=this.parentComp.getGui();this.tooltipTrigger===0&&this.addManagedListeners(t,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(t,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(t,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(t,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(t){const i=this.gos.get(t);return i<0&&ue(`${t} should not be lower than 0`),Math.max(200,i)}getTooltipDelay(t){return t==="show"?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const t=this.gos.get("tooltipTrigger");return!t||t==="hover"?0:1}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Ps()&&(io.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(t)},LD):this.prepareToShowTooltip(t))}onMouseMove(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(t){var s;const i=t.relatedTarget,n=this.parentComp.getGui(),r=(s=this.tooltipComp)==null?void 0:s.getGui();this.isInteractingWithTooltip||n.contains(i)||this.interactionEnabled&&(r!=null&&r.contains(i))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(t){if(this.state!=0||io.isLocked)return;let i=0;t&&(i=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.state=1}isLastTooltipHiddenRecently(){const t=new Date().getTime(),i=io.lastTooltipHideTime;return t-i<S2}setToDoNothing(t){!t&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const t={...this.parentComp.getTooltipParams()};if(!pe(t.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(i)}hideTooltip(t){!t&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),io.lastTooltipHideTime=new Date().getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),t&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(t,i){if(this.state!==2||this.tooltipInstanceCount!==t){this.destroyBean(i);return}const r=i.getGui();this.tooltipComp=i,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&r.classList.add("ag-tooltip-animate"),this.interactionEnabled&&r.classList.add("ag-tooltip-interactive");const s=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({eChild:r,ariaLabel:s("ariaLabelTooltip","Tooltip")});if(a&&(this.tooltipPopupDestroyFunc=a.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const u=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:u,columnMoved:u})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(r,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Pt(this.gos),{keydown:u=>{r.contains(u==null?void 0:u.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(r,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:r,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var n;const t=(n=this.tooltipComp)==null?void 0:n.getGui(),i=wt(this.gos);return!!t&&t.contains(i)}onTooltipFocusOut(t){const i=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,i.contains(t.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...t,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...t,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const t=this.tooltipPopupDestroyFunc,i=this.tooltipComp,n=this.tooltipTrigger===0?b2:0;window.setTimeout(()=>{t(),this.destroyBean(i)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(t=>{t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){io.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},LD)}unlockService(){io.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};AN.isLocked=!1;var w2=AN,El=class extends ie{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",i=this.ctrl.getGui();i&&(e!=null&&e!=""?i.setAttribute(t,e):i.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var t,i,n,r;if(this.tooltipManager!=null)return;const e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new w2(e,(i=(t=this.ctrl).getTooltipShowDelayOverride)==null?void 0:i.call(t),(r=(n=this.ctrl).getTooltipHideDelayOverride)==null?void 0:r.call(n),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){var r,s,a,u,c;const e=this.ctrl,t=(r=e.getColumn)==null?void 0:r.call(e),i=(s=e.getColDef)==null?void 0:s.call(e),n=(a=e.getRowNode)==null?void 0:a.call(e);return{location:e.getLocation(),colDef:i,column:t,rowIndex:(u=e.getRowIndex)==null?void 0:u.call(e),node:n,data:n==null?void 0:n.data,value:this.getTooltipText(),valueFormatted:(c=e.getValueFormatted)==null?void 0:c.call(e),hideTooltipCallback:()=>{var h;return(h=this.tooltipManager)==null?void 0:h.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},x2=new Ya,xe=null,ht=class PN extends ie{constructor(t,i){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=x2.next(),this.cssClassManager=new ed(()=>this.eGui),this.componentSelectors=new Map((i??[]).map(n=>[n.selector,n])),t&&this.setTemplate(t)}preWireBeans(t){super.preWireBeans(t)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(t,i){t&&this.gos&&(this.applyElementsToComponent(t),this.createChildComponentsFromTags(t,i))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){const{newTooltipText:i,showDelayOverride:n,hideDelayOverride:r,location:s,shouldDisplayTooltip:a}=t||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==i&&(this.tooltipText=i);const u=()=>this.tooltipText;i!=null&&(this.tooltipFeature=this.createBean(new El({getTooltipValue:u,getGui:()=>this.getGui(),getLocation:()=>s??"UNKNOWN",getColDef:t==null?void 0:t.getColDef,getColumn:t==null?void 0:t.getColumn,getTooltipShowDelayOverride:n!=null?()=>n:void 0,getTooltipHideDelayOverride:r!=null?()=>r:void 0,shouldDisplayTooltip:a})))}getDataRefAttribute(t){return t.getAttribute?t.getAttribute("data-ref"):null}applyElementsToComponent(t,i,n,r=null){if(i===void 0&&(i=this.getDataRefAttribute(t)),i){const s=this[i];if(s===xe)this[i]=r??t;else{const a=n&&n[i];!this.suppressDataRefValidation&&!a&&ue(`Issue with data-ref: ${i} on ${this.constructor.name} with ${s}`)}}}createChildComponentsFromTags(t,i){f2(t.childNodes).forEach(r=>{if(!(r instanceof HTMLElement))return;const s=this.createComponentFromElement(r,a=>{a.getGui()&&this.copyAttributesFromNode(r,a.getGui())},i);if(s){if(s.addItems&&r.children.length){this.createChildComponentsFromTags(r,i);const a=Array.prototype.slice.call(r.children);s.addItems(a)}this.swapComponentForNode(s,t,r)}else r.childNodes&&this.createChildComponentsFromTags(r,i)})}createComponentFromElement(t,i,n){const r=t.nodeName,s=this.getDataRefAttribute(t),a=r.indexOf("AG-")===0,u=a?this.componentSelectors.get(r):null;let c=null;if(u){PN.elementGettingCreated=t;const h=n&&s?n[s]:void 0;c=new u.component(h),c.setParentComponent(this),this.createBean(c,null,i)}else a&&ue(`Missing selector: ${r}`);return this.applyElementsToComponent(t,s,n,c),c}copyAttributesFromNode(t,i){p2(t.attributes,(n,r)=>i.setAttribute(n,r))}swapComponentForNode(t,i,n){const r=t.getGui();i.replaceChild(r,n),i.insertBefore(document.createComment(n.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,t))}activateTabIndex(t){const i=this.gos.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(n=>n.setAttribute("tabindex",i.toString()))}setTemplate(t,i,n){const r=mc(t);this.setTemplateFromElement(r,i,n)}setTemplateFromElement(t,i,n,r=!1){if(this.eGui=t,this.suppressDataRefValidation=r,i)for(let s=0;s<i.length;s++){const a=i[s];this.componentSelectors.set(a.selector,a)}this.wireTemplate(t,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}getContainerAndElement(t,i){let n=i;return t==null?null:(n||(n=this.eGui),zx(t)?{element:t,parent:n}:{element:t.getGui(),parent:n})}prependChild(t,i){const{element:n,parent:r}=this.getContainerAndElement(t,i)||{};!n||!r||r.insertAdjacentElement("afterbegin",n)}appendChild(t,i){const{element:n,parent:r}=this.getContainerAndElement(t,i)||{};!n||!r||r.appendChild(n)}isDisplayed(){return this.displayed}setVisible(t,i={}){if(t!==this.visible){this.visible=t;const{skipAriaHidden:n}=i;c2(this.eGui,t,{skipAriaHidden:n})}}setDisplayed(t,i={}){if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:n}=i;bt(this.eGui,t,{skipAriaHidden:n});const r={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(r)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(t,i,n){this.eGui.addEventListener(t,i,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,i))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,i){this.cssClassManager.addOrRemoveCssClass(t,i)}},DN={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},R2=(()=>{const e=new Set(Object.values(DN));return e.add("eye"),e})();function E2(e,t,i){const n=Ki(e,t,i);if(n){const{className:s}=n;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return n}const r=document.createElement("span");return r.appendChild(n),r}function Ki(e,t,i,n){let r=null;const s=i&&i.getColDef().icons;if(s&&(r=s[e]),t&&!r){const a=t.get("icons");a&&(r=a[e])}if(r){let a;if(typeof r=="function")a=r();else if(typeof r=="string")a=r;else throw new Error("icon from grid options needs to be a string or a function");if(typeof a=="string")return mc(a);if(zx(a))return a;ue("iconRenderer should return back a string or a dom object")}else{const a=document.createElement("span");let u=DN[e]??(R2.has(e)?e:void 0);return u||(ue(`Did not find icon ${e}`),u=""),a.setAttribute("class",`ag-icon ag-icon-${u}`),a.setAttribute("unselectable","on"),Nn(a,"presentation"),a}}var A2=class extends ht{constructor(){super(...arguments),this.dragSource=null,this.eIcon=xe,this.eLabel=xe}postConstruct(){const e=t=>E2(t,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t=!1){var n,r;Xi(this.eIcon);let i=null;e||(e=(n=this.dragSource)!=null&&n.getDefaultIconName?(r=this.dragSource)==null?void 0:r.getDefaultIconName():"notAllowed"),i=this.dropIconMap[e],this.eIcon.classList.toggle("ag-shake-left-to-right",t),!(i===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns"))&&i&&this.eIcon.appendChild(i)}setLabel(e){this.eLabel.textContent=qn(e)}};function TN(e,t,i){if(i===0)return!1;const n=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY);return Math.max(n,r)<=i}var ws=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new wl,this.eElement=e,this.preventMouseClick=t;const i=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",i,{passive:!0}),this.eElement.removeEventListener("touchmove",n,{passive:!0}),this.eElement.removeEventListener("touchend",r,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const i=this.touchStart===t;if(this.touching&&i&&!this.moved){this.moved=!0;const n={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(n)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!TN(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const i={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(i),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};function Lu(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var P2=`<span class="ag-sort-indicator-container">
        ${Lu("Order","order")}
        ${Lu("Asc","ascending-icon")}
        ${Lu("Desc","descending-icon")}
        ${Lu("Mixed","mixed-icon")}
        ${Lu("None","none-icon")}
    </span>`,Ux=class extends ht{constructor(e){super(),this.eSortOrder=xe,this.eSortAsc=xe,this.eSortDesc=xe,this.eSortMixed=xe,this.eSortNone=xe,e||this.setTemplate(P2)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,t,i,n,r){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=i,this.eSortMixed=n,this.eSortNone=r}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const i=this.updateIcons.bind(this),n=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",i),this.addManagedEventListeners({newColumnsLoaded:i,sortChanged:n,columnRowGroupChanged:n}),this.onSortChanged()}addInIcon(e,t,i){if(t==null)return;const n=Ki(e,this.gos,i);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const t=e==="asc";bt(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){const t=e==="desc";bt(this.eSortDesc,t,{skipAriaHidden:!0})}if(this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),i=e==null;bt(this.eSortNone,!t&&i,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;zn(this.gos)&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";bt(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const e=this.sortController.getColumnsWithSortingOrdered(),t=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,i=e.some(r=>this.sortController.getDisplaySortIndexForColumn(r)??!1),n=t>=0&&i;bt(this.eSortOrder,n,{skipAriaHidden:!0}),t>=0?this.eSortOrder.textContent=(t+1).toString():Xi(this.eSortOrder)}},D2={selector:"AG-SORT-INDICATOR",component:Ux},T2=`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>
        </div>
    </div>`,Jb=class extends ht{constructor(){super(...arguments),this.eFilter=xe,this.eFilterButton=xe,this.eSortIndicator=xe,this.eMenu=xe,this.eLabel=xe,this.eText=xe,this.eSortOrder=xe,this.eSortAsc=xe,this.eSortDesc=xe,this.eSortMixed=xe,this.eSortNone=xe,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){const t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??T2;return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[D2]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=qn(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,i){if(t==null)return;const n=Ki(e,this.gos,i);n&&t.appendChild(n)}setupTap(){const{gos:e}=this;if(e.get("suppressTouch"))return;const t=new ws(this.getGui(),!0),i=this.shouldSuppressMenuHide(),n=i&&pe(this.eMenu),r=n?new ws(this.eMenu,!0):t;if(this.params.enableMenu){const s=n?"tap":"longTap",a=u=>this.params.showColumnMenuAfterMouseClick(u.touchStart);this.addManagedListeners(r,{[s]:a})}if(this.params.enableSorting){const s=a=>{var c,h;const u=a.touchStart.target;i&&((c=this.eMenu)!=null&&c.contains(u)||(h=this.eFilterButton)!=null&&h.contains(u))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(t,{tap:s})}if(this.params.enableFilterButton){const s=new ws(this.eFilterButton,!0);this.addManagedListeners(s,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>s.destroy())}this.addDestroyFunc(()=>t.destroy()),n&&this.addDestroyFunc(()=>r.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){To(this.eMenu),this.eMenu=void 0;return}const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){const t=this.params.column,i=this.menuService.isLegacyMenuEnabled();if(e&&!i){if(this.menuService.isFilterMenuInHeaderEnabled(t))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new Ux(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=new Date().getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:t=>{const i=this.params.column.isMoving(),r=new Date().getTime()-this.lastMovingChanged<50;if(!(i||r)){const u=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.params.progressSort(u)}}});const e=()=>{const t=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",t==="asc"),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",t==="desc"),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!t),this.params.column.getColDef().showRowGroup){const i=this.funcColsService.getSourceColumnsForGroupColumn(this.params.column),r=!(i==null?void 0:i.every(s=>this.params.column.getSort()==s.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",r)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(e,t,i){if(!e)return To(t),!1;const n=this.params.column;return this.addInIcon("filter",t,n),this.addManagedListeners(n,{filterChanged:i}),i(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();bt(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},M2=class extends ht{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=xe,this.agClosed=xe,this.agLabel=xe}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&ue("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const e=r=>{if(Pr(r))return;const s=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);const t=r=>{$a(r)};this.addManagedElementListeners(this.agClosed,{dblclick:t}),this.addManagedElementListeners(this.agOpened,{dblclick:t}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();const i=this.params.columnGroup.getProvidedColumnGroup(),n=this.updateIconVisibility.bind(this);this.addManagedListeners(i,{expandedChanged:n,expandableChanged:n})}addTouchAndClickListeners(e,t){const i=new ws(e,!0);this.addManagedListeners(i,{tap:t}),this.addDestroyFunc(()=>i.destroy()),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const t=this.params.columnGroup.isExpanded();bt(this.agOpened,t),bt(this.agClosed,!t)}else bt(this.agOpened,!1),bt(this.agClosed,!1)}addInIcon(e,t){const i=Ki(e,this.gos,null);i&&t.appendChild(i)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){bt(this.agOpened,!1),bt(this.agClosed,!1);return}}setupLabel(){var i;const{displayName:e,columnGroup:t}=this.params;if(pe(e)){const n=qn(e,!0);this.agLabel.textContent=n}this.addOrRemoveCssClass("ag-sticky-label",!((i=t.getColGroupDef())!=null&&i.suppressStickyLabel))}},F2="",O2="",L2=class extends ht{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(i),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const i=Math.abs(t),n=e.formatValue(i),r=pe(n)?n:i,s=t>=0;s?this.eDelta.textContent=F2+r:this.eDelta.textContent=O2+r,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Xi(this.eDelta)}refresh(e,t=!1){var n;const i=e.value;if(i===this.lastValue||(pe(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:pe(e.value)?this.eValue.textContent=i:Xi(this.eValue),(n=this.filterManager)!=null&&n.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof i=="number"&&typeof this.lastValue=="number"){const r=i-this.lastValue;this.showDelta(e,r)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=i,!0}},I2=class extends ht{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var n;let i=e.value;return je(i)&&(i=""),i===this.lastValue||(n=this.filterManager)!=null&&n.isSuppressFlashingCellsBecauseFiltering()?!1:(t||this.addSlideAnimation(),this.lastValue=i,pe(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:pe(e.value)?this.eCurrent.textContent=i:Xi(this.eCurrent),!0)}},ee=class{};ee.BACKSPACE="Backspace";ee.TAB="Tab";ee.ENTER="Enter";ee.ESCAPE="Escape";ee.SPACE=" ";ee.LEFT="ArrowLeft";ee.UP="ArrowUp";ee.RIGHT="ArrowRight";ee.DOWN="ArrowDown";ee.DELETE="Delete";ee.F2="F2";ee.PAGE_UP="PageUp";ee.PAGE_DOWN="PageDown";ee.PAGE_HOME="Home";ee.PAGE_END="End";ee.A="KeyA";ee.C="KeyC";ee.D="KeyD";ee.V="KeyV";ee.X="KeyX";ee.Y="KeyY";ee.Z="KeyZ";var N2=class extends ht{constructor(e,t,i){super(t,i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:i,labelAlignment:n,disabled:r}=this.config;r!=null&&this.setDisabled(r),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),i!=null&&this.setLabelWidth(i),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){Xi(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(bt(this.eLabel,!1),Nn(this.eLabel,"presentation")):(bt(this.eLabel,!0),Nn(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const i=this.getGui().classList;return i.toggle("ag-label-align-left",e==="left"),i.toggle("ag-label-align-right",e==="right"),i.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(cf(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return gc(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},MN=class extends N2{constructor(e,t,i,n){super(e,t,i),this.className=n}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:i}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),i!=null&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),i=this.getLabel();i==null||i==""||Xz(e)!==null?pc(e,""):pc(e,t??"")}setAriaLabel(e){return Ka(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return In(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},uo=class extends MN{constructor(e,t,i="text",n="input"){super(e,(e==null?void 0:e.template)??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${n} data-ref="eInput" class="ag-input-field-input"></${n}>
                </div>
            </div>`,[],t),this.inputType=i,this.displayFieldTag=n,this.eLabel=xe,this.eWrapper=xe,this.eInput=xe}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:t}=this.config;e!=null&&this.setInputName(e),t!=null&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return cf(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return mn(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Ka(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return gc(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)mn(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";mn(this.eInput,"autocomplete",t)}return this}},$x=class extends uo{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:i});const n=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},qx={selector:"AG-CHECKBOX",component:$x},_2=class extends ht{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[qx]),this.eCheckbox=xe}init(e){this.refresh(e);const t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),pN(t,"polite"),this.addManagedListeners(t,{click:i=>{if($a(i),this.eCheckbox.isDisabled())return;const n=this.eCheckbox.getValue();this.onCheckboxChanged(n)},dblclick:i=>{$a(i)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:i=>{if(i.key===ee.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===wt(this.gos)&&this.eCheckbox.toggle();const n=this.eCheckbox.getValue();this.onCheckboxChanged(n),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var u;let t,i=!0;if(e.node.group&&e.column)if(typeof e.value=="boolean")t=e.value;else{const c=e.column.getColId();c.startsWith(gp)?t=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[c]!==void 0?t=e.value??void 0:i=!1}else t=e.value??void 0;if(!i){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(t);const n=e.disabled!=null?e.disabled:!((u=e.column)!=null&&u.isCellEditable(e.node));this.eCheckbox.setDisabled(n);const r=this.localeService.getLocaleTextFunc(),s=Bx(r,t),a=n?s:`${r("ariaToggleCellValue","Press SPACE to toggle cell value")} (${s})`;this.eCheckbox.setInputAriaLabel(a)}onCheckboxChanged(e){const{column:t,node:i,value:n}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:t,colDef:t==null?void 0:t.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:n});const r=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:t,colDef:t==null?void 0:t.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:n,oldValue:n,newValue:e,valueChanged:r}),r||this.updateCheckbox(this.params)}},k2=class extends ht{constructor(){super(`<div class="ag-loading">
            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>
            <span class="ag-loading-text" data-ref="eLoadingText"></span>
        </div>`),this.eLoadingIcon=xe,this.eLoadingText=xe}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=Ki("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},G2=class extends ht{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){const t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>pc(e.eParentOfValue)),pc(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");Ka(this.getGui(),t)}setupLoading(e){const i=Pt(this.gos).createElement("div");i.classList.add("ag-skeleton-effect");const n=e.node.rowIndex;if(n!=null){const a=75+25*(n%2===0?Math.sin(n):Math.cos(n));i.style.width=`${a}%`}this.getGui().appendChild(i);const s=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");Ka(this.getGui(),s)}refresh(e){return!1}destroy(){super.destroy()}},FN=class extends ht{constructor(){super()}destroy(){super.destroy()}},B2=class extends FN{init(){var t;const e=Ar((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const i=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("loadingOoo","Loading...")})}}},H2=class extends FN{init(){var t;const e=Ar((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const i=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("noRowsToShow","No Rows To Show")})}}},Al=class extends ht{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},V2=class extends Al{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=qn(t,!0)}};function ON(e){const{inputValue:t,allSuggestions:i,hideIrrelevant:n,filterByPercentageOfBestMatch:r,addSequentialWeight:s}=e;let a=i.map((h,p)=>({value:h,relevance:z2(t.toLowerCase(),h.toLocaleLowerCase(),s),idx:p}));if(a.sort((h,p)=>p.relevance-h.relevance),n&&(a=a.filter(h=>h.relevance!==0)),a.length>0&&r&&r>0){const p=a[0].relevance*r;a=a.filter(g=>p-g.relevance<0)}const u=[],c=[];for(const h of a)u.push(h.value),c.push(h.idx);return{values:u,indices:c}}function j2(e){const t=[],i=e.length;for(let n=1;n<=i;n++)for(let r=0;r<=i-n;r++){const s=r+n-1;t.push(e.slice(r,s+1))}return t}function z2(e,t,i=!1){const n=e.replace(/\s/g,""),r=t.replace(/\s/g,""),s=n.length,a=r.length,u=new Array(s+1).fill(null).map(()=>new Array(a+1).fill(0));for(let g=0;g<=s;g+=1)u[g][0]=g;for(let g=0;g<=a;g+=1)u[0][g]=g;for(let g=1;g<=s;g++)for(let m=1;m<=a;m++)n[g-1]===r[m-1]?u[g][m]=u[g-1][m-1]:u[g][m]=1+Math.min(u[g][m-1],Math.min(u[g-1][m],u[g-1][m-1]));const c=u[s][a];let p=Math.max(s,a)-c;if(i){const g=j2(n);for(let m=0;m<g.length;m++){const y=g[m];r.indexOf(y)!==-1&&(p+=1,p*=y.length)}}return p}var W2=class extends ie{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agDragAndDropImage:A2,agColumnHeader:Jb,agColumnGroupHeader:M2,agSortIndicator:Ux,agAnimateShowChangeCellRenderer:L2,agAnimateSlideCellRenderer:I2,agLoadingCellRenderer:k2,agSkeletonCellRenderer:G2,agCheckboxCellRenderer:_2,agLoadingOverlay:B2,agNoRowsOverlay:H2,agTooltipComponent:V2},this.agGridDefaultParams={},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const e=this.gos.get("components");e!=null&&Mn(e,(t,i)=>this.registerJsComponent(t,i))}registerDefaultComponent(e,t,i){this.agGridDefaults[e]=t,i&&(this.agGridDefaultParams[e]=i)}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const i=(u,c,h)=>({componentFromFramework:c,component:u,params:h}),n=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(n!=null)return i(n,!0);const r=this.jsComps[t];if(r){const u=this.getFrameworkOverrides().isFrameworkComponent(r);return i(r,u)}const s=this.agGridDefaults[t];if(s)return i(s,!1,this.agGridDefaultParams[t]);const a=this.enterpriseAgDefaultCompsModule[t];return a?this.gos.assertModuleRegistered(a,`AG Grid '${e}' component: ${t}`):Ox(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const i=[...Object.keys(this.agGridDefaults).filter(r=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(r)),...Object.keys(this.jsComps)],n=ON({inputValue:t,allSuggestions:i,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;ue(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),n.length>0&&ue(`         Did you mean: [${n.slice(0,3)}]?`),ue(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},At=class $u{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(i=>this.onDone(i),i=>this.onReject(i))}static all(t){return t.length?new $u(i=>{let n=t.length;const r=new Array(n);t.forEach((s,a)=>{s.then(u=>{r[a]=u,n--,n===0&&i(r)})})}):$u.resolve()}static resolve(t=null){return new $u(i=>i(t))}then(t){return new $u(i=>{this.status===1?i(t(this.resolution)):this.waiters.push(n=>i(t(n)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(i=>i(t))}onReject(t){}},U2={propertyName:"dateComponent",cellRenderer:!1},$2={propertyName:"dragAndDropImageComponent",cellRenderer:!1},q2={propertyName:"headerComponent",cellRenderer:!1},K2={propertyName:"headerGroupComponent",cellRenderer:!1},ID={propertyName:"cellRenderer",cellRenderer:!0},Y2={propertyName:"cellRenderer",cellRenderer:!1},X2={propertyName:"loadingCellRenderer",cellRenderer:!0},Q2={propertyName:"cellEditor",cellRenderer:!1},ND={propertyName:"innerRenderer",cellRenderer:!0},Z2={propertyName:"loadingOverlayComponent",cellRenderer:!1},J2={propertyName:"noRowsOverlayComponent",cellRenderer:!1},eW={propertyName:"tooltipComponent",cellRenderer:!1},Kx={propertyName:"filter",cellRenderer:!1},tW={propertyName:"floatingFilterComponent",cellRenderer:!1},iW={propertyName:"toolPanel",cellRenderer:!1},nW={propertyName:"statusPanel",cellRenderer:!1},rW={propertyName:"fullWidthCellRenderer",cellRenderer:!0},sW={propertyName:"loadingCellRenderer",cellRenderer:!0},oW={propertyName:"groupRowRenderer",cellRenderer:!0},aW={propertyName:"detailCellRenderer",cellRenderer:!0},lW={propertyName:"menuItem",cellRenderer:!1},LN=class IN extends ie{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(t){this.agComponentUtils=t.agComponentUtils,this.componentMetadataProvider=t.componentMetadataProvider,this.userComponentRegistry=t.userComponentRegistry,this.frameworkComponentWrapper=t.frameworkComponentWrapper,this.gridOptions=t.gridOptions}getDragAndDropImageCompDetails(t){return this.getCompDetails(this.gridOptions,$2,"agDragAndDropImage",t,!0)}getHeaderCompDetails(t,i){return this.getCompDetails(t,q2,"agColumnHeader",i)}getHeaderGroupCompDetails(t){const i=t.columnGroup.getColGroupDef();return this.getCompDetails(i,K2,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,rW,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,sW,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,oW,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,aW,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,i){return this.getCompDetails(t,ND,null,i)}getFullWidthGroupRowInnerCellRenderer(t,i){return this.getCompDetails(t,ND,null,i)}getCellRendererDetails(t,i){return this.getCompDetails(t,ID,null,i)}getEditorRendererDetails(t,i){return this.getCompDetails(t,Y2,null,i)}getLoadingCellRendererDetails(t,i){return this.getCompDetails(t,X2,"agSkeletonCellRenderer",i,!0)}getCellEditorDetails(t,i){return this.getCompDetails(t,Q2,"agCellEditor",i,!0)}getFilterDetails(t,i,n){return this.getCompDetails(t,Kx,n,i,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,U2,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,Z2,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,J2,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,eW,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,i){return this.getCompDetails(t,ID,null,i)}getFloatingFilterCompDetails(t,i,n){return this.getCompDetails(t,tW,n,i)}getToolPanelCompDetails(t,i){return this.getCompDetails(t,iW,null,i,!0)}getStatusPanelCompDetails(t,i){return this.getCompDetails(t,nW,null,i,!0)}getMenuItemCompDetails(t,i){return this.getCompDetails(t,lW,"agMenuItem",i,!0)}getCompDetails(t,i,n,r,s=!1){const{propertyName:a,cellRenderer:u}=i;let{compName:c,jsComp:h,fwComp:p,paramsFromSelector:g,popupFromSelector:m,popupPositionFromSelector:y}=IN.getCompKeys(this.frameworkOverrides,t,i,r),b;const w=R=>{const T=this.userComponentRegistry.retrieve(a,R);T&&(h=T.componentFromFramework?void 0:T.component,p=T.componentFromFramework?T.component:void 0,b=T.params)};if(c!=null&&w(c),h==null&&p==null&&n!=null&&w(n),h&&u&&!this.agComponentUtils.doesImplementIComponent(h)&&(h=this.agComponentUtils.adaptFunction(a,h)),!h&&!p){s&&Qe(`Could not find component ${c}, did you forget to configure this component?`);return}const S=this.mergeParamsWithApplicationProvidedParams(t,i,r,g,b),x=h==null,E=h||p;return{componentFromFramework:x,componentClass:E,params:S,type:i,popupFromSelector:m,popupPositionFromSelector:y,newAgStackInstance:()=>this.newAgStackInstance(E,x,S,i)}}static getCompKeys(t,i,n,r){const{propertyName:s}=n;let a,u,c,h,p,g;if(i){const m=i,y=m[s+"Selector"],b=y?y(r):null,w=S=>{typeof S=="string"?a=S:S!=null&&S!==!0&&(t.isFrameworkComponent(S)?c=S:u=S)};b?(w(b.component),h=b.params,p=b.popup,g=b.popupPosition):w(m[s])}return{compName:a,jsComp:u,fwComp:c,paramsFromSelector:h,popupFromSelector:p,popupPositionFromSelector:g}}newAgStackInstance(t,i,n,r){const s=r.propertyName,a=!i;let u;if(a)u=new t;else{const h=this.componentMetadataProvider.retrieve(s);u=this.frameworkComponentWrapper.wrap(t,h.mandatoryMethodList,h.optionalMethodList,r)}const c=this.initComponent(u,n);return c==null?At.resolve(u):c.then(()=>u)}mergeParamsWithApplicationProvidedParams(t,i,n,r=null,s){const a=this.gos.getGridCommonParams();vi(a,n),s&&vi(a,s);const u=t,c=u&&u[i.propertyName+"Params"];if(typeof c=="function"){const h=c(n);vi(a,h)}else typeof c=="object"&&vi(a,c);return vi(a,r),a}initComponent(t,i){if(this.createBean(t),t.init!=null)return t.init(i)}};function Ju(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var vp=class Xe{static register(t){Xe.__register(t,!0,void 0)}static registerModules(t){Xe.__registerModules(t,!0,void 0)}static __register(t,i,n){Xe.runVersionChecks(t),n!==void 0?(Xe.areGridScopedModules=!0,Xe.gridModulesMap[n]===void 0&&(Xe.gridModulesMap[n]={}),Xe.gridModulesMap[n][t.moduleName]=t):Xe.globalModulesMap[t.moduleName]=t,Xe.setModuleBased(i)}static __unRegisterGridModules(t){delete Xe.gridModulesMap[t]}static __registerModules(t,i,n){Xe.setModuleBased(i),t&&t.forEach(r=>Xe.__register(r,i,n))}static isValidModuleVersion(t){const[i,n]=t.version.split(".")||[],[r,s]=Xe.currentModuleVersion.split(".")||[];return i===r&&n===s}static runVersionChecks(t){Xe.currentModuleVersion||(Xe.currentModuleVersion=t.version);const i=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(t.version?Xe.isValidModuleVersion(t)||Qe(i(`'${t.moduleName}' is version ${t.version} but the other modules are version ${Xe.currentModuleVersion}.`)):Qe(i(`'${t.moduleName}' is incompatible.`)),t.validate){const n=t.validate();n.isValid||Qe(`${n.message}`)}}static setModuleBased(t){Xe.moduleBased===void 0?Xe.moduleBased=t:Xe.moduleBased!==t&&(Qe("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),Qe("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){Xe.isBundled=!0}static __assertRegistered(t,i,n){var s;if(this.__isRegistered(t,n))return!0;let r;if(Xe.isBundled)r=`AG Grid: unable to use ${i} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(Xe.moduleBased||Xe.moduleBased===void 0){const a=(s=Object.entries(UI).find(([u,c])=>c===t))==null?void 0:s[0];r=`AG Grid: unable to use ${i} as the ${a} is not registered${Xe.areGridScopedModules?` for gridId: ${n}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${a} } from '${t}';
    
    ModuleRegistry.registerModules([ ${a} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else r=`AG Grid: unable to use ${i} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return Qe(r),!1}static __isRegistered(t,i){var n;return!!Xe.globalModulesMap[t]||!!((n=Xe.gridModulesMap[i])!=null&&n[t])}static __getRegisteredModules(t){return[...qh(Xe.globalModulesMap),...qh(Xe.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){return qh(Xe.gridModulesMap[t]??{})||[]}static __isPackageBased(){return!Xe.moduleBased}};vp.globalModulesMap={};vp.gridModulesMap={};vp.areGridScopedModules=!1;var Wn=vp,uW=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;Object.entries(e.providedBeanInstances).forEach(([i,n])=>{this.beans[i]=n}),e.beanClasses.forEach(i=>{const n=new i;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${i.name} is missing beanName`),this.createdBeans.push(n)}),(t=e.derivedBeans)==null||t.forEach(i=>{const{beanName:n,bean:r}=i(this);this.beans[n]=r,this.createdBeans.push(r)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(i=>{var n,r;(n=i.preWireBeans)==null||n.call(i,this.beans),(r=i.wireBeans)==null||r.call(i,this.beans)}),e.forEach(i=>{var n;return(n=i.preConstruct)==null?void 0:n.call(i)}),t&&e.forEach(t),e.forEach(i=>{var n;return(n=i.postConstruct)==null?void 0:n.call(i)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},cW=class extends uW{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),Wn.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},NN=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(NN||{}),dW=class extends ie{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment,this.userComponentFactory=e.userComponentFactory}addDragSource(e,t=!1){const i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragService.addDragSource(i)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const t=this.dragSourceAndParamsList.find(i=>i.dragSource===e);t&&(this.dragService.removeDragSource(t.params),Ci(this.dragSourceAndParamsList,t))}destroy(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var i,n;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),(n=(i=this.dragSource).onDragStarted)==null||n.call(i),this.createDragAndDropImageComponent()}onDragStop(e){var t,i,n;if((i=(t=this.dragSource)==null?void 0:t.onDragStopped)==null||i.call(t),(n=this.lastDropTarget)!=null&&n.onDragStop){const r=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(r)}this.clearDragAndDropProperties()}onDragCancel(){var e,t,i;(t=(e=this.dragSource)==null?void 0:e.onDragCancelled)==null||t.call(e),(i=this.lastDropTarget)!=null&&i.onDragCancel&&this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var a,u,c,h;const i=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const r=this.dropTargets.filter(p=>this.isMouseOnDropTarget(e,p)),s=this.findCurrentDropTarget(e,r);if(s!==this.lastDropTarget){if(this.leaveLastTargetIfExists(e,i,n,t),this.lastDropTarget!==null&&s===null&&((u=(a=this.dragSource)==null?void 0:a.onGridExit)==null||u.call(a,this.dragItem)),this.lastDropTarget===null&&s!==null&&((h=(c=this.dragSource)==null?void 0:c.onGridEnter)==null||h.call(c,this.dragItem)),this.enterDragTargetIfExists(s,e,i,n,t),s&&this.dragAndDropImageComp){const{comp:p,promise:g}=this.dragAndDropImageComp;p?p.setIcon(s.getIconName?s.getIconName():null):g.then(m=>{m&&m.setIcon(s.getIconName?s.getIconName():null)})}this.lastDropTarget=s}else if(s&&s.onDragging){const p=this.createDropTargetEvent(s,e,i,n,t);s.onDragging(p)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}allContainersIntersect(e,t){for(const i of t){const{width:n,height:r,left:s,right:a,top:u,bottom:c}=i.getBoundingClientRect();if(n===0||r===0)return!1;const h=e.clientX>=s&&e.clientX<a,p=e.clientY>=u&&e.clientY<c;if(!h||!p)return!1}return!0}isMouseOnDropTarget(e,t){const i=this.getAllContainersFromDropTarget(t);let n=!1;for(const a of i)if(this.allContainersIntersect(e,a)){n=!0;break}const{eElement:r,type:s}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(r)?!1:n&&t.isInterestedIn(s,r)}findCurrentDropTarget(e,t){const i=t.length;if(i===0)return null;if(i===1)return t[0];const r=dc(this.gos).elementsFromPoint(e.clientX,e.clientY);for(const s of r)for(const a of t)if(Sz(this.getAllContainersFromDropTarget(a)).indexOf(s)!==-1)return a;return null}enterDragTargetIfExists(e,t,i,n,r){if(e&&e.onDragEnter){const s=this.createDropTargetEvent(e,t,i,n,r);e.onDragEnter(s)}}leaveLastTargetIfExists(e,t,i,n){if(!this.lastDropTarget)return;if(this.lastDropTarget.onDragLeave){const s=this.createDropTargetEvent(this.lastDropTarget,e,t,i,n);this.lastDropTarget.onDragLeave(s)}const r=this.getDragAndDropImageComponent();r&&r.setIcon(null)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const i=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:n}=e;return i.contains(n)}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,i=e.clientX;return t===i?null:t>i?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,i=e.clientY;return t===i?null:t>i?0:1}createDropTargetEvent(e,t,i,n,r){const s=e.getContainer(),a=s.getBoundingClientRect(),{dragItem:u,dragSource:c}=this,h=t.clientX-a.left,p=t.clientY-a.top;return this.gos.addGridCommonParams({event:t,x:h,y:p,vDirection:n,hDirection:i,dragSource:c,fromNudge:r,dragItem:u,dropZoneTarget:s})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();if(!t)return;const i=t.getGui(),r=i.getBoundingClientRect().height,s=v2()-2,a=y2()-2;if(!i.offsetParent)return;const c=CN(i.offsetParent),{clientY:h,clientX:p}=e;let g=h-c.top-r/2,m=p-c.left-10;const y=Pt(this.gos),b=y.defaultView||window,w=b.pageYOffset||y.documentElement.scrollTop,S=b.pageXOffset||y.documentElement.scrollLeft;s>0&&m+i.clientWidth>s+S&&(m=s+S-i.clientWidth),m<0&&(m=0),a>0&&g+i.clientHeight>a+w&&(g=a+w-i.clientHeight),g<0&&(g=0),i.style.left=`${m}px`,i.style.top=`${g}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){const{comp:e}=this.dragAndDropImageComp;if(e){const t=e.getGui();this.dragAndDropImageParent&&this.dragAndDropImageParent.removeChild(t),this.destroyBean(e)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e}=this;if(!e)return;const i=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:e}).newAgStackInstance();this.dragAndDropImageComp={promise:i},i.then(n=>{!n||!this.isAlive()||(this.processDragAndDropImageComponent(n),this.dragAndDropImageComp.comp=n)})}processDragAndDropImageComponent(e){const{dragSource:t,mouseEventService:i,environment:n}=this;if(!t)return;const r=e.getGui();r.style.setProperty("position","absolute"),r.style.setProperty("z-index","9999"),i.stampTopLevelGridCompWithGridInstance(r),n.applyThemeClasses(r),e.setIcon(null);let{dragItemName:s}=t;Lx(s)&&(s=s()),e.setLabel(s||""),r.style.top="20px",r.style.left="20px";const a=Pt(this.gos);let u=null,c=null;try{u=a.fullscreenElement}catch{}finally{u||(u=dc(this.gos));const h=u.querySelector("body");h?c=h:u instanceof ShadowRoot?c=u:u instanceof Document?c=u==null?void 0:u.documentElement:c=u}this.dragAndDropImageParent=c,c?c.appendChild(r):ue("Could not find document body, it is needed for drag and drop.")}},hW=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const i=t||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;const n=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<n.left+r,this.tickRight=e.clientX>n.right-r,this.tickUp=e.clientY<n.top+r&&!i,this.tickDown=e.clientY>n.bottom-r&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},fW=class extends ie{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){vt(this.gos)&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(this,e=>{const t=e.gridBodyCtrl;this.autoScrollService=new hW({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:i=>t.getScrollFeature().setVerticalScrollPosition(i),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){var n;return!!(this.funcColsService.getRowGroupColumns().length||((n=this.filterManager)==null?void 0:n.isAnyFilterPresent())||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const n=[...this.selectionService.getSelectedNodes()].sort((r,s)=>r.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(s));if(n.indexOf(t)!==-1)return n}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const i=this.isFromThisGrid(e),n=this.gos.get("rowDragManaged"),r=e.dragItem.rowNodes;n&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!i?this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(r[0],t):this.moveRows(r,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(Ve(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),i=t&&t.highlighted===1,n=this.mouseEventService.getNormalisedPosition(e).y,r=e.dragItem.rowNodes;let s=i?1:0;if(this.isFromThisGrid(e))r.forEach(a=>{a.rowTop<n&&(s-=1)}),this.moveRows(r,n,s);else{const a=xl(this.gos);let u=this.clientSideRowModel.getRowIndexAtPixel(n)+1;this.clientSideRowModel.getHighlightPosition(n)===0&&u--,this.clientSideRowModel.updateRowData({add:r.filter(c=>!this.clientSideRowModel.getRowNode((a==null?void 0:a({data:c.data,level:0,rowPinned:c.rowPinned}))??c.data.id)).map(c=>c.data),addIndex:u})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,i=0){var r;this.clientSideRowModel.ensureRowsAtPixel(e,t,i)&&(this.focusService.clearFocusedCell(),(r=this.rangeService)==null||r.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){ue("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){ue("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=n=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",n))}),e.onDragLeave&&(t.onDragLeave=n=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",n))}),e.onDragging&&(t.onDragging=n=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",n))}),e.onDragStop&&(t.onDragStop=n=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",n))}),e.onDragCancel&&(t.onDragCancel=n=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",n))}));const i={isInterestedIn:n=>n===2,getIconName:()=>"move",external:!0,...t};this.dragAndDropService.addDropTarget(i),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(i))}getRowDropZone(e){const t=this.getContainer.bind(this),i=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this),a=this.onDragCancel.bind(this);let u;return e?u={getContainer:t,onDragEnter:e.onDragEnter?c=>{i(c),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",c))}:i,onDragLeave:e.onDragLeave?c=>{n(c),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",c))}:n,onDragging:e.onDragging?c=>{r(c),e.onDragging(this.draggingToRowDragEvent("rowDragMove",c))}:r,onDragStop:e.onDragStop?c=>{s(c),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",c))}:s,onDragCancel:e.onDragCancel?c=>{a(c),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",c))}:a,fromGrid:!0}:u={getContainer:t,onDragEnter:i,onDragLeave:n,onDragging:r,onDragStop:s,onDragCancel:a,fromGrid:!0},u}draggingToRowDragEvent(e,t){const i=this.mouseEventService.getNormalisedPosition(t).y,n=i>this.pageBoundsService.getCurrentPageHeight();let r=-1,s;n||(r=this.rowModel.getRowIndexAtPixel(i),s=this.rowModel.getRow(r));let a;switch(t.vDirection){case 1:a="down";break;case 0:a="up";break;default:a=null;break}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:r,overNode:s,y:i,vDirection:a})}dispatchGridEvent(e,t){const i=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(i)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}},pW=class extends ie{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,i=e.mouseDownListener;if(t.removeEventListener("mousedown",i),e.touchEnabled){const n=e.touchStartListener;t.removeEventListener("touchstart",n,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find(i=>i.dragSource===e);t&&(this.removeListener(t),Ci(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:n,stopPropagationForTouch:r}=e;i.addEventListener("mousedown",t);let s=null;const a=this.gos.get("suppressTouch");n&&!a&&(s=u=>{Hx(u.target)||(r&&u.stopPropagation(),this.onTouchStart(e,u))},i.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:s,touchEnabled:!!n})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const i=t.touches[0];this.touchLastTime=i,this.touchStart=i;const n=c=>this.onTouchMove(c,e.eElement),r=c=>this.onTouchUp(c,e.eElement),s=c=>{c.cancelable&&c.preventDefault()},a=t.target,u=[{target:dc(this.gos),type:"touchmove",listener:s,options:{passive:!1}},{target:a,type:"touchmove",listener:n,options:{passive:!0}},{target:a,type:"touchend",listener:r,options:{passive:!0}},{target:a,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(u),e.dragStartPixels===0&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){const i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const n=h=>this.onMouseMove(h,e.eElement),r=h=>this.onMouseUp(h,e.eElement),s=h=>h.preventDefault(),a=h=>{h.key===ee.ESCAPE&&this.cancelDrag(e.eElement)},u=dc(this.gos),c=[{target:u,type:"mousemove",listener:n},{target:u,type:"mouseup",listener:r},{target:u,type:"contextmenu",listener:s},{target:u,type:"keydown",listener:a}];this.addTemporaryEvents(c),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:i,type:n,listener:r,options:s}=t;i.addEventListener(n,r,s)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:i,type:n,listener:r,options:s}=t;i.removeEventListener(n,r,s)})})}isEventNearStartEvent(e,t){const{dragStartPixels:i}=this.currentDragParams,n=pe(i)?i:4;return TN(e,t,n)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){var n;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:i}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(n=this.currentDragParams)==null||n.onDragging(e)}onTouchMove(e,t){const i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){var i;Lr()&&((i=Pt(this.gos).getSelection())==null||i.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gos.get("enableCellTextSelection"),i=e.type==="mousemove";return t&&i&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,i=t==null?void 0:t.tagName.toLocaleLowerCase();return!!(i!=null&&i.match("^a$|textarea|input|select|button"))}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,i;this.eventService.dispatchEvent({type:"dragCancelled",target:e}),(i=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||i.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(e=>e()),this.dragEndFunctions.length=0}},ew=class extends ht{constructor(e,t,i,n,r,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=i,this.customGui=n,this.dragStartPixels=r,this.suppressVisibilityChange=s,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Ki("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new mW(this,this.beans,this.rowNode,this.column):new gW(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return t.indexOf(this.rowNode)!==-1?t:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&ue("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:n=>{n==null||n.preventDefault()}})[0]);const i=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var a;const n=this.getDragItem(),r=((a=n.rowNodes)==null?void 0:a.length)||1,s=this.getRowDragText(this.column);return s?s(n,r):r===1?this.cellValueFn():`${r} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},_N=class extends ie{constructor(e,t,i){super(),this.parent=e,this.rowNode=t,this.column=i}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let i=!0,n=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=Lx(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0,t),this.parent.setVisible(i,t)):(this.parent.setDisplayed(i,t),this.parent.setVisible(!0,t))}}},gW=class extends _N{constructor(e,t,i,n){super(e,i,n),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},mW=class extends _N{constructor(e,t,i,n){super(e,i,n),this.beans=t}postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=t&&t.shouldPreventRowMove(),n=this.gos.get("suppressRowDrag"),r=this.beans.dragAndDropService.hasExternalDropZones(),s=i&&!r||n;this.setDisplayedOrVisible(s)}},vW=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),id=class gs{constructor(t){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=gs.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(t){this.setDataCommon(t,!1)}updateData(t){this.setDataCommon(t,!0)}setDataCommon(t,i){var s;const n=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const r=this.createDataChangedEvent(t,n,i);(s=this.localEventService)==null||s.dispatchEvent(r)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,i,n){return{type:"dataChanged",node:this,oldData:i,newData:t,update:n}}getRowIndexString(){return this.rowIndex==null?(Qe("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):this.rowPinned==="top"?gs.ID_PREFIX_TOP_PINNED+this.rowIndex:this.rowPinned==="bottom"?gs.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new gs(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(t,i){var a;const n=pe(this.id)?this.createDaemonNode():null,r=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(i),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);const s=this.createDataChangedEvent(t,r,!1);(a=this.localEventService)==null||a.dispatchEvent(s)}checkRowSelectable(){const t=Ix(this.beans.gos);this.setRowSelectable(t?t(this):!0)}setRowSelectable(t,i){if(this.selectable!==t){if(this.selectable=t,this.dispatchRowEvent("selectableChanged"),i)return;if(Do(this.beans.gos)){const r=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:r??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){var n;const i=xl(this.beans.gos);if(i)if(this.data){const r=((n=this.parent)==null?void 0:n.getRoute())??[];this.id=i({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(gs.ID_PREFIX_ROW_GROUP)&&Qe(`Row IDs cannot start with ${gs.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=t}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.dispatchRowEvent("topChanged"),this.setDisplayed(t!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(t){this.hovered=t}isHovered(){return this.hovered}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.dispatchRowEvent("masterChanged"))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(t,i=!1){this.rowHeight=t,this.rowHeightEstimated=i,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(t,i){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[i.getId()]=t,t!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=yi(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){var u;let t=!1,i=!0,n=0;const r=this.__autoHeights;if(r==null||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(c=>{let h=r[c.getId()];if(h==null)if(this.beans.columnModel.isColSpanActive()){let p=[];switch(c.getPinned()){case"left":p=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":p=this.beans.visibleColsService.getRightColsForRow(this);break;case null:p=this.beans.columnViewportService.getColsWithinViewport(this);break}if(p.includes(c)){t=!0;return}h=-1}else{t=!0;return}else i=!1;h>n&&(n=h)}),t)||((i||n<10)&&(n=Rs(this.beans.gos,this).height),n==this.rowHeight))return;this.setRowHeight(n);const a=this.beans.rowModel;(u=a.onRowHeightChangedDebounced)==null||u.call(a)}setExpanded(t,i,n){if(this.expanded===t)return;this.expanded=t,this.dispatchRowEvent("expandedChanged");const r={...this.createGlobalRowEvent("rowGroupOpened"),expanded:t,event:i||null};this.beans.rowNodeEventThrottle.dispatchExpanded(r,n),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(t){return this.beans.gos.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(t,i,n){const s=typeof t!="string"?t:this.beans.columnModel.getCol(t)??this.beans.columnModel.getColDefCol(t),a=this.beans.valueService.getValueForDisplay(s,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:s,colDef:s.getColDef(),data:this.data,node:this,oldValue:a,newValue:i,value:i,source:n}),!1;const u=this.beans.valueService.setValue(this,s,i,n);return this.dispatchCellChangedEvent(s,i,a),this.checkRowSelectable(),u}setGroupValue(t,i){const n=this.beans.columnModel.getCol(t);je(this.groupData)&&(this.groupData={});const r=n.getColId(),s=this.groupData[r];s!==i&&(this.groupData[r]=i,this.dispatchCellChangedEvent(n,i,s))}setAggData(t){const i=this.aggData;if(this.aggData=t,this.localEventService){const n=r=>{const s=this.aggData?this.aggData[r]:void 0,a=i?i[r]:void 0;if(s===a)return;const u=this.beans.columnModel.getCol(r);u&&this.dispatchCellChangedEvent(u,s,a)};for(const r in i)n(r);for(const r in t)(!i||!(r in i))&&n(r)}}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(er(this.beans.gos)){const n=this.beans.gos.get("treeData"),r=this.beans.gos.get("isServerSideGroup");t=!this.stub&&!this.footer&&(n?!!r&&r(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(t,i,n){var s;const r={type:"cellChanged",node:this,column:t,newValue:i,oldValue:n};(s=this.localEventService)==null||s.dispatchEvent(r)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(i=>i.depthFirstSearch(t)),t(this)}calculateSelectedFromChildren(){var n;let t=!1,i=!1;if(!((n=this.childrenAfterGroup)!=null&&n.length))return this.selectable?this.selected:null;for(let r=0;r<this.childrenAfterGroup.length;r++){const s=this.childrenAfterGroup[r];let a=s.isSelected();if(!s.selectable){const u=s.calculateSelectedFromChildren();if(u===null)continue;a=u}switch(a){case!0:t=!0;break;case!1:i=!0;break;default:return}}if(!(t&&i))return t?!0:i?!1:this.selectable?this.selected:null}setSelectedInitialValue(t){this.selected=t}dispatchRowEvent(t){var i;(i=this.localEventService)==null||i.dispatchEvent({type:t,node:this})}selectThisNode(t,i,n="api"){const r=!this.selectable&&t,s=this.selected===t;if(r||s)return!1;this.selected=t,this.dispatchRowEvent("rowSelected");const a=this.sibling;return a&&a.footer&&a.localEventService&&a.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:i||null,source:n}),!0}setSelected(t,i=!1,n="api"){if(typeof n=="boolean"){ue("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:t,clearSelection:i,rangeSelect:!1,source:n})}setSelectedParams(t){return this.rowPinned?(ue("cannot select pinned rows"),0):this.id===void 0?(ue("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...t,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return!!this.rowPinned}addEventListener(t,i){var r;this.localEventService||(this.localEventService=new wl),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new kx(this.beans.frameworkOverrides));const n=((r=this.frameworkEventListenerService)==null?void 0:r.wrap(t,i))??i;this.localEventService.addEventListener(t,n)}removeEventListener(t,i){var r;if(!this.localEventService)return;const n=((r=this.frameworkEventListenerService)==null?void 0:r.unwrap(t,i))??i;this.localEventService.removeEventListener(t,n),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(ue("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const t=[];let i=this;for(;i&&i.key!=null;)t.push(i.key),i=i.parent;return t.reverse()}createFooter(){if(this.sibling)return;const t=new gs(this.beans);Object.keys(this).forEach(i=>{vW.has(i)||(t[i]=this[i])}),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,t.id="rowGroupFooter_"+this.id,t.sibling=this,this.sibling=t}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(t){this.firstChild!==t&&(this.firstChild=t,this.dispatchRowEvent("firstChildChanged"))}setLastChild(t){this.lastChild!==t&&(this.lastChild=t,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(t){this.childIndex!==t&&(this.childIndex=t,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(t){this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent("displayedChanged"))}setDragging(t){this.dragging!==t&&(this.dragging=t,this.dispatchRowEvent("draggingChanged"))}setHighlighted(t){this.highlighted!==t&&(this.highlighted=t,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(t){this.rowIndex!==t&&(this.rowIndex=t,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(t){this.uiLevel!==t&&(this.uiLevel=t,this.dispatchRowEvent("uiLevelChanged"))}};id.ID_PREFIX_ROW_GROUP="row-group-";id.ID_PREFIX_TOP_PINNED="t-";id.ID_PREFIX_BOTTOM_PINNED="b-";id.OBJECT_ID_SEQUENCE=0;var Dr=id,yW=class extends ie{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvancedFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",i=>this.setAdvancedFilterModel(i.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"?t(e):!1}setFilterModel(e,t="api"){var i;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}(i=this.columnFilterService)==null||i.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.columnFilterService)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isAggregateFilterPresent())}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var t,i;e?(t=this.columnFilterService)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(i=this.advancedFilterService)!=null&&i.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return!!((e=this.advancedFilterService)!=null&&e.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){var e;(e=this.quickFilterService)==null||e.resetQuickFilterCache()}refreshFiltersForAggregations(){Wb(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:i,columns:n=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):At.resolve()).then(()=>{var s;const r={source:t,type:"filterChanged",columns:n};i&&vi(r,i),this.eventService.dispatchEvent(r),(s=this.columnFilterService)==null||s.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.columnFilterService)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilterService)!=null&&e.isQuickFilterPresent())}updateAggFiltering(){this.aggFiltering=!!Wb(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}isFilterActive(e){var t;return!!((t=this.columnFilterService)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.columnFilterService)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.columnFilterService.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvancedFilterEnabled()?!1:!!((t=this.columnFilterService)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var i;return(i=this.columnFilterService)==null?void 0:i.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.columnFilterService)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var i;(i=this.columnFilterService)==null||i.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var i;return!!((i=this.columnFilterService)!=null&&i.areFilterCompsDifferent(e,t))}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){var t;if(this.isAdvancedFilterEnabled()){if((t=this.dataTypeService)!=null&&t.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvancedFilterEnabled()?!1:!!((e=this.columnFilterService)!=null&&e.hasFloatingFilters())}getFilterInstance(e,t){var i;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}return(i=this.columnFilterService)==null?void 0:i.getFilterInstance(e,t)}getColumnFilterInstance(e){var t;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):((t=this.columnFilterService)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvancedFilters(){ue("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){var t;(t=this.advancedFilterService)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.columnFilterService)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var i;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):((i=this.columnFilterService)==null?void 0:i.setColumnFilterModel(e,t))??Promise.resolve()}setColDefPropertiesForDataType(e,t,i){var n;(n=this.columnFilterService)==null||n.setColDefPropertiesForDataType(e,t,i)}},CW=class extends ht{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??At.resolve()}afterGuiAttached(e){var t,i;(i=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||i.then(n=>{var r;(r=n==null?void 0:n.afterGuiAttached)==null||r.call(n,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(i=>{var n;(n=i==null?void 0:i.afterGuiDetached)==null||n.call(i)})}createFilter(e){var n,r;const{column:t,source:i}=this;this.filterWrapper=((n=this.filterManager)==null?void 0:n.getOrCreateFilterWrapper(t))??null,(r=this.filterWrapper)!=null&&r.filterPromise&&this.filterWrapper.filterPromise.then(s=>{const a=s.getGui();pe(a)||ue(`getGui method from filter returned ${a}; it should be a DOM element.`),this.appendChild(a),e&&this.eventService.dispatchEvent({type:"filterOpened",column:t,source:i,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(Xi(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},kN="ag-resizer-wrapper",hs=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,SW=`<div class="${kN}">
        ${hs("eTopLeft","topLeft")}
        ${hs("eTop","top")}
        ${hs("eTopRight","topRight")}
        ${hs("eRight","right")}
        ${hs("eBottomRight","bottomRight")}
        ${hs("eBottom","bottom")}
        ${hs("eBottomLeft","bottomLeft")}
        ${hs("eLeft","left")}
    </div>`,bW=class extends ie{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(i,n)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:n,minHeight:r,height:s,x:a,y:u}=this.config;this.offsetParent||this.setOffsetParent();let c=0,h=0;const p=Qn(this.element);if(p){const g=this.findBoundaryElement(),m=window.getComputedStyle(g);if(m.minWidth!=null){const y=g.offsetWidth-this.element.offsetWidth;h=parseInt(m.minWidth,10)-y}if(m.minHeight!=null){const y=g.offsetHeight-this.element.offsetHeight;c=parseInt(m.minHeight,10)-y}}if(this.minHeight=r||c,this.minWidth=i||h,n&&this.setWidth(n),s&&this.setHeight(s),(!n||!s)&&this.refreshSize(),e)this.center();else if(a||u)this.offsetElement(a,u);else if(p&&t){let g=this.boundaryEl,m=!0;if(g||(g=this.findBoundaryElement(),m=!1),g){const y=parseFloat(g.style.top),b=parseFloat(g.style.left);m?this.offsetElement(isNaN(b)?0:b,isNaN(y)?0:y):this.setPosition(b,y)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const n=!!e[t],r=this.getResizerElement(t),s={dragStartPixels:0,eElement:r,onDragStart:a=>this.onResizeStart(a,t),onDragging:this.onResize.bind(this),onDragStop:a=>this.onResizeEnd(a,t)};(n||!this.isAlive()&&!n)&&(n?(this.dragService.addDragSource(s),this.resizeListeners.push(s),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[t]=n)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,i=this.element;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Zu(i,e),e=yN(i),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(n?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?Zu(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:n.top,a=e?0:r.top;let u=0;if(t){const h=this.element.parentElement;if(h){const{bottom:p}=h.getBoundingClientRect();u=p-n.bottom}}return i+a-s-u}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:i}=this.config;let n=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)In(t,e),e=af(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:r}=this.offsetParent,s=i?this.position.x:this.element.getBoundingClientRect().left;r&&e+s>r&&(e=r-s)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?In(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:i}=this.config,n=i?this.boundaryEl:this.element;n&&(this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:i,isTop:n,anywhereWithin:r,topBuffer:s}=e,a=t.clientX-this.dragStartPosition.x,u=t.clientY-this.dragStartPosition.y,c=this.shouldSkipX(t,!!i,!!r,a)?0:a,h=this.shouldSkipY(t,!!n,s,u)?0:u;return{movementX:c,movementY:h}}shouldSkipX(e,t,i,n){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.x:r.left;let c=u<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=a.right;return c?!0:(t?c=n<0&&e.clientX>u+s.left||n>0&&e.clientX<u+s.left:i?c=n<0&&e.clientX>a.right||n>0&&e.clientX<u+s.left:c=n<0&&e.clientX>a.right||n>0&&e.clientX<a.right,c)}shouldSkipY(e,t,i=0,n){const r=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),u=this.config.popup?this.position.y:r.top;let c=u<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=a.bottom;return c?!0:(t?c=n<0&&e.clientY>u+s.top+i||n>0&&e.clientY<u+s.top:c=n<0&&e.clientY>a.bottom||n>0&&e.clientY<a.bottom,c)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const i=new DOMParser().parseFromString(SW,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${kN}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:n}=this.config;!i&&!n&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,i=0;for(let n=0;n<e.length;n++){const r=e[n],s=!!r.style.flex&&r.style.flex!=="0 0 auto";if(r===this.element)continue;let a=this.minHeight||0,u=this.minWidth||0;if(s){const c=window.getComputedStyle(r);c.minHeight&&(a=parseInt(c.minHeight,10)),c.minWidth&&(u=parseInt(c.minWidth,10))}else a=r.offsetHeight,u=r.offsetWidth;t+=a,i+=u}return{height:t,width:i}}applySizeToSiblings(e){let t=null;const i=this.getSiblings();if(i){for(let n=0;n<i.length;n++){const r=i[n];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=i[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:n,isRight:r,isBottom:s,isLeft:a}=this.currentResizer,u=r||a,c=s||n,{movementX:h,movementY:p}=this.calculateMouseMovement({e,isLeft:a,isTop:n}),g=this.position.x,m=this.position.y;let y=0,b=0;if(u&&h){const w=a?-1:1,S=this.getWidth(),x=S+h*w;let E=!1;a&&(y=S-x,(g+y<=0||x<=this.minWidth)&&(E=!0,y=0)),E||this.setWidth(x)}if(c&&p){const w=n?-1:1,S=this.getHeight(),x=S+p*w;let E=!1;n?(b=S-x,(m+b<=0||x<=this.minHeight)&&(E=!0,b=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&S<x&&this.getMinSizeOfSiblings().height+x>this.element.parentElement.offsetHeight&&(E=!0),E||this.setHeight(x)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&y||b)&&this.offsetElement(g+y,m+b)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:i}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:r,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+r,i+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},GN=class BN extends ie{constructor(t,i={}){super(),this.eFocusableElement=t,this.callbacks=i,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const r=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,n.shiftKey);r&&(r.focus(),n.preventDefault())},...i}}wireBeans(t){this.focusService=t.focusService}postConstruct(){this.eFocusableElement.classList.add(BN.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(t){this.addManagedElementListeners(t,{keydown:i=>{if(!(i.defaultPrevented||Pr(i))){if(this.callbacks.shouldStopEventPropagation(i)){$a(i);return}i.key===ee.TAB?this.callbacks.onTabKeyDown(i):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(i)}}})}};GN.FOCUS_MANAGED_CLASS="ag-focus-managed";var _o=GN,HN={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function Yx(e,t){return df(e)?(e.debounceMs!=null&&ue("debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:t}function df(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var wW=class extends ht{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=xe,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new _o(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new bW(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(i,this.getAgComponents(),e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=df(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=df(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:i,readOnly:n}=t??{},{buttons:r,readOnly:s}=e;if(n===s&&uc(i,r))return;const a=r&&r.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Xi(this.eButtonsPanel),this.buttonListeners.forEach(h=>h()),this.buttonListeners=[]):a&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!a){this.eButtonsPanel&&To(this.eButtonsPanel);return}const u=document.createDocumentFragment(),c=h=>{let p,g;switch(h){case"apply":p=this.translate("applyFilter"),g=b=>this.onBtApply(!1,!1,b);break;case"clear":p=this.translate("clearFilter"),g=()=>this.onBtClear();break;case"reset":p=this.translate("resetFilter"),g=()=>this.onBtReset();break;case"cancel":p=this.translate("cancelFilter"),g=b=>{this.onBtCancel(b)};break;default:ue("Unknown button type specified");return}const y=mc(`<button
                    type="${h==="apply"?"submit":"button"}"
                    data-ref="${h}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${p}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(y,{click:g})),u.append(y)};r.forEach(h=>c(h)),this.eButtonsPanel.append(u),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=Yx(this.providedFilterParams,this.getDefaultDebounceMs()),t=yi(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const i=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const i=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(i,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,i){i&&i.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:n}=this.providedFilterParams;n&&this.applyActive&&!e&&!t&&this.close(i)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,i=t&&t.key;let n;(i==="Enter"||i==="Space")&&(n={keyboardEvent:t}),this.hidePopup(n),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const i=this.isModelValid(this.getModelFromUi()),n=this.queryForHtmlElement('[data-ref="applyFilterButton"]');n&&gc(n,!i)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;const t=e==="floatingFilter"||e==="columnFilter",{positionableFeature:i,gos:n}=this;t?(i.restoreLastSize(),i.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,HN[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},xW=class extends $x{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},RW=class extends ht{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case ee.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}break;case ee.DOWN:case ee.UP:e.preventDefault(),this.navigate(t);break;case ee.PAGE_DOWN:case ee.PAGE_UP:case ee.PAGE_HOME:case ee.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===ee.DOWN;let i;if(!this.highlightedEl)i=this.itemEls[t?0:this.itemEls.length-1];else{let r=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);r=Math.min(Math.max(r,0),this.itemEls.length-1),i=this.itemEls[r]}this.highlightItem(i)}navigateToPage(e){if(!this.highlightedEl||this.itemEls.length===0)return;const t=this.itemEls.indexOf(this.highlightedEl),i=this.options.length-1,n=this.itemEls[0].clientHeight,r=Math.floor(this.getGui().clientHeight/n);let s=-1;e===ee.PAGE_HOME?s=0:e===ee.PAGE_END?s=i:e===ee.PAGE_DOWN?s=Math.min(t+r,i):e===ee.PAGE_UP&&(s=Math.max(t-r,0)),s!==-1&&this.highlightItem(this.itemEls[s])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:i}=e,n=i||t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{To(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,i)=>{t2(t,i+1),e2(t,e.length)})}renderOption(e,t){const i=Pt(this.gos),n=i.createElement("div");Nn(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const r=i.createElement("span");n.appendChild(r),r.textContent=t,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:s=>{s.preventDefault(),s.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new El({getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const i=this.options.findIndex(n=>n.value===e);if(i!==-1){const n=this.options[i];this.value=n.value,this.displayValue=n.text,this.highlightItem(this.itemEls[i]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Qn(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),of(this.highlightedEl,!0);const t=this.getGui(),{scrollTop:i,clientHeight:n}=t,{offsetTop:r,offsetHeight:s}=e;(r+s>i+n||r<i)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!Qn(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),of(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},EW=class extends MN{constructor(e){if(super(e,(e==null?void 0:e.template)||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=xe,this.eWrapper=xe,this.eDisplayField=xe,this.eIcon=xe,this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:i,variableWidth:n,minPickerWidth:r,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!n,i!=null&&this.setPickerMaxHeight(i),r!=null&&this.setPickerMinWidth(r),s!=null&&this.setPickerMaxWidth(s)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:i,inputWidth:n}=this.config;if(i){const r=Ki(i,this.gos);r&&this.eIcon.appendChild(r)}n!=null&&this.setInputWidth(n)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),sf(e,!1),this.ariaRole&&Nn(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case ee.UP:case ee.DOWN:case ee.ENTER:case ee.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case ee.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:i,pickerAriaLabelValue:n,modalPicker:r=!0}=this.config,s={modal:r,eChild:e,closeOnEsc:!0,closedCallback:()=>{const m=YI(this.gos);this.beforeHidePicker(),m&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(i,n),anchorToElement:this.eWrapper};e.style.position="absolute";const a=this.popupService.addPopup(s),{maxPickerHeight:u,minPickerWidth:c,maxPickerWidth:h,variableWidth:p}=this;p?(c&&(e.style.minWidth=c),e.style.width=jx(af(this.eWrapper)),h&&(e.style.maxWidth=h)):cf(e,h??af(this.eWrapper));const g=u??`${Vx(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",g),this.alignPickerToComponent(),a.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,i=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();sf(t,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return cf(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},Xx=class extends EW{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...e})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:i}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),i&&t==null&&(this.eDisplayField.textContent=i),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new RW("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),t=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",t),l2(this.getAriaElement(),e),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var i;const{key:t}=e;switch(t===ee.TAB&&this.hidePicker(),t){case ee.ENTER:case ee.UP:case ee.DOWN:case ee.PAGE_UP:case ee.PAGE_DOWN:case ee.PAGE_HOME:case ee.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(i=this.listComponent)==null||i.handleKeyDown(e):super.onKeyDown(e);break;case ee.ESCAPE:super.onKeyDown(e);break;case ee.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,t,i){if(this.value===e||!this.listComponent)return this;if(i||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let r=this.listComponent.getDisplayValue();return r==null&&this.config.placeholder&&(r=this.config.placeholder),this.eDisplayField.textContent=r,this.setTooltip({newTooltipText:r??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},AW={selector:"AG-SELECT",component:Xx},VN=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;const t=[["displayKey"],["displayName"],["predicate","test"]],i=n=>n.some(r=>e[r]!=null)?!0:(ue(`ignoring FilterOptionDef as it doesn't contain one of '${n}'`),!1);if(!t.every(i)){this.filterOptions=this.filterOptions.filter(n=>n===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:ue("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else ue("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},jN=class extends wW{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:n}=t;return n??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,i)=>{i===0?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const i=!e.operator,n=!t.operator;if(!i&&n||i&&!n)return!1;let s;if(i){const a=e,u=t;s=this.areSimpleModelsEqual(a,u)}else{const a=e,u=t;s=a.operator===u.operator&&As(a.conditions,u.conditions,(c,h)=>this.areSimpleModelsEqual(c,h))}return s}shouldRefresh(e){var s;const t=this.getModel(),i=t?t.conditions??[t]:null,n=((s=e.filterOptions)==null?void 0:s.map(a=>typeof a=="string"?a:a.displayKey))??this.getDefaultFilterOptions();return!(!(!i||i.every(a=>n.find(u=>u===a.type)!==void 0))||typeof e.maxNumConditions=="number"&&i&&i.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const i=e;let n=i.conditions;n==null&&(n=[],ue("Filter model is missing 'conditions'"));const r=this.validateAndUpdateConditions(n),s=this.getNumConditions();if(r<s)this.removeConditionsAndOperators(r);else if(r>s)for(let u=s;u<r;u++)this.createJoinOperatorPanel(),this.createOption();const a=i.operator==="OR";this.eJoinOperatorsAnd.forEach(u=>u.setValue(!a,!0)),this.eJoinOperatorsOr.forEach(u=>u.setValue(a,!0)),n.forEach((u,c)=>{this.eTypes[c].setValue(u.type,!0),this.setConditionIntoUi(u,c)})}else{const i=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),At.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),ue('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:i}=t,n=[];if(i){const s=t;n.push(...s.conditions??[])}else n.push(t);return n[i&&i==="OR"?"some":"every"](s=>this.individualConditionPasses(e,s))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new VN,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(ue('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(ue('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(ue('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new Xx);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const i=this.getNumConditions()-1;this.forEachPositionInput(i,n=>this.resetInput(n)),this.addChangedListeners(e,i)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const n=this.eJoinOperatorPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,r),this.resetJoinOperatorOr(i,n,r),this.isReadOnly()||(t.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(e,t,i){const n=this.createManagedBean(new xW);return e.push(n),n.addCssClass("ag-filter-condition-operator"),n.addCssClass(`ag-filter-condition-operator-${i}`),t.appendChild(n.getGui()),n}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(t=>typeof t=="string"?this.createBoilerplateListOption(t):this.createCustomListOption(t))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(t=>{e.addOption(t)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?e=i:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const i=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<i){this.removeConditionsAndOperators(i+1);const n=e+1,r=i-n;r>0&&this.removeConditionsAndOperators(n,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((n,r)=>{const s=this.isConditionDisabled(r,e);n.setDisabled(s||this.filterListOptions.length<=1),r===1&&(gc(this.eJoinOperatorPanels[0],s),this.eJoinOperatorsAnd[0].setDisabled(s),this.eJoinOperatorsOr[0].setDisabled(s))}),this.eConditionBodies.forEach((n,r)=>{bt(n,this.isConditionBodyVisible(r))});const i=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(n=>{n.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach(n=>{n.setValue(i,!0)}),this.forEachInput((n,r,s,a)=>{this.setElementDisplayed(n,r<a),this.setElementDisabled(n,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,t),this.removeComponents(this.eJoinOperatorsAnd,i,t),this.removeComponents(this.eJoinOperatorsOr,i,t)}removeElements(e,t,i){this.removeItems(e,t,i).forEach(r=>To(r))}removeComponents(e,t,i){this.removeItems(e,t,i).forEach(r=>{To(r.getGui()),this.destroyBean(r)})}removeItems(e,t,i){return i==null?e.splice(t):e.splice(t,i)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const t=this.getInputs(0)[0];if(!t)return;t instanceof uo&&t.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,i=-1,n=!1;const r=this.getJoinOperator();for(let a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))t===-1&&(t=a,i=a);else{const u=a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1),c=a<t;(u||c)&&(this.removeConditionsAndOperators(a,1),n=!0,c&&i--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(i,r),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(e,t){let i=this.translate(e);if(Lx(this.filterPlaceholder)){const n=this.filterPlaceholder,r=this.eTypes[t].getValue(),s=this.translate(r);i=n({filterOptionKey:r,filterOption:s,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((t,i,n,r)=>{if(!(t instanceof uo))return;const s=i===0&&r>1?"inRangeStart":i===0?"filterOoo":"inRangeEnd",a=i===0&&r>1?e("ariaFilterFromValue","Filter from value"):i===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,n)),t.setInputAriaLabel(a)})}setElementValue(e,t,i){e instanceof uo&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof ht&&bt(e.getGui(),t)}setElementDisabled(e,t){e instanceof ht&&gc(e.getGui(),t)}attachElementOnChange(e,t){e instanceof uo&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,i)=>{this.forEachPositionTypeInput(i,t,e)})}forEachPositionInput(e,t){const i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,t)}forEachPositionTypeInput(e,t,i){const n=this.getNumberOfInputs(t),r=this.getInputs(e);for(let s=0;s<r.length;s++){const a=r[s];a!=null&&i(a,s,e,n)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(i=>i==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,i)=>this.resetJoinOperatorAnd(t,i,this.joinOperatorId+i)),this.eJoinOperatorsOr.forEach((t,i)=>this.resetJoinOperatorOr(t,i,this.joinOperatorId+i)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),At.resolve()}resetType(e){const i=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),i)}resetJoinOperatorOr(e,t,i){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),i)}resetJoinOperator(e,t,i,n,r){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(n),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t)),this.eJoinOperatorsOr.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const i=this.mapValuesFromModel(e);this.forEachInput((n,r,s)=>{s===t&&this.setElementValue(n,i[r]!=null?i[r]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,i,n)=>{this.setElementValue(t,i===0&&n===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,i=>{this.attachElementOnChange(i,this.listener)}))}individualConditionPasses(e,t){const i=this.getCellValue(e.node),n=this.mapValuesFromModel(t),r=this.optionsFactory.getCustomOption(t.type),s=this.evaluateCustomFilter(r,n,i);return s??(i==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(n,i,t,e))}evaluateCustomFilter(e,t,i){if(e==null)return;const{predicate:n}=e;if(n!=null&&!t.some(r=>r==null))return n(t,i)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}},zN=class extends jN{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,i){const n=this.comparator(),r=e[0]!=null?n(e[0],t):0;switch(i.type){case"equals":return r===0;case"notEqual":return r!==0;case"greaterThan":return r>0;case"greaterThanOrEqual":return r>=0;case"lessThan":return r<0;case"lessThanOrEqual":return r<=0;case"inRange":{const s=n(e[1],t);return this.scalarFilterParams.inRangeInclusive?r>=0&&s<=0:r>0&&s<0}case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return ue('Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},PW=65,DW=67,TW=86,MW=68,FW=90,OW=89;function WN(e){var i;return e.altKey||e.ctrlKey||e.metaKey?!1:((i=e.key)==null?void 0:i.length)===1}function tw(e,t,i,n,r){const s=n?n.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const a=e.addGridCommonParams({event:t,editing:r,column:n,node:i,data:i.data,colDef:n.getColDef()});return!!(s&&s(a))}function LW(e,t,i,n){const r=n.getDefinition(),s=r&&r.suppressHeaderKeyboardEvent;if(!pe(s))return!1;const a=e.addGridCommonParams({colDef:r,column:n,headerRowIndex:i,event:t});return!!s(a)}function IW(e){const{keyCode:t}=e;let i;switch(t){case PW:i=ee.A;break;case DW:i=ee.C;break;case TW:i=ee.V;break;case MW:i=ee.D;break;case FW:i=ee.Z;break;case OW:i=ee.Y;break;default:i=e.code}return i}function NW(e,t=!1){return e===ee.DELETE?!0:!t&&e===ee.BACKSPACE?xN():!1}var ko=class extends uo{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=pe(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=i=>{WN(i)&&i.key&&!e.test(i.key)&&i.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:i=>{var r;const n=(r=i.clipboardData)==null?void 0:r.getData("text");n&&n.split("").some(s=>!e.test(s))&&i.preventDefault()}})}},yp={selector:"AG-INPUT-TEXT-FIELD",component:ko},Qx=class extends ko{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const r=parseFloat(this.eInput.value),s=isNaN(r)?"":this.normalizeValue(r.toString());this.value!==s&&this.setValue(s)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:e,min:t,max:i,step:n}=this.config;typeof e=="number"&&this.setPrecision(e),typeof t=="number"&&this.setMin(t),typeof i=="number"&&this.setMax(i),typeof n=="number"&&this.setStep(n)}onWheel(e){wt(this.gos)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e);return this.min!=null&&t<this.min?e=this.min.toString():this.max!=null&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(this.precision==null)return e;if(t){const n=parseFloat(e).toFixed(this.precision);return parseFloat(n).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=this.precision)return e;if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,mn(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,mn(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,mn(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(i=>super.setValue(i,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,i){if(pe(i)){let n=this.isScientificNotation(i);if(n&&this.eInput.validity.valid)return e(i);if(!n){i=this.adjustPrecision(i);const r=this.normalizeValue(i);n=i!=r}if(n)return t(i)}return e(i)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},_W={selector:"AG-INPUT-NUMBER-FIELD",component:Qx},UN=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],Zx=class{constructor(e,t,i){this.localeService=e,this.optionsFactory=t,this.valueFormatter=i}getModelAsString(e){if(!e)return null;const t=e.operator!=null,i=this.localeService.getLocaleTextFunc();if(t){const n=e,s=(n.conditions??[]).map(u=>this.getModelAsString(u)),a=n.operator==="AND"?"andCondition":"orCondition";return s.join(` ${i(a,HN[a])} `)}else{if(e.type==="blank"||e.type==="notBlank")return i(e.type,e.type);{const n=e,r=this.optionsFactory.getCustomOption(n.type),{displayKey:s,displayName:a,numberOfInputs:u}=r||{};return s&&a&&u===0?(i(s,a),a):this.conditionToString(n,r)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},$N=class extends Zx{conditionToString(e,t){const{numberOfInputs:i}=t||{};return e.type=="inRange"||i===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function iw(e){const{allowedCharPattern:t}=e??{};return t??null}var kW=class extends zN{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:n}=e||{};return[this.processValue(t),this.processValue(i)].slice(0,this.getNumberOfInputs(n))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new $N(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return UN}setElementValue(e,t,i){const n=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,n)}createValueElement(){const e=iw(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),Nn(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,i,n){const r=this.createManagedBean(n?new ko({allowedCharPattern:n}):new Qx);r.addCssClass(`ag-filter-${i}`),r.addCssClass("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,(i,n,r,s)=>{n<s&&t.push(this.processValue(this.stringToFloat(i.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=Ar(e);return t!=null&&t.trim()===""&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},n=this.getValues(e);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},qN=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],KN=class extends Zx{conditionToString(e,t){const{numberOfInputs:i}=t||{};return e.type=="inRange"||i===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}};function YN(e){const t=e&&e.trim();return t===""?e:t}var GW=class extends jN{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:i})=>{if(i==null)return!1;switch(e){case"contains":return t.indexOf(i)>=0;case"notContains":return t.indexOf(i)<0;case"equals":return t===i;case"notEqual":return t!=i;case"startsWith":return t.indexOf(i)===0;case"endsWith":{const n=t.lastIndexOf(i);return n>=0&&n===t.length-i.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new KN(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(ue("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:t,value:i,filterText:n})=>e(t,i,n)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){const t=this.getConditionType(e),i={filterType:this.getFilterType(),type:t},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(i.filter=n[0]),n.length>1&&(i.filterTo=n[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const i=[];return this.forEachPositionInput(e,(n,r,s,a)=>{if(r<a){let u=Ar(n.getValue());t&&this.textFilterParams.trimInput&&(u=YN(u)??null,n.setValue(u,!0)),i.push(u)}}),i}getDefaultFilterOptions(){return qN}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),Nn(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,i){const n=this.createManagedBean(new ko);n.addCssClass(`ag-filter-${i}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:i,type:n}=e||{};return[t||null,i||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,i,n){const r=e.map(m=>this.formatter(m))||[],s=this.formatter(t),{api:a,colDef:u,column:c,context:h,textFormatter:p}=this.textFilterParams;if(i.type==="blank")return this.isBlank(t);if(i.type==="notBlank")return!this.isBlank(t);const g={api:a,colDef:u,column:c,context:h,node:n.node,data:n.data,filterOption:i.type,value:s,textFormatter:p};return r.some(m=>this.matcher({...g,filterText:m}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function XN(e){if(typeof e=="number")return e;if(typeof e=="string"){const t=parseInt(e);return isNaN(t)?void 0:t}}function jn(e,t=Number.MAX_VALUE){return i=>{const n=XN(i);if(!(n==null||n<e||n>t))return n}}function ec(e,t){return e.toString().padStart(t,"0")}function BW(e,t){const i=[];for(let n=e;n<=t;n++)i.push(n);return i}function HW(e,t,i){return typeof e!="number"?"":e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function vn(e,t=!0,i="-"){if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(r=>ec(r,2)).join(i);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(r=>ec(r,2)).join(":")),n}var Lv=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function tc(e,t="YYYY-MM-DD"){const i=ec(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>ec(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${Lv(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${Lv(e.getDate())}`,DD:()=>ec(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>r[e.getDay()],ddd:()=>r[e.getDay()].slice(0,3),dd:()=>r[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${Lv(e.getDay())}`,d:()=>`${e.getDay()}`},a=new RegExp(Object.keys(s).join("|"),"g");return t.replace(a,u=>u in s?s[u]():u)}function Ti(e){if(!e)return null;const[t,i]=e.split(" ");if(!t)return null;const n=t.split("-").map(g=>parseInt(g,10));if(n.filter(g=>!isNaN(g)).length!==3)return null;const[r,s,a]=n,u=new Date(r,s-1,a);if(u.getFullYear()!==r||u.getMonth()!==s-1||u.getDate()!==a)return null;if(!i||i==="00:00:00")return u;const[c,h,p]=i.split(":").map(g=>parseInt(g,10));return c>=0&&c<24&&u.setHours(c),h>=0&&h<60&&u.setMinutes(h),p>=0&&p<60&&u.setSeconds(p),u}var QN=class{constructor(e,t,i,n,r){this.alive=!0,this.context=e,this.eParent=n,t.getDateCompDetails(i).newAgStackInstance().then(u=>{if(!this.alive){e.destroyBean(u);return}this.dateComp=u,u&&(n.appendChild(u.getGui()),u.afterGuiAttached&&u.afterGuiAttached(),this.tempValue&&u.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),r==null||r(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){bt(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){var i,n;let t=!1;(i=this.dateComp)!=null&&i.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(t=!0),!t&&((n=this.dateComp)!=null&&n.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&ue("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},ZN=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],JN=class extends Zx{constructor(e,t,i){super(t,i),this.dateFilterParams=e}conditionToString(e,t){const{type:i}=e,{numberOfInputs:n}=t||{},r=i=="inRange"||n===2,s=Ti(e.dateFrom),a=Ti(e.dateTo),u=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(r){const c=s!==null?tc(s,u):"null",h=a!==null?tc(a,u):"null";return`${c}-${h}`}return s!=null?tc(s,u):`${i}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},_D=1e3,kD=1/0,VW=class extends zN{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=_D,this.maxValidYear=kD,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:i,type:n}=e||{};return[t&&Ti(t)||null,i&&Ti(i)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){const i=t;return t==null||i<e?-1:i>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(i,n)=>{if(e[i]!=null)if(isNaN(e[i]))ue(`DateFilter ${i} is not a number`);else return e[i]==null?n:Number(e[i]);return n};this.minValidYear=t("minValidYear",_D),this.maxValidYear=t("maxValidYear",kD),this.minValidYear>this.maxValidYear&&ue("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:Ti(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:Ti(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&ue("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new JN(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new QN(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return ZN}createValueElement(){const t=Pt(this.gos).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,i,n){const s=Pt(this.gos).createElement("div");s.classList.add(`ag-filter-${n}`),s.classList.add(`ag-filter-date-${n}`),t.push(s),e.appendChild(s),i.push(this.createDateCompWrapper(s))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,i){this.removeItems(e,t,i).forEach(r=>r.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((i,n,r,s)=>{r!==e||!t||n>=s||(t=t&&this.isValidDateValue(i.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),i={},n=this.getValues(e);return n.length>0&&(i.dateFrom=vn(n[0])),n.length>1&&(i.dateTo=vn(n[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t,...i}}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(n=>{n.setInputPlaceholder(t),n.setInputAriaLabel(i)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(i,n,r,s)=>{n<s&&t.push(i.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},Jx=class extends ie{constructor(e,t,i,n){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=n,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?Ve(this.colsSpanning):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),t=pe(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),i=e.getOldLeft(),n=this.modifyLeftForPrintLayout(e,i),r=this.modifyLeftForPrintLayout(e,t);this.setLeft(n),this.actualLeft=r,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===r&&this.setLeft(r)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!ri(this.beans.gos,"print")||e.getPinned()==="left")return t;const n=this.beans.visibleColsService.getColsLeftWidth();if(e.getPinned()==="right"){const r=this.beans.visibleColsService.getBodyContainerWidth();return n+r+t}return n+t}setLeft(e){if(pe(e)&&(this.eCell.style.left=`${e}px`),Mt(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&s2(this.ariaEl,t.length)}}},jW="ag-column-first",zW="ag-column-last";function e_(e,t,i,n){return je(e)?[]:UW(e.headerClass,e,t,i,n)}function t_(e,t,i){e.addOrRemoveCssClass(jW,i.isColAtEdge(t,"first")),e.addOrRemoveCssClass(zW,i.isColAtEdge(t,"last"))}function WW(e,t,i,n){return t.addGridCommonParams({colDef:e,column:i,columnGroup:n})}function UW(e,t,i,n,r){if(je(e))return[];let s;if(typeof e=="function"){const a=WW(t,i,n,r);s=e(a)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}var $W=0,i_=class n_ extends ie{constructor(t,i,n){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=t,this.parentRowCtrl=n,this.beans=i,this.instanceId=t.getUniqueId()+"-"+$W++}wireBeans(t){this.pinnedWidthService=t.pinnedWidthService,this.focusService=t.focusService,this.userComponentFactory=t.userComponentFactory,this.ctrlsService=t.ctrlsService,this.dragAndDropService=t.dragAndDropService,this.menuService=t.menuService}postConstruct(){const t=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],t),this.addManagedEventListeners({overlayExclusiveChanged:t})}shouldStopEventPropagation(t){const{headerRowIndex:i,column:n}=this.focusService.getFocusedHeader();return LW(this.gos,t,i,n)}getWrapperHasFocus(){return wt(this.gos)===this.eGui}setGui(t,i){this.eGui=t,this.addDomData(i),i.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),i.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(t){const{wrapperElement:i,checkMeasuringCallback:n,compBean:r}=t,{animationFrameService:s,resizeObserverService:a,columnModel:u,gos:c}=this.beans,h=w=>{if(!this.isAlive()||!r.isAlive())return;const{paddingTop:S,paddingBottom:x,borderBottomWidth:E,borderTopWidth:R}=No(this.getGui()),T=S+x+E+R,P=i.offsetHeight+T;if(w<5){const F=Pt(c),I=!F||!F.contains(i),k=P==0;if(I||k){s.requestAnimationFrame(()=>h(w+1));return}}u.setColHeaderHeight(this.column,P)};let p=!1,g;const m=()=>{const w=this.column.isAutoHeaderHeight();w&&!p&&y(),!w&&p&&b()},y=()=>{p=!0,h(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),g=a.observeResize(i,()=>h(0))},b=()=>{p=!1,g&&g(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),g=void 0};m(),r.addDestroyFunc(()=>b()),r.addManagedListeners(this.column,{widthChanged:()=>p&&h(0)}),r.addManagedEventListeners({sortChanged:()=>{p&&window.setTimeout(()=>h(0))}}),n&&n(m)}onDisplayedColumnsChanged(){const{comp:t,column:i,beans:n,eGui:r}=this;!t||!i||!r||(t_(t,i,n.visibleColsService),mN(r,n.visibleColsService.getAriaColIndex(i)))}addResizeAndMoveKeyboardListeners(t){this.resizeFeature&&t.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const t=this.focusService.isHeaderFocusSuppressed();this.eGui&&mn(this.eGui,"tabindex",t?null:"-1")}onGuiKeyDown(t){var a;const i=wt(this.gos),n=t.key===ee.LEFT||t.key===ee.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),i!==this.eGui||!t.shiftKey&&!t.altKey||((this.isResizing||n)&&(t.preventDefault(),t.stopImmediatePropagation()),!n))return;const r=t.key===ee.LEFT!==this.gos.get("enableRtl"),s=NN[r?"Left":"Right"];if(t.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const u=this.getViewportAdjustedResizeDiff(t);this.resizeHeader(u,t.shiftKey),(a=this.resizeFeature)==null||a.toggleColumnResizing(!0)}else this.moveHeader(s)}getViewportAdjustedResizeDiff(t){let i=this.getResizeDiff(t);if(this.column.getPinned()){const r=this.pinnedWidthService.getPinnedLeftWidth(),s=this.pinnedWidthService.getPinnedRightWidth(),a=td(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(r+s+i>a)if(a>r+s)i=a-r-s;else return 0}return i}getResizeDiff(t){let i=t.key===ee.LEFT!==this.gos.get("enableRtl");const n=this.column.getPinned(),r=this.gos.get("enableRtl");return n&&r!==(n==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var t;(t=this.resizeFeature)==null||t.toggleColumnResizing(!1)},150))}handleKeyDown(t){const i=this.getWrapperHasFocus();switch(t.key){case ee.PAGE_DOWN:case ee.PAGE_UP:case ee.PAGE_HOME:case ee.PAGE_END:i&&t.preventDefault()}}addDomData(t){const i=n_.DOM_DATA_KEY_HEADER_CTRL;Po(this.gos,this.eGui,i,this),t.addDestroyFunc(()=>Po(this.gos,this.eGui,i,null))}getGui(){return this.eGui}focus(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(t,i,n){const r=t??i;this.gos.get("preventDefaultOnContextMenu")&&r.preventDefault(),this.menuService.isHeaderContextMenuEnabled(n)&&this.menuService.showHeaderContextMenu(n,t,i),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(t,i){this.eventService.dispatchEvent({type:t,column:i})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};i_.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var Cp=i_,e0=class extends ie{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},qW=class extends Cp{constructor(e,t,i){super(e,t,i),this.iconCreated=!1,this.column=e}setComp(e,t,i,n,r){this.comp=e,r=Jc(this,this.beans.context,r),this.eButtonShowMainFilter=i,this.eFloatingFilterBody=n,this.setGui(t,r),this.setupActive(),this.setupWidth(r),this.setupLeft(r),this.setupHover(r),this.setupFocus(r),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(r),this.setupUi(),r.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(r),r.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(r)}),r.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),t=!!e.filter,i=!!e.floatingFilter;this.active=t&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Ki("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new _o(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();Ka(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(wt(this.gos)===this.eGui)return;const n=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(n){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),n.focus();return}const r=this.findNextColumnWithFloatingFilter(e.shiftKey);r&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:r},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleColsService;let i=this.column;do if(i=e?t.getColBefore(i):t.getColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case ee.UP:case ee.DOWN:t||e.preventDefault();case ee.LEFT:case ee.RIGHT:if(t)return;e.stopPropagation();case ee.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case ee.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),n=!!e.relatedTarget&&Ha(e.relatedTarget,"ag-floating-filter");if(i&&n&&e.target===this.eGui){const s=this.lastFocusEvent,a=!!(s&&s.key===ee.TAB);if(s&&a){const u=s.shiftKey;this.focusService.focusInto(this.eGui,u)}}const r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}setupHover(e){e.createManagedBean(new e0([this.column],this.eGui));const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const i=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:t}),t()}setupLeft(e){const t=new Jx(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,i=n=>{if((n==null?void 0:n.source)==="filterDestroyed"&&!this.isAlive())return;const r=this.comp.getFloatingFilterComp();r&&r.then(s=>{if(s){const a=t==null?void 0:t.getCurrentFloatingFilterParentModel(this.column),u=n?{...n,columns:n.columns??[],source:n.source==="api"?"api":"columnFilter"}:null;s.onParentModelChanged(a,u)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:i}),t!=null&&t.isFilterActive(this.column)&&i(null)}setupWidth(e){const t=()=>{const i=`${this.column.getActualWidth()}px`;this.comp.setWidth(i)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var s;const t=this.active;this.setupActive();const i=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const n=this.active?(s=this.beans.filterManager)==null?void 0:s.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,r=this.comp.getFloatingFilterComp();!r||!n?this.updateCompDetails(e,n,i):r.then(a=>{var u;!a||(u=this.beans.filterManager)!=null&&u.areFilterCompsDifferent(this.userCompDetails??null,n)?this.updateCompDetails(e,n,i):this.updateFloatingFilterParams(n)})}updateCompDetails(e,t,i){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),i&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var i;if(!e)return;const t=e.params;(i=this.comp.getFloatingFilterComp())==null||i.then(n=>{let r=!1;n!=null&&n.refresh&&typeof n.refresh=="function"&&n.refresh(t)!==null&&(r=!0),!r&&(n!=null&&n.onParamsUpdated)&&typeof n.onParamsUpdated=="function"&&n.onParamsUpdated(t)!==null&&ue("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};var Ae="32.3.9";function KW(e){var t,i;return!!((t=e.filterManager)!=null&&t.isColumnFilterPresent())||!!((i=e.filterManager)!=null&&i.isAggregateFilterPresent())}function YW(e,t,i){var n;return(n=e.filterManager)==null?void 0:n.getFilterInstance(t,i)}function XW(e,t){var i;return((i=e.filterManager)==null?void 0:i.getColumnFilterInstance(t))??Promise.resolve(void 0)}function QW(e,t){var n;const i=e.columnModel.getColDefCol(t);if(i)return(n=e.filterManager)==null?void 0:n.destroyFilter(i,"api")}function ZW(e,t){e.frameworkOverrides.wrapIncoming(()=>{var i;return(i=e.filterManager)==null?void 0:i.setFilterModel(t)})}function JW(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function eU(e,t){var i;return((i=e.filterManager)==null?void 0:i.getColumnFilterModel(t))??null}function tU(e,t,i){var n;return((n=e.filterManager)==null?void 0:n.setColumnFilterModel(t,i))??Promise.resolve()}function iU(e,t){const i=e.columnModel.getCol(t);if(!i){Qe(`column '${t}' not found`);return}e.menuService.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"})}function nU(e,t,i){if(t==null)return null;let n=null;const{compName:r,jsComp:s,fwComp:a}=LN.getCompKeys(e,t,Kx);return r?n={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:s==null&&a==null&&t.filter===!0&&(n=i()),n}var GD={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},BD=["january","february","march","april","may","june","july","august","september","october","november","december"],rU=class extends ie{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){var r;if((r=this.dataTypeService)!=null&&r.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:t});return}const i=[],n=this.getFilterModel(!0);if(e){const s=new Set(Object.keys(e));this.allColumnFilters.forEach((a,u)=>{const c=e[u];i.push(this.setModelOnFilterWrapper(a.filterPromise,c)),s.delete(u)}),s.forEach(a=>{const u=this.columnModel.getColDefCol(a)||this.columnModel.getCol(a);if(!u){ue("setFilterModel() - no column found for colId: "+a);return}if(!u.isFilterAllowed()){ue("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+a);return}const c=this.getOrCreateFilterWrapper(u);if(!c){ue("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+a);return}i.push(this.setModelOnFilterWrapper(c.filterPromise,e[a]))})}else this.allColumnFilters.forEach(s=>{i.push(this.setModelOnFilterWrapper(s.filterPromise,null))});At.all(i).then(()=>{var u;const s=this.getFilterModel(!0),a=[];this.allColumnFilters.forEach((c,h)=>{const p=n?n[h]:null,g=s?s[h]:null;uc(p,g)||a.push(c.column)}),a.length>0&&((u=this.filterManager)==null||u.onFilterChanged({columns:a,source:t}))})}setModelOnFilterWrapper(e,t){return new At(i=>{e.then(n=>{typeof n.setModel!="function"&&(ue("filter missing setModel method, which is needed for setFilterModel"),i()),(n.setModel(t)||At.resolve()).then(()=>i())})})}getFilterModel(e){const t={},{allColumnFilters:i,initialFilterModel:n}=this;return i.forEach((r,s)=>{const a=this.getModelFromFilterWrapper(r);pe(a)&&(t[s]=a)}),e||Object.entries(n).forEach(([r,s])=>{var a;pe(s)&&!i.has(r)&&((a=this.columnModel.getCol(r))!=null&&a.isFilterAllowed())&&(t[r]=s)}),t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(ue("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return this.allColumnFilters.size?(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=s=>s?s.isFilterActive?s.isFilterActive():(ue("Filter is missing isFilterActive() method"),!1):!1,t=!!Wb(this.gos),i=s=>{if(!s.isPrimary())return!0;const u=!this.columnModel.isPivotActive();return!s.isValueActive()||!u?!1:this.columnModel.isPivotMode()?!0:t},n=[],r=[];return this.forEachColumnFilter((s,a)=>{e(s)&&(i(a.column)?n.push(s):r.push(s))}).then(()=>{this.activeAggregateFilters=n,this.activeColumnFilters=r})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((i,n)=>n.column.setFilterActive(i.isFilterActive(),e,t))}forEachColumnFilter(e){return At.all(Array.from(this.allColumnFilters.values()).map(t=>t.filterPromise.then(i=>e(i,t))))}doColumnFiltersPass(e,t,i){const{data:n,aggData:r}=e,s=i?this.activeAggregateFilters:this.activeColumnFilters,a=i?r:n;for(let u=0;u<s.length;u++){const c=s[u];if(!(c==null||c===t)){if(typeof c.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!c.doesFilterPass({node:e,data:a}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const t=()=>{var i;return(i=this.filterManager)==null?void 0:i.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:i}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",i).then(()=>{this.allColumnFilters.forEach(n=>{n.filterPromise&&n.filterPromise.then(r=>{r&&r!==t&&r.onAnyFilterChanged&&r.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{t.onNewRowsLoaded&&t.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,i)=>{const n=i?this.columnModel.getCol(i):e;return n?this.valueService.getValue(n,t,!0):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){var i;let t;if(Rv(this.gos))t="agSetColumnFilter";else{const n=(i=this.dataTypeService)==null?void 0:i.getBaseDataType(e);n==="number"?t="agNumberColumnFilter":n==="date"||n==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){var i;let t;if(Rv(this.gos))t="agSetColumnFloatingFilter";else{const n=(i=this.dataTypeService)==null?void 0:i.getBaseDataType(e);n==="number"?t="agNumberColumnFloatingFilter":n==="date"||n==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const i=this.getDefaultFilter(e),n=e.getColDef();let r;const s={...this.createFilterParams(e,n),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(r,e)(),filterChangedCallback:u=>this.filterChangedCallbackFactory(r,e)(u),doesRowPassOtherFilter:u=>this.filterManager?this.filterManager.doesRowPassOtherFilters(r,u):!0},a=this.userComponentFactory.getFilterDetails(n,s,i);return a?{filterPromise:()=>{const u=a.newAgStackInstance();return u!=null&&u.then(c=>{r=c,t&&(t.filter=c)}),u},compDetails:a}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:oN(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:i,compDetails:n}=this.createFilterInstance(e,t);return t.filterPromise=(i==null?void 0:i())??null,t.compDetails=n,t}onColumnsChanged(){var i;const e=[];this.allColumnFilters.forEach((n,r)=>{let s;n.column.isPrimary()?s=this.columnModel.getColDefCol(r):s=this.columnModel.getCol(r),!(s&&s===n.column)&&(e.push(n.column),this.disposeFilterWrapper(n,"columnChanged"),this.disposeColumnListener(r))});const t=e.every(n=>n.getColDef().filter==="agGroupColumnFilter");e.length>0&&!t?(i=this.filterManager)==null||i.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){const e=this.columnModel.getAutoCols();e==null||e.forEach(t=>{t.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(t)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:i}=this.allColumnFilters.get(e.getColId())??{};return i&&typeof(i==null?void 0:i.isFilterAllowed)=="function"?i.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const i=c=>{var p;const h=(p=this.getOrCreateFilterWrapper(e))==null?void 0:p.filterPromise;h!=null&&h.then(g=>{c(Ju(g))})},n=e.getColDef(),r={...this.createFilterParams(e,n),filterChangedCallback:()=>i(c=>this.filterChangedCallbackFactory(c,e)())},s=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(n,Kx,r);let a=nU(this.frameworkOverrides,n,()=>this.getDefaultFloatingFilter(e));a==null&&(a="agReadOnlyFloatingFilter");const u={column:e,filterParams:s,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:i,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(n,u,a)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){var r;const i=e.getColId(),n=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],n&&(this.disposeFilterWrapper(n,t),(r=this.filterManager)==null||r.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(i=>{this.destroyBean(i),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:t,column:e.column})})}filterModifiedCallbackFactory(e,t){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return i=>{const n=(i==null?void 0:i.source)??"columnFilter",r={filter:e,additionalEventAttributes:i,columns:[t],source:n};this.callOnFilterChangedOutsideRenderCycle(r)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const i=t.column,{compDetails:n}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,n)){this.destroyFilter(i,"paramsUpdated");return}const r=i.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(i,"paramsUpdated");return}t.filterPromise.then(s=>{(s!=null&&s.refresh?s.refresh({...this.createFilterParams(i,i.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(s,i),filterChangedCallback:this.filterChangedCallbackFactory(s,i),doesRowPassOtherFilter:u=>this.filterManager?this.filterManager.doesRowPassOtherFilters(s,u):!0,...r}):!0)===!1&&this.destroyFilter(i,"paramsUpdated")})}setColumnFilterWrapper(e,t){const i=e.getColId();this.allColumnFilters.set(i,t),this.allColumnListeners.set(i,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(i)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:i}=e,{componentClass:n}=t;return!(i===n||(i==null?void 0:i.render)&&(n==null?void 0:n.render)&&i.render===n.render)}hasFloatingFilters(){return this.columnModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e,t){t&&this.getFilterInstanceImpl(e).then(i=>{const n=Ju(i);t(n)})}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(i=>{t(Ju(i))})})}getFilterInstanceImpl(e){var n;const t=this.columnModel.getColDefCol(e);return t?((n=this.getOrCreateFilterWrapper(t))==null?void 0:n.filterPromise)??At.resolve(null):At.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:i})=>{this.setColumnFilterModel(e,t).then(()=>i())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){var s;if((s=this.dataTypeService)!=null&&s.isPendingInference()){let a=()=>{};const u=new Promise(c=>{a=c});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:a}),u}const i=this.columnModel.getColDefCol(e),n=i?this.getOrCreateFilterWrapper(i):null;return n?(a=>new Promise(u=>{a.then(c=>u(c))}))(this.setModelOnFilterWrapper(n.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.columnModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,i){const n=Rv(this.gos),r=this.localeService.getLocaleTextFunc(),s=a=>{const{filterParams:u}=e;e.filterParams=typeof u=="object"?{...u,...a}:a};switch(t.baseDataType){case"number":{n&&s({comparator:(a,u)=>{const c=a==null?0:parseInt(a),h=u==null?0:parseInt(u);return c===h?0:c>h?1:-1}});break}case"boolean":{s(n?{valueFormatter:a=>pe(a.value)?r(String(a.value),a.value?"True":"False"):r("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(a,u)=>u,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(a,u)=>u===!1,numberOfInputs:0}]});break}case"date":{n&&s({valueFormatter:a=>{const u=i(a);return pe(u)?u:r("blanks","(Blanks)")},treeList:!0,treeListFormatter:(a,u)=>{if(u===1&&a!=null){const c=BD[Number(a)-1];return r(c,GD[c])}return a??r("blanks","(Blanks)")}});break}case"dateString":{const a=t.dateParser;s(n?{valueFormatter:u=>{const c=i(u);return pe(c)?c:r("blanks","(Blanks)")},treeList:!0,treeListPathGetter:u=>{const c=a(u??void 0);return c?[String(c.getFullYear()),String(c.getMonth()+1),String(c.getDate())]:null},treeListFormatter:(u,c)=>{if(c===1&&u!=null){const h=BD[Number(u)-1];return r(h,GD[h])}return u??r("blanks","(Blanks)")}}:{comparator:(u,c)=>{const h=a(c);return c==null||h<u?-1:h>u?1:0}});break}case"object":{n?s({valueFormatter:a=>{const u=i(a);return pe(u)?u:r("blanks","(Blanks)")}}):e.filterValueGetter=a=>i({column:a.column,node:a.node,value:this.valueService.getValue(a.column,a.node)});break}}}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function sU(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function oU(e,t="api"){var i;(i=e.filterManager)==null||i.onFilterChanged({source:t})}var aU=class extends ht{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[yp]),this.eFloatingFilterText=xe}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const i=t.getModelAsString(e);this.eFloatingFilterText.setValue(i)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}},r_=class extends ht{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e==null?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}const t=e.operator;let i;t?i=e.conditions[0]:i=e,this.lastType=i.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const i=e;return this.isTypeEditable(i.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new VN,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:i}=t||{};return i==null||i==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();return`${t} ${i("ariaFilterInput","Filter Input")}`}},lU=class extends r_{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[yp]),this.eReadOnlyText=xe,this.eDateWrapper=xe}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return ZN}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new JN(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){const i=e;this.dateComp.setDate(Ti(i.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){bt(this.eDateWrapper,e),bt(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=vn(e);this.params.parentFilterInstance(i=>{if(i){const n=Ti(t);i.onFloatingFilterChanged(this.getLastType()||null,n)}})}getDateComponentParams(){const e=Yx(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:yi(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new QN(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}},uU=class extends ht{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[yp]),this.eDateInput=xe}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()},input:i=>{i.target===wt(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){const t=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&Lr(),t.type=i?"date":"text";const{minValidYear:n,maxValidYear:r,minValidDate:s,maxValidDate:a}=e.filterParams||{};if(s&&n&&ue("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),a&&r&&ue("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),s&&a){const[u,c]=[s,a].map(h=>h instanceof Date?h:Ti(h));u&&c&&u.getTime()>c.getTime()&&ue("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}s?s instanceof Date?t.min=tc(s):t.min=s:n&&(t.min=`${n}-01-01`),a?a instanceof Date?t.max=tc(a):t.max=a:r&&(t.max=`${r}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return Ti(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(vn(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:g2()||Wx()||Lr()&&wN()>=14.1}},s_=class extends ie{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=xe,this.valueChangedListener=()=>{}}setupGui(e){var n;this.eFloatingFilterTextInput=this.createManagedBean(new ko((n=this.params)==null?void 0:n.config));const t=this.eFloatingFilterTextInput.getGui();e.appendChild(t);const i=r=>this.valueChangedListener(r);this.addManagedListeners(t,{input:i,keydown:i})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},o_=class extends r_{constructor(){super(...arguments),this.eFloatingFilterInputContainer=xe}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=df(this.params.filterParams),!this.isReadOnly()){const i=Yx(this.params.filterParams,this.getDefaultDebounceMs()),n=yi(this.syncUpWithParentFilter.bind(this),i);this.floatingFilterInputService.setValueChangedListener(n)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();Xi(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){const t=e.key===ee.ENTER;if(this.applyActive&&!t)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=YN(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(n=>{n&&n.onFloatingFilterChanged(this.getLastType()||null,i||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}},cU=class extends ie{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new Qx),this.eFloatingFilterTextInput=this.createManagedBean(new ko),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(i),this.setupListeners(t,n=>this.valueChangedListener(n)),this.setupListeners(i,n=>this.valueChangedListener(n))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},dU=class extends o_{init(e){var t;super.init(e),this.filterModelFormatter=new $N(this.localeService,this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){iw(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return UN}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=iw(e.filterParams),this.allowedCharPattern?this.createManagedBean(new s_({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new cU)}},hU=class extends o_{init(e){super.init(e),this.filterModelFormatter=new KN(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return qN}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new s_)}};function fU(e){var t;return!!((t=e.filterManager)!=null&&t.isQuickFilterPresent())}function pU(e){return e.gos.get("quickFilterText")}function gU(e){var t;(t=e.filterManager)==null||t.resetQuickFilterCache()}var mU=class extends ie{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){const e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){var r;const e=this.columnModel.isPivotMode(),t=this.columnModel.getAutoCols(),i=this.columnModel.getColDefCols();let n=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?(r=this.pivotResultColsService.getPivotResultCols())==null?void 0:r.list:i)??[];t&&(n=n.concat(t)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?n:n.filter(s=>s.isVisible()||s.isRowGroupActive())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(i=>t?this.doesRowPassQuickFilterCache(e,i):this.doesRowPassQuickFilterNoCache(e,i))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return pe(e)?vt(this.gos)?e.toUpperCase():(ue("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){ue(`Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),i=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,i&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,t){return this.colsForQuickFilter.some(i=>{const n=this.getQuickFilterTextForColumn(i,e);return pe(n)&&n.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let i;e?(this.checkGenerateQuickFilterAggregateText(t),i=t.quickFilterAggregateText):i=this.getQuickFilterAggregateText(t);const{quickFilterParts:n,matcher:r}=this;return r(n,i)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let i=this.valueService.getValue(e,t,!0);const n=e.getColDef();if(n.getQuickFilterText){const r=this.gos.addGridCommonParams({value:i,node:t,data:t.data,column:e,colDef:n});i=n.getQuickFilterText(r)}return pe(i)?i.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.colsForQuickFilter.forEach(i=>{const n=this.getQuickFilterTextForColumn(i,e);pe(n)&&t.push(n)}),t.join(`
`)}},t0={version:Ae,moduleName:"@ag-grid-community/filter-core",beans:[yW]},vU={version:Ae,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:sU,onFilterChanged:oU},dependantModules:[t0]},i0={version:Ae,moduleName:"@ag-grid-community/column-filter",beans:[rU],dependantModules:[t0]},yU={version:Ae,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:KW,getFilterInstance:YW,getColumnFilterInstance:XW,destroyFilter:QW,setFilterModel:ZW,getFilterModel:JW,getColumnFilterModel:eU,setColumnFilterModel:tU,showColumnFilter:iU},dependantModules:[i0,vU]},a_={version:Ae,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:qW}],dependantModules:[i0]},CU={version:Ae,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:aU}],dependantModules:[a_]},SU={version:Ae,moduleName:"@ag-grid-community/simple-filter",dependantModules:[i0],userComponents:[{name:"agTextColumnFilter",classImp:GW},{name:"agNumberColumnFilter",classImp:kW},{name:"agDateColumnFilter",classImp:VW},{name:"agDateInput",classImp:uU}]},bU={version:Ae,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[SU,a_],userComponents:[{name:"agTextColumnFloatingFilter",classImp:hU},{name:"agNumberColumnFloatingFilter",classImp:dU},{name:"agDateColumnFloatingFilter",classImp:lU}]},l_={version:Ae,moduleName:"@ag-grid-community/quick-filter-core",beans:[mU],dependantModules:[t0]},wU={version:Ae,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:fU,getQuickFilter:pU,resetQuickFilter:gU},dependantModules:[l_]},xU={version:Ae,moduleName:"@ag-grid-community/quick-filter",dependantModules:[l_,wU]},RU={version:Ae,moduleName:"@ag-grid-community/filter",dependantModules:[bU,CU,xU,yU]},nw=(e=>(e.COLUMN_GROUP="group",e.COLUMN="column",e.FLOATING_FILTER="filter",e))(nw||{}),EU=class extends ie{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridBodyCon=t.gridBodyCtrl});const e=Pt(this.gos);this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){var e;return((e=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:e.getRowCount())??0}getHeaderPositionForColumn(e,t){let i;if(typeof e=="string"?(i=this.columnModel.getCol(e),i||(i=this.visibleColService.getColumnGroup(e))):i=e,!i)return null;const n=this.ctrlsService.getHeaderRowContainerCtrl(),r=n==null?void 0:n.getAllCtrls(),s=Ve(r||[]).getType()==="filter",a=this.getHeaderRowCount()-1;let u=-1,c=i;for(;c;)u++,c=c.getParent();let h=u;return t&&s&&h===a-1&&h++,h===-1?null:{headerRowIndex:h,column:i}}navigateVertically(e,t,i){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:n}=t,r=t.column,s=this.getHeaderRowCount(),a=e===0;let{headerRowIndex:u,column:c,headerRowIndexWithoutSpan:h}=a?this.headerPositionUtils.getColumnVisibleParent(r,n):this.headerPositionUtils.getColumnVisibleChild(r,n),p=!1;return u<0&&(u=0,c=r,p=!0),u>=s?(u=-1,this.setCurrentHeaderRowWithoutSpan(-1)):h!==void 0&&(this.currentHeaderRowWithoutSpan=h),!p&&!c?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:c},allowUserOverride:!0,event:i})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,t=!1,i){const n=this.focusService.getFocusedHeader(),r=e===2,s=this.gos.get("enableRtl");let a,u;if(this.currentHeaderRowWithoutSpan!==-1?n.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=n.headerRowIndex,r!==s?(u="Before",a=this.headerPositionUtils.findHeader(n,u)):(u="After",a=this.headerPositionUtils.findHeader(n,u)),a||!t)return this.focusService.focusHeaderPosition({headerPosition:a,direction:u,fromTab:t,allowUserOverride:!0,event:i});if(t){const c=this.gos.getCallback("tabToNextHeader");if(c)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:c,headerPosition:a,direction:u})}return this.focusNextHeaderRow(n,u,i)}focusNextHeaderRow(e,t,i){const n=e.headerRowIndex;let r=null,s;if(t==="Before"?n>0&&(s=n-1,this.currentHeaderRowWithoutSpan-=1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=n+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),r=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),!r)return!1;const{column:a,headerRowIndex:u}=this.headerPositionUtils.getHeaderIndexToFocus(r.column,r==null?void 0:r.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:u},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){if(e.getPinned())return;let i;if(Mt(e)){const n=e.getDisplayedLeafColumns();i=t==="Before"?Ve(n):n[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},AU=class extends ie{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,t,i){this.comp=e,this.eGui=t,this.createManagedBean(new _o(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const n=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:n}),this.mockContextMenuForIPad(n),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){var s;const{columnModel:e}=this;let t=0;const i=this.columnModel.getGroupRowsHeight().reduce((a,u)=>a+u,0),n=this.columnModel.getColumnHeaderRowHeight();if((s=this.filterManager)!=null&&s.hasFloatingFilters()&&(t+=e.getFloatingFiltersHeight()),t+=i,t+=n,this.headerHeight===t)return;this.headerHeight=t;const r=`${t+1}px`;this.comp.setHeightAndMinHeight(r),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.visibleColsService.getAllCols().some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),i=e.shiftKey,n=i!==t?2:3;(this.headerNavigationService.navigateHorizontally(n,!0,e)||!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case ee.LEFT:t=2;case ee.RIGHT:{pe(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case ee.UP:t=0;case ee.DOWN:{pe(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e;!t&&this.eGui.contains(wt(this.gos))||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,i){var r;if(!e&&!i||!this.menuService.isHeaderContextMenuEnabled())return;const{target:n}=e??t;(n===this.eGui||n===((r=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:r.getViewportElement()))&&this.menuService.showHeaderContextMenu(void 0,e,i)}mockContextMenuForIPad(e){if(!Ps())return;const t=new ws(this.eGui),i=n=>{e(void 0,n.touchStart,n.touchEvent)};this.addManagedListeners(t,{longTap:i}),this.addDestroyFunc(()=>t.destroy())}},n0=class extends ie{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=ri(this.gos,"print"),t=this.visibleColsService.getBodyContainerWidth(),i=this.visibleColsService.getColsLeftWidth(),n=this.visibleColsService.getDisplayedColumnsRightWidth();let r;e?r=t+i+n:(r=t,this.addSpacer&&(this.gos.get("enableRtl")?i:n)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(r+=this.scrollVisibleService.getScrollbarWidth())),this.callback(r)}},PU=class extends ie{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function u_(e){const{isFromHeader:t,fromLeft:i,xPosition:n,fromEnter:r,fakeEvent:s,pinned:a,gos:u,columnModel:c,columnMoveService:h,visibleColsService:p}=e;let{allMovingColumns:g}=e;if(t){const A=[];g.forEach(P=>{var k;let F=null,I=P.getParent();for(;I!=null&&I.getDisplayedLeafColumns().length===1;)F=I,I=I.getParent();F!=null?(!!((k=F.getColGroupDef())!=null&&k.marryChildren)?F.getProvidedColumnGroup().getLeafColumns():F.getLeafColumns()).forEach(B=>{A.includes(B)||A.push(B)}):A.includes(P)||A.push(P)}),g=A}const m=g.slice();c.sortColsLikeCols(m);const y=FU({movingCols:m,draggingRight:i,xPosition:n,pinned:a,gos:u,columnModel:c,visibleColsService:p}),b=DU(m,c);if(y.length===0)return;const w=y[0];let S=b!==null&&!r;if(t&&(S=b!==null),S&&!s&&(!i&&w>=b||i&&w<=b))return;const x=p.getAllCols(),E=[];let R=null;for(let A=0;A<y.length;A++){const P=y[A],F=h.getProposedColumnOrder(m,P);if(!h.doesOrderPassRules(F))continue;const I=F.filter(W=>x.includes(W));if(R===null)R=I;else if(!As(I,R))break;const k=TU(F);E.push({move:P,fragCount:k})}if(E.length===0)return;E.sort((A,P)=>A.fragCount-P.fragCount);const T=E[0].move;if(!(T>c.getCols().length-g.length))return{columns:g,toIndex:T}}function r0(e){const{columns:t,toIndex:i}=u_(e)||{},{finished:n,columnMoveService:r}=e;return!t||i==null?null:(r.moveColumns(t,i,"uiColumnMoved",n),n?null:{columns:t,toIndex:i})}function DU(e,t){const i=t.getCols(),n=vz(e.map(c=>i.indexOf(c))),r=n[0];return Ve(n)-r!==n.length-1?null:r}function TU(e){function t(n){const r=[];let s=n.getOriginalParent();for(;s!=null;)r.push(s),s=s.getOriginalParent();return r}let i=0;for(let n=0;n<e.length-1;n++){let r=t(e[n]),s=t(e[n+1]);[r,s]=r.length>s.length?[r,s]:[s,r],r.forEach(a=>{s.indexOf(a)===-1&&i++})}return i}function MU(e,t){switch(t){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}function FU(e){const{movingCols:t,draggingRight:i,xPosition:n,pinned:r,gos:s,columnModel:a,visibleColsService:u}=e;if(s.get("suppressMovableColumns")||t.some(R=>R.getColDef().suppressMovable))return[];const h=MU(u,r),p=a.getCols(),g=h.filter(R=>yo(t,R)),m=h.filter(R=>!yo(t,R)),y=p.filter(R=>!yo(t,R));let b=0,w=n;if(i){let R=0;g.forEach(T=>R+=T.getActualWidth()),w-=R}if(w>0){for(let R=0;R<m.length;R++){const T=m[R];if(w-=T.getActualWidth(),w<0)break;b++}i&&b++}let S;if(b>0){const R=m[b-1];S=y.indexOf(R)+1}else S=y.indexOf(m[0]),S===-1&&(S=0);const x=[S],E=(R,T)=>R-T;if(i){let R=S+1;const T=p.length-1;for(;R<=T;)x.push(R),R++;x.sort(E)}else{let R=S;const T=p.length-1;let A=p[R];for(;R<=T&&h.indexOf(A)<0;)R++,x.push(R),A=p[R];R=S-1;const P=0;for(;R>=P;)x.push(R),R--;x.sort(E).reverse()}return x}function hf(e){var h;const{pinned:t,fromKeyboard:i,gos:n,ctrlsService:r,useHeaderRow:s,skipScrollPadding:a}=e;let u=(h=r.getHeaderRowContainerCtrl(t))==null?void 0:h.getViewportElement(),{x:c}=e;return u?(i&&(c-=u.getBoundingClientRect().left),n.get("enableRtl")&&(s&&(u=u.querySelector(".ag-header-row")),c=u.clientWidth-c),t==null&&!a&&(c+=r.get("center").getCenterViewportScrollLeft()),c):0}function Va(e,t){for(const i of e)i.setMoving(t,"uiColumnMoved")}var HD=7,rw=100,Dh=rw/2,OU=5,LU=100,IU=class extends ie{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!pe(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){var t;const e=((t=this.lastDraggingEvent)==null?void 0:t.dragItem.columns)??[];for(const i of e){const n=i.getPinned();if(i.getColDef().lockPinned){if(n==this.pinned)return"move";continue}if(n===this.pinned||!this.pinned)return"move";if(!n&&this.pinned)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const n=e.dragItem.visibleState,r=(t||[]).filter(s=>n[s.getId()]);this.setColumnsVisible(r,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(t,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,n=!1){const r=this.gos.get("suppressMoveWhenColumnDragging");if(n&&!r){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!n&&je(e.hDirection))return;const{pinned:s,gos:a,ctrlsService:u}=this,c=hf({x:e.x,pinned:s,gos:a,ctrlsService:u});t||this.checkCenterForScrolling(c),r?this.handleColumnDragWhileSuppressingMovement(e,t,i,c,n):this.handleColumnDragWhileAllowingMovement(e,t,i,c,n)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(!e)return;const n=e.filter(r=>!r.getColDef().lockVisible);this.columnModel.setColsVisible(n,t,i)}finishColumnMoving(){if(this.clearHighlighted(),!this.lastMovedInfo)return;const{columns:e,toIndex:t}=this.lastMovedInfo;this.columnMoveService.moveColumns(e,t,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,i,n,r){const s=this.getAllMovingColumns(e,!0);if(r){const a=this.isAttemptingToPin(s);a&&this.attemptToPinColumns(s,void 0,!0);const{fromLeft:u,xPosition:c}=this.getNormalisedXPositionInfo(s,a)||{};if(u==null||c==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:s,xPosition:c,fromEnter:t,fakeEvent:i,fromLeft:u})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(s,n)}}handleColumnDragWhileAllowingMovement(e,t,i,n,r){const s=this.getAllMovingColumns(e),a=this.normaliseDirection(e.hDirection)===1,u=e.dragSource.type===1,c=this.getMoveColumnParams({allMovingColumns:s,isFromHeader:u,xPosition:n,fromLeft:a,fromEnter:t,fakeEvent:i}),h=r0({...c,finished:r});h&&(this.lastMovedInfo=h)}getAllMovingColumns(e,t=!1){const i=e.dragSource.getDragItem();let n=null;t?(n=i.columnsInSplit,n||(n=i.columns)):n=i.columns;const r=s=>s.getColDef().lockPinned?s.getPinned()==this.pinned:!0;return n?n.filter(r):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:i,xPosition:n,fromLeft:r,fromEnter:s,fakeEvent:a}=e,{pinned:u,gos:c,columnModel:h,columnMoveService:p,visibleColsService:g}=this;return{allMovingColumns:t,isFromHeader:i,fromLeft:r,xPosition:n,pinned:u,fromEnter:s,fakeEvent:a,gos:c,columnModel:h,columnMoveService:p,visibleColsService:g}}findFirstAndLastMovingColumns(e){const t=e.length;let i,n;for(let r=0;r<=t;r++){if(!i){const s=e[r];s.getLeft()!=null&&(i=s)}if(!n){const s=e[t-1-r];s.getLeft()!=null&&(n=s)}if(i&&n)break}return{firstMovingCol:i,lastMovingCol:n}}highlightHoveredColumn(e,t){var p;const{gos:i,columnModel:n}=this,r=i.get("enableRtl"),s=n.getCols().filter(g=>g.isVisible()&&g.getPinned()===this.pinned);let a=null,u=null,c=null;for(const g of s){if(u=g.getActualWidth(),a=this.getNormalisedColumnLeft(g,0,r),a!=null){const m=a+u;if(a<=t&&m>=t){c=g;break}}a=null,u=null}if(c)e.indexOf(c)!==-1&&(c=null);else{for(let g=s.length-1;g>=0;g--){const m=s[g],y=s[g].getParent();if(!y){c=m;break}const b=y==null?void 0:y.getDisplayedLeafColumns();if(b.length){c=Ve(b);break}}if(!c)return;a=this.getNormalisedColumnLeft(c,0,r),u=c.getActualWidth()}if(((p=this.lastHighlightedColumn)==null?void 0:p.column)!==c&&this.clearHighlighted(),c==null||a==null||u==null)return;let h;t-a<u/2!==r?h=0:h=1,c.setHighlighted(h),this.lastHighlightedColumn={column:c,position:h}}getNormalisedXPositionInfo(e,t){const{gos:i,visibleColsService:n}=this,r=i.get("enableRtl"),{firstMovingCol:s,column:a,position:u}=this.getColumnMoveAndTargetInfo(e,t,r);if(!s||!a||u==null)return;const c=n.getAllCols(),h=c.indexOf(s),p=c.indexOf(a),g=u===0!==r,m=h<p||h===p&&!g;let y=0;if(g?m&&(y-=1):m||(y+=1),p+y===h)return;const b=c[p+y];if(!b)return;const w=this.getNormalisedColumnLeft(b,20,r);return{fromLeft:m,xPosition:w}}getColumnMoveAndTargetInfo(e,t,i){const n=this.lastHighlightedColumn||{},{firstMovingCol:r,lastMovingCol:s}=this.findFirstAndLastMovingColumns(e);if(!r||!s||n.column||!t)return{firstMovingCol:r,...n};const u=this.getPinDirection()==="left";return{firstMovingCol:r,position:u?1:0,column:u!==i?r:s}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0}return e}getNormalisedColumnLeft(e,t,i){const{gos:n,ctrlsService:r}=this,s=e.getLeft();if(s==null)return null;const a=e.getActualWidth();return hf({x:i?s+a-t:s+t,pinned:e.getPinned(),useHeaderRow:i,skipScrollPadding:!0,gos:n,ctrlsService:r})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,i=this.failedMoveAttempts>HD;return t&&i||e.some(n=>n.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:i,fromEnter:n,fakeEvent:r,fromLeft:s}=e,a=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:i,fromLeft:s,fromEnter:n,fakeEvent:r}),{columns:u,toIndex:c}=u_(a)||{};u&&c!=null&&(this.lastMovedInfo={columns:u,toIndex:c}),this.finishColumnMoving()}clearHighlighted(){this.lastHighlightedColumn&&(this.lastHighlightedColumn.column.setHighlighted(null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.ctrlsService.get("center"),i=t.getCenterViewportScrollLeft(),n=i+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<i+Dh,this.needToMoveLeft=e>n-Dh):(this.needToMoveLeft=e<i+Dh,this.needToMoveRight=e>n-Dh),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),LU),(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName()))}moveInterval(){var n,r;let e;this.intervalCount++,e=10+this.intervalCount*OU,e>rw&&(e=rw);let t=null;const i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{if(this.failedMoveAttempts++,this.failedMoveAttempts<=HD+1)return;if((n=this.dragAndDropService.getDragAndDropImageComponent())==null||n.setIcon("pinned"),!this.gos.get("suppressMoveWhenColumnDragging")){const s=(r=this.lastDraggingEvent)==null?void 0:r.dragItem.columns;this.attemptToPinColumns(s,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,i=!1){const n=(e||[]).filter(r=>!r.getColDef().lockPinned);return n.length?(i&&(t=this.getPinDirection()),this.columnModel.setColsPinned(n,t,"uiColumnDragged"),i&&this.dragAndDropService.nudge(),n.length):0}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}},NU=class extends ie{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(this,e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]];break}}),this.moveColumnFeature=this.createManagedBean(new IU(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new PU(this.pinned)),this.dragAndDropService.addDropTarget(this),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},_U=class extends ie{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,n,r){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=n,this.ctrl=r}postConstruct(){const e=[];let t,i;const n=()=>{if(bt(this.eResize,t),!t)return;const a=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(a),i){const u=this.gos.get("skipHeaderOnAutoSize"),c=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",u)};this.eResize.addEventListener("dblclick",c);const h=new ws(this.eResize);h.addEventListener("doubleTap",c),e.push(()=>{this.eResize.removeEventListener("dblclick",c),h.removeEventListener("doubleTap",c),h.destroy()})}},r=()=>{e.forEach(a=>a()),e.length=0},s=()=>{const a=this.column.isResizable(),u=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(a!==t||u!==i)&&(t=a,i=u,r(),n())};s(),this.addDestroyFunc(r),this.ctrl.setRefreshFunction("resize",s)}onResizing(e,t){const{column:i,lastResizeAmount:n,resizeStartWidth:r}=this,s=this.normaliseResizeAmount(t),a=r+s,u=[{key:i,newWidth:a}];if(this.column.getPinned()){const c=this.pinnedWidthService.getPinnedLeftWidth(),h=this.pinnedWidthService.getPinnedRightWidth(),p=td(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(c+h+(s-n)>p)return}this.lastResizeAmount=s,this.columnSizeService.setColumnWidths(u,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const i=this.pinned!=="left",n=this.pinned==="right";return this.gos.get("enableRtl")?i&&(t*=-1):n&&(t*=-1),t}},kU=class extends ie{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(wt(this.gos))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new $x),this.cbSelectAll.addCssClass("ag-header-select-all"),Nn(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),n=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${n} (${i})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(e("ariaHeaderSelection","Column with Header Selection")),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return eN(this.gos)?!0:(ue(`${e} is only available if using 'multiRow' selection mode.`),!1)}checkRightRowModelType(e){return vt(this.gos)||er(this.gos)?!0:(ue(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),i=this.isCurrentPageOnly();let n="uiSelectAll";i?n="uiSelectAllCurrentPage":t&&(n="uiSelectAllFiltered");const r={source:n,justFiltered:t,justCurrentPage:i};e?this.selectionService.selectAllRowNodes(r):this.selectionService.deselectAllRowNodes(r)}isCheckboxSelection(){const e=this.gos.get("rowSelection"),t=typeof e=="object"&&tf(e)&&qa(this.column),i=this.column.getColDef().headerCheckboxSelection;let n=!1;return t?n=!0:typeof i=="function"?n=i(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})):n=!!i,n&&this.checkRightRowModelType(t?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(t?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="filtered":!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="currentPage":!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},GU=class extends Cp{constructor(e,t,i){super(e,t,i),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,i,n,r){this.comp=e,r=Jc(this,this.beans.context,r),this.setGui(t,r),this.updateState(),this.setupWidth(r),this.setupMovingCss(r),this.setupMenuClass(r),this.setupSortableClass(r),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:n,checkMeasuringCallback:a=>this.setRefreshFunction("measuring",a),compBean:r}),this.addColumnHoverListener(r),this.setupFilterClass(r),this.setupClassesFromColDef(),this.setupTooltip(r),this.addActiveHeaderMouseListeners(r),this.setupSelectAll(r),this.setupUserComp(r),this.refreshAria(),this.resizeFeature=r.createManagedBean(new _U(this.getPinned(),this.column,i,e,this)),r.createManagedBean(new e0([this.column],t)),r.createManagedBean(new Jx(this.column,t,this.beans)),r.createManagedBean(new _o(t,{shouldStopEventPropagation:a=>this.shouldStopEventPropagation(a),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(r),r.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh(r)),r.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(r)}),r.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const s=()=>this.checkDisplayName(r);r.addManagedEventListeners({columnValueChanged:s,columnRowGroupChanged:s,columnPivotChanged:s,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),r.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){if(!this.column.isResizable())return;const i=this.column.getActualWidth(),n=this.column.getMinWidth(),r=this.column.getMaxWidth(),s=Math.min(Math.max(i+e,n),r);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:s}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,beans:i,column:n,ctrlsService:r}=this,{gos:s,columnModel:a,columnMoveService:u,visibleColsService:c}=i,h=this.getPinned(),p=t.getBoundingClientRect().left,g=n.getActualWidth(),m=s.get("enableRtl"),b=hf({x:e===0!==m?p-20:p+g+20,pinned:h,fromKeyboard:!0,gos:s,ctrlsService:r}),w=this.focusService.getFocusedHeader();r0({allMovingColumns:[n],isFromHeader:!0,fromLeft:e===1,xPosition:b,pinned:h,fromEnter:!1,fakeEvent:!1,gos:s,columnModel:a,columnMoveService:u,visibleColsService:c,finished:!0}),r.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(n,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&w&&this.restoreFocus(w)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:{...e,column:this.column}})}setupUserComp(e){const t=this.lookupUserCompDetails(e);this.setCompDetails(t)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(e){const t=this.createParams(e),i=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(i,t)}createParams(e){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:i=>{this.menuService.showColumnMenu({column:this.column,buttonElement:i,positionBy:"button"})},showColumnMenuAfterMouseClick:i=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:i,positionBy:"mouse"})},showFilter:i=>{this.menuService.showFilterMenu({column:this.column,buttonElement:i,containerType:"columnFilter",positionBy:"button"})},progressSort:i=>{this.beans.sortController.progressSort(this.column,!!i,"uiColumnSorted")},setSort:(i,n)=>{this.beans.sortController.setSortForColumn(this.column,i,!!n,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(i,n)=>{this.setupTooltip(e,i,n)}})}setupSelectAll(e){this.selectAllFeature=e.createManagedBean(new kU(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===ee.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===ee.ENTER&&this.onEnterKeyDown(e),e.key===ee.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){const i=this.comp.getUserCompInstance();!i||!(i instanceof Jb)||i.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const n=this.gos.get("tooltipShowMode")==="whenTruncated",r=this.eGui,s=this.column.getColDef();!i&&n&&!s.headerComponent&&(i=()=>{const c=r.querySelector(".ag-header-cell-text");return c?c.scrollWidth>c.clientWidth:!0});const a={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>r,getLocation:()=>"header",getTooltipValue:()=>t??this.column.getColDef().headerTooltip,shouldDisplayTooltip:i},u=e.createManagedBean(new El(a));this.setRefreshFunction("tooltip",()=>u.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),i=e_(t,this.gos,this.column,null),n=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(r=>{n.has(r)?n.delete(r):this.comp.addOrRemoveCssClass(r,!0)}),n.forEach(r=>this.comp.addOrRemoveCssClass(r,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:i,displayName:n,dragAndDropService:r,gos:s}=this,{columnModel:a}=i;let u=!this.gos.get("suppressDragLeaveHidesColumns");const c=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>u?"hide":"notAllowed",getDragItem:()=>this.createDragItem(t),dragItemName:n,onDragStarted:()=>{u=!s.get("suppressDragLeaveHidesColumns"),Va([t],!0)},onDragStopped:()=>Va([t],!1),onDragCancelled:()=>Va([t],!1),onGridEnter:h=>{var p;if(u){const g=((p=h==null?void 0:h.columns)==null?void 0:p.filter(m=>!m.getColDef().lockVisible))||[];a.setColsVisible(g,!0,"uiColumnMoved")}},onGridExit:h=>{var p;if(u){const g=((p=h==null?void 0:h.columns)==null?void 0:p.filter(m=>!m.getColDef().lockVisible))||[];a.setColsVisible(g,!1,"uiColumnMoved")}}};r.addDragSource(c,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(e){this.updateState(),this.refreshHeaderComp(e),this.refreshAria(),Object.values(this.refreshFunctions).forEach(t=>t())}refreshHeaderComp(e){const t=this.lookupUserCompDetails(e);(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==t.componentClass?this.attemptHeaderCompRefresh(t.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(e){this.displayName!==this.calculateDisplayName()&&this.refresh(e)}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const i=this.column.getActualWidth();this.comp.setWidth(`${i}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const i=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",i),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,i=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",i)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:i,beans:n}=this,r=this.beans.columnModel.getGroupRowsHeight(),s=r.reduce((g,m)=>g+=m,0)===0;if(i.addOrRemoveCssClass("ag-header-parent-hidden",s),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),i.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:a,isSpanningTotal:u}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",a>0);const{columnModel:c}=n,h=c.getColumnHeaderRowHeight();if(a===0){i.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${h}px`);return}i.addOrRemoveCssClass("ag-header-span-total",u);let p=0;for(let g=0;g<a;g++)p+=r[r.length-1-g];e.style.setProperty("top",`${-p}px`),e.style.setProperty("height",`${h+p}px`)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Yz(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(wt(this.beans.gos)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,i)=>t==="filter"?-1:i.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const i=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:t}),t()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),n=r=>this.handleContextMenuMouseEvent(r,void 0,this.column);e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:i,contextmenu:n})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof Jb?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy()}},BU=class extends ie{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,i,n){super(),this.eResize=t,this.comp=e,this.pinned=i,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const t=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const i=[];this.columnGroup.getDisplayedLeafColumns().forEach(r=>{r.getColDef().suppressAutoSize||i.push(r.getColId())}),i.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:i,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t,i="uiColumnResized"){const n=this.normaliseDragChange(t),r=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(r,i,e)}getInitialValues(e){const t=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(t),n=this.getSizeRatiosOfColumns(t,i),r={columnsToResize:t,resizeStartWidth:i,resizeRatios:n};let s=null;if(e&&(s=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),s){const a=s.getDisplayedLeafColumns(),u=r.groupAfterColumns=a.filter(h=>h.isResizable()),c=r.groupAfterStartWidth=this.getInitialSizeOfColumns(u);r.groupAfterRatios=this.getSizeRatiosOfColumns(u,c)}else r.groupAfterColumns=void 0,r.groupAfterStartWidth=void 0,r.groupAfterRatios=void 0;return r}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:i,resizeRatios:n,groupAfterColumns:r,groupAfterStartWidth:s,groupAfterRatios:a}=e;this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=n,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=a}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t,i=!0){if(!this.resizeCols||!this.resizeRatios)return;const n={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(n,e,t,i)}resizeColumns(e,t,i,n=!0){const{columnsToResize:r,resizeStartWidth:s,resizeRatios:a,groupAfterColumns:u,groupAfterStartWidth:c,groupAfterRatios:h}=e,p=[];if(p.push({columns:r,ratios:a,width:t}),u){const g=t-s;p.push({columns:u,ratios:h,width:c-g})}this.columnSizeService.resizeColumnSets({resizeSets:p,finished:n,source:i}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}getInitialSizeOfColumns(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}getSizeRatiosOfColumns(e,t){return e.map(i=>i.getActualWidth()/t)}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}},HU=class extends ie{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},VU=class extends Cp{constructor(e,t,i){super(e,t,i),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const n=this.getGui();this.setDragSource(n)}},this.column=e}setComp(e,t,i,n,r){this.comp=e,r=Jc(this,this.beans.context,r),this.setGui(t,r),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(r),this.setupExpandable(r),this.setupTooltip(r),this.setupAutoHeight({wrapperElement:n,compBean:r}),this.setupUserComp(r),this.addHeaderMouseListeners(r),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const s=this.getParentRowCtrl().getPinned(),a=this.column.getProvidedColumnGroup().getLeafColumns();r.createManagedBean(new e0(a,t)),r.createManagedBean(new Jx(this.column,t,this.beans)),r.createManagedBean(new HU(e,this.column)),this.resizeFeature=r.createManagedBean(new BU(e,i,s,this.column)),r.createManagedBean(new _o(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(r,a),r.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(r),r.addDestroyFunc(()=>this.clearComponent())}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,i=e.get("groupHeaderHeight");i!=null?i===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(i):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const i of t)e.addManagedListeners(i,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,i)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),i=t[0]===e,n=Ve(t)===e;if(!i&&!n)return;const r=e.getHighlighted(),s=!!this.getParentRowCtrl().findHeaderCellCtrl(c=>c.getColumnGroupChild().isMoving());let a=!1,u=!1;if(s){const c=this.beans.gos.get("enableRtl"),h=r===1,p=r===0;i&&(c?u=h:a=p),n&&(c?a=p:u=h)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",a),this.comp.addOrRemoveCssClass("ag-header-highlight-after",u)}getColumn(){return this.column}resizeHeader(e,t){if(!this.resizeFeature)return;const i=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:i,column:n,ctrlsService:r}=this,{gos:s,columnModel:a,columnMoveService:u,visibleColsService:c}=t,h=s.get("enableRtl"),p=e===0,g=this.getPinned(),m=i.getBoundingClientRect(),y=m.left,b=m.width,w=hf({x:p!==h?y-20:y+b+20,pinned:g,fromKeyboard:!0,gos:s,ctrlsService:r}),S=n.getGroupId(),x=this.focusService.getFocusedHeader();r0({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,fromLeft:e===1,xPosition:w,pinned:g,fromEnter:!1,fakeEvent:!1,gos:s,columnModel:a,columnMoveService:u,visibleColsService:c,finished:!0});const E=n.getDisplayedLeafColumns(),R=p?E[0]:Ve(E);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(R,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&x&&this.restoreFocus(S,n,x)}restoreFocus(e,t,i){const n=t.getLeafColumns();if(!n.length)return;const r=n[0].getParent();if(!r)return;const s=this.findGroupWidthId(r,e);s&&this.focusService.focusHeaderPosition({headerPosition:{...i,column:s}})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(e){const t=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:n=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),n,"gridInitializing")},setTooltip:(n,r)=>{this.setupTooltip(e,n,r)}}),i=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(i)}addHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),n=r=>this.handleContextMenuMouseEvent(r,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:i,contextmenu:n})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const n=this.column.getColGroupDef(),r=this.gos.get("tooltipShowMode")==="whenTruncated",s=this.eGui;!i&&r&&!(n!=null&&n.headerGroupComponent)&&(i=()=>{const u=s.querySelector(".ag-header-group-text");return u?u.scrollWidth>u.clientWidth:!0});const a={getColumn:()=>this.column,getGui:()=>s,getLocation:()=>"headerGroup",getTooltipValue:()=>t??(n&&n.headerTooltip),shouldDisplayTooltip:i};n&&(a.getColDef=()=>n),e.createManagedBean(new El(a))}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const i=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:i,expandableChanged:i})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=e_(e,this.gos,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(n=>n.isSpanHeaderHeight())&&t.push("ag-header-span-height")):(t.push("ag-header-group-cell-with-group"),e!=null&&e.wrapHeaderText&&t.push("ag-header-cell-wrap-text")),t.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(e){const i=this.column.getProvidedColumnGroup().getLeafColumns(),n=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());i.forEach(r=>{e.addManagedListeners(r,{movingChanged:n})}),n()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===ee.ENTER){const i=this.column,n=!i.isExpanded();this.beans.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),n,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:t,column:i,displayName:n,gos:r,dragAndDropService:s}=this,{columnModel:a}=t,u=i.getProvidedColumnGroup().getLeafColumns();let c=!r.get("suppressDragLeaveHidesColumns");const h=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>c?"hide":"notAllowed",dragItemName:n,getDragItem:()=>this.getDragItemForGroup(i),onDragStarted:()=>{c=!r.get("suppressDragLeaveHidesColumns"),Va(u,!0)},onDragStopped:()=>Va(u,!1),onDragCancelled:()=>Va(u,!1),onGridEnter:p=>{if(c){const{columns:g=[],visibleState:m}=p??{},y=g.filter(b=>!b.getColDef().lockVisible&&(!m||m[b.getColId()]));a.setColsVisible(y,!0,"uiColumnMoved")}},onGridExit:p=>{var g;if(c){const m=((g=p==null?void 0:p.columns)==null?void 0:g.filter(y=>!y.getColDef().lockVisible))||[];a.setColsVisible(m,!1,"uiColumnMoved")}}};s.addDragSource(h,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),i={};t.forEach(a=>i[a.getId()]=a.isVisible());const n=[];this.beans.visibleColsService.getAllCols().forEach(a=>{t.indexOf(a)>=0&&(n.push(a),Ci(t,a))}),t.forEach(a=>n.push(a));const r=[],s=e.getLeafColumns();for(const a of n)s.indexOf(a)!==-1&&r.push(a);return{columns:n,columnsInSplit:r,visibleState:i}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(i=>{(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}destroy(){super.destroy()}},jU=0,Iv=class extends ie{constructor(e,t,i){super(),this.instanceId=jU++,this.rowIndex=e,this.pinned=t,this.type=i;const n=i=="group"?"ag-header-row-column-group":i=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${n}`}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=ri(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.getGui()!=null):!1}setComp(e,t,i=!0){this.comp=e,t=Jc(this,this.beans.context,t),i&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return qh(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=ri(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleColsService:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans,i=[],n=e.getGroupRowsHeight(),r=e.getColumnHeaderRowHeight();i.push(...n),i.push(r),t!=null&&t.hasFloatingFilters()&&i.push(e.getFloatingFiltersHeight());let s=0;for(let u=0;u<this.rowIndex;u++)s+=i[u];const a=i[this.rowIndex];return{topOffset:s,rowHeight:a}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,i,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const n of t)this.recycleAndCreateHeaderCtrls(n,e);const i=n=>{const{focusService:r,visibleColsService:s}=this.beans;return r.isHeaderWrapperFocused(n)?s.isVisible(n.getColumnGroupChild()):!1};if(e)for(const[n,r]of e)i(r)?this.headerCellCtrls.set(n,r):this.destroyBean(r);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var e;return Array.from(((e=this.headerCellCtrls)==null?void 0:e.values())??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const i=e.getUniqueId();let n;if(t&&(n=t.get(i),t.delete(i)),n&&n.getColumnGroupChild()!=e&&(this.destroyBean(n),n=void 0),n==null)switch(this.type){case"filter":{n=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break}case"group":n=this.createBean(new VU(e,this.beans,this));break;default:n=this.createBean(new GU(e,this.beans,this));break}this.headerCellCtrls.set(i,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{columnViewportService:i}=this.beans;return["left",null,"right"].forEach(n=>{const r=i.getHeadersToRender(n,t);e=e.concat(r)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;const t=this.getHeaderCellCtrls();let i;return typeof e=="function"?i=t.find(e):i=t.find(n=>n.getColumnGroupChild()==e),i}focusHeader(e,t){const i=this.findHeaderCellCtrl(e);return i?i.focus(t):!1}destroy(){var e;(e=this.headerCellCtrls)==null||e.forEach(t=>{this.destroyBean(t)}),this.headerCellCtrls=void 0,super.destroy()}},zU=class extends ie{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const i=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:i,advancedFilterEnabledChanged:i});const n=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;this.ctrlsService.register(n,this),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const t=new Ya,i=this.focusService.getFocusHeaderToUseAfterRefresh(),n=()=>{const u=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let c=0;c<u;c++){const h=this.createBean(new Iv(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(h)}},r=()=>{const u=t.next(),c=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==u);(c||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),c&&(this.columnsRowCtrl=this.createBean(new Iv(u,this.pinned,"column")))},s=()=>{var h;this.includeFloatingFilter=!!((h=this.filterManager)!=null&&h.hasFloatingFilters())&&!this.hidden;const u=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){u();return}const c=t.next();if(this.filtersRowCtrl){const p=this.filtersRowCtrl.getRowIndex()!==c;(!e||p)&&u()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new Iv(c,this.pinned,"filter")))};n(),r(),s();const a=this.getAllCtrls();this.comp.setCtrls(a),this.restoreFocusOnHeader(i)}getHeaderCtrlForColumn(e){var t;if(Es(e))return(t=this.columnsRowCtrl)==null?void 0:t.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let i=0;i<this.groupsRowCtrls.length;i++){const n=this.groupsRowCtrls[i].getHeaderCellCtrl(e);if(n)return n}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const i=this.getAllCtrls()[e];return i?i.getType():void 0}focusHeader(e,t,i){const r=this.getAllCtrls()[e];return r?r.focusHeader(t,i):!1}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){const t=new NU(this.pinned,e);this.createManagedBean(t)}restoreFocusOnHeader(e){if(!e)return;const{column:t}=e;t.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){var t;const e=((t=this.filterManager)==null?void 0:t.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new n0(e=>this.comp.setCenterWidth(`${e}px`),!0))}setupPinnedWidth(){if(this.pinned==null)return;const e=this.pinned==="left",t=this.pinned==="right";this.hidden=!0;const i=()=>{const n=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(n==null)return;const r=n==0,s=this.hidden!==r,a=this.gos.get("enableRtl"),u=this.scrollVisibleService.getScrollbarWidth(),h=this.scrollVisibleService.isVerticalScrollShowing()&&(a&&e||!a&&t)?n+u:n;this.comp.setPinnedContainerWidth(`${h}px`),this.comp.setDisplayed(!r),s&&(this.hidden=r,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}},s0=class extends ie{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},i=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(i,t)}getDomLayout(){const e=this.gos.get("domLayout")??"normal";return["normal","print","autoHeight"].indexOf(e)===-1?(ue(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},WU=class extends ht{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=xe,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==ee.TAB||e.defaultPrevented||Pr(e)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let i=!1;e.shiftKey?i=this.focusService.focusGridView(Ve(this.visibleColsService.getAllCols()),!0,!1):i=this.focusService.focusNextGridCoreContainer(!1),i&&e.preventDefault()}updateLayoutClasses(e,t){const i=this.eOverlayWrapper.classList;i.toggle("ag-layout-auto-height",t.autoHeight),i.toggle("ag-layout-normal",t.normal),i.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new s0(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,i,n){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),i&&this.focusService.isGridFocused()){const r=wt(this.gos);r&&!YI(this.gos)&&(this.elToFocusAfter=r)}e.then(r=>{if(this.activePromise!==e){this.activeOverlay!==r&&(this.destroyBean(r),r=null);return}if(this.activePromise=null,!r)return;if(this.activeOverlay!==r&&(this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,n)){const a=r;this.updateListenerDestroyFunc=this.addManagedPropertyListener(n,({currentValue:u})=>{var c;(c=a.refresh)==null||c.call(a,this.gos.addGridCommonParams({...u??{}}))})}const s=this.focusService;i&&s.isGridFocused()&&s.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var n;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.focusService.isGridFocused()&&(t=null);const i=this.updateListenerDestroyFunc;i&&(i(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Xi(this.eOverlayWrapper),(n=t==null?void 0:t.focus)==null||n.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.overlayService.setOverlayWrapperComp(void 0),super.destroy()}},c_=class extends ht{constructor(e,t){super(),this.direction=t,this.eViewport=xe,this.eContainer=xe,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",xN()||Ps())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=EN(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),i=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:i,touchend:i})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(e){const t=this.getViewportElement();sz(()=>Qn(t),()=>this.setScrollPosition(e),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},UU=class extends c_{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=xe,this.eRightSpacer=xe}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new n0(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.visibleColsService.getDisplayedColumnsRightWidth();const i=!this.enableRtl&&e,n=this.scrollVisibleService.getScrollbarWidth();i&&(t+=n),In(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let r=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(r+=n),In(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=n)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),n=e&&this.scrollVisibleService.getScrollbarWidth()||0,s=i?0:n===0&&t?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Zu(this.getGui(),s),Zu(this.eViewport,s),Zu(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return lf(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){Qn(this.getViewportElement())||this.attemptSettingScrollPosition(e),uf(this.getViewportElement(),e,this.enableRtl)}},d_=class extends ie{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=e!=null?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}},$U=class extends c_{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new d_(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,i=e&&this.scrollVisibleService.getScrollbarWidth()||0,n=i===0&&t?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),In(this.getGui(),n),In(this.eViewport,n),In(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,i=e.getGridBodyCtrl().getBodyViewportElement(),n=this.getScrollPosition(),r=i.scrollTop;n!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,t){!t&&!Qn(this.getViewportElement())&&this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}},sw=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(sw||{}),qU=class extends ie{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=yi(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=yi(()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const e of Object.values(sw)){const t=this.ctrlsService.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsService.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),i=t?yi(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),n=t?yi(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:i}),this.registerScrollPartner(e,n)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...Object.values(sw),"Viewport"]){if(this.lastScrollSource[1]===t)continue;const i=this.getViewportForSource(t);uf(i,e,this.enableRtl)}}getViewportForSource(e){return e==="Viewport"?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(1,i,!0))return;const n=lf(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(n),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;e==="Viewport"?t=this.eBodyViewport.scrollTop:t=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e==="Viewport"?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent({...t,type:"bodyScrollEnd"})},100)}shouldBlockScrollUpdate(e,t,i=!1){return i&&!Ps()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=Vx(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const n=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:n:e=Math.min(Math.max(e,0),n)),uf(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const i=this.rowModel.getRowCount();let n=-1;for(let r=0;r<i;r++){const s=this.rowModel.getRow(r);if(typeof e=="function"){if(s&&e(s)){n=r;break}}else if(e===s||e===s.data){n=r;break}}n>=0&&this.ensureIndexVisible(n,t)}ensureIndexVisible(e,t){if(ri(this.gos,"print"))return;const i=this.rowModel.getRowCount();if(typeof e!="number"||e<0||e>=i){ue("Invalid row index for ensureIndexVisible: "+e);return}const r=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{var p;r||(p=this.paginationService)==null||p.goToPageWithIndex(e);const s=this.ctrlsService.getGridBodyCtrl(),a=s.getStickyTopHeight(),u=s.getStickyBottomHeight(),c=this.rowModel.getRow(e);let h;do{const g=c.rowTop,m=c.rowHeight,y=this.pageBoundsService.getPixelOffset(),b=c.rowTop-y,w=b+c.rowHeight,S=this.getVScrollPosition(),x=this.heightScaler.getDivStretchOffset(),E=S.top+x,R=S.bottom+x,T=R-E,A=this.heightScaler.getScrollPositionForPixel(b),P=this.heightScaler.getScrollPositionForPixel(w-T),F=Math.min((A+P)/2,b),I=E+a>b,k=R-u<w;let W=null;t==="top"?W=A:t==="bottom"?W=P:t==="middle"?W=F:I?W=A-a:k&&(W=P+u),W!==null&&(this.setVerticalScrollPosition(W),this.rowRenderer.redraw({afterScroll:!0})),h=g!==c.rowTop||m!==c.rowHeight}while(h);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const i=this.columnModel.getCol(e);if(!i||i.isPinned()||!this.visibleColsService.isColDisplayed(i))return;const n=this.getPositionedHorizontalScroll(i,t);this.getFrameworkOverrides().wrapIncoming(()=>{n!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(n),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:i,columnAfterEnd:n}=this.isColumnOutsideViewport(e),r=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),a=this.enableRtl;let u=(a?i:n)||r,c=a?n:i;t!=="auto"&&(u=t==="start",c=t==="end");const h=t==="middle";if(u||c||h){const{colLeft:p,colMiddle:g,colRight:m}=this.getColumnBounds(e);return h?g-s/2:u?a?m:p:a?p-s:m-s}return null}isColumnOutsideViewport(e){const{start:t,end:i}=this.getViewportBounds(),{colLeft:n,colRight:r}=this.getColumnBounds(e),s=this.enableRtl,a=s?t>r:i<r,u=s?i<n:t>n;return{columnBeforeStart:a,columnAfterEnd:u}}getColumnBounds(e){const t=this.enableRtl,i=this.visibleColsService.getBodyContainerWidth(),n=e.getActualWidth(),r=e.getLeft(),s=t?-1:1,a=t?i-r:r,u=a+n*s,c=a+n/2*s;return{colLeft:a,colMiddle:c,colRight:u}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),i=t,n=e+t;return{start:i,end:n,width:e}}},KU=class extends ie{wireBeans(e){this.animationFrameService=e.animationFrameService,this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>{this.animationFrameService.requestAnimationFrame(()=>{this.onCenterViewportResized()})};this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleService.onCentreViewportResized(),this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=td(e);if(t<=50)return;let i=this.getPinnedColumnsOverflowingViewport(t-50);const n=this.gos.getCallback("processUnpinnedColumns");i.length&&(n&&(i=n({columns:i,viewportWidth:t})),this.columnModel.setColsPinned(i,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const t=this.pinnedWidthService.getPinnedRightWidth(),i=this.pinnedWidthService.getPinnedLeftWidth(),n=t+i;if(n<e)return[];const r=[...this.visibleColsService.getLeftCols()],s=[...this.visibleColsService.getRightCols()];let a=0,u=0;const c=0,h=[];let p=n-c-e;for(;(u<r.length||a<s.length)&&p>0;){if(a<s.length){const g=s[a++];p-=g.getActualWidth(),h.push(g)}if(u<r.length&&p>0){const g=r[u++];p-=g.getActualWidth(),h.push(g)}}return h}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=Vx(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,t)}},YU=class extends ie{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Fr(this.gos)?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),Fr(this.gos)&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},XU=class extends ht{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[qx]),this.eCheckbox=xe}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),i=Bx(e,t),[n,r]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],s=e(n,r);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${s} (${i})`)}onClicked(e,t,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:t,event:i,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:n=>$a(n),click:n=>{$a(n);const r=Nx(this.gos)==="filteredDescendants",s=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(s,r)?this.onClicked(!0,r,n||{})===0&&this.onClicked(!1,r,n):s?this.onClicked(!1,r,n):this.onClicked(!0,r,n||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),Ix(this.gos)||typeof this.getIsVisible()=="function"){const n=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n}),this.addManagedListeners(this.rowNode,{dataChanged:n,cellChanged:n}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&vt(this.gos)}showOrHideSelect(){var r,s,a;let e=this.rowNode.selectable;const t=this.getIsVisible();if(e)if(typeof t=="function"){const u=(r=this.overrides)==null?void 0:r.callbackParams;if(!this.column)e=t({...u,node:this.rowNode,data:this.rowNode.data});else{const c=this.column.createColumnFunctionCallbackParams(this.rowNode);e=t({...u,...c})}}else e=t??!1;const i=this.gos.get("rowSelection");if(i&&typeof i!="string"?!cz(i):(s=this.column)==null?void 0:s.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!e),this.setVisible(!0),this.setDisplayed(!0);return}if((a=this.overrides)!=null&&a.removeHidden){this.setDisplayed(e);return}this.setVisible(e)}getIsVisible(){var t,i;if(this.overrides)return this.overrides.isVisible;const e=this.gos.get("rowSelection");return e&&typeof e!="string"?Ua(e):(i=(t=this.column)==null?void 0:t.getColDef())==null?void 0:i.checkboxSelection}},QU=class extends ht{constructor(e,t,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=i}postConstruct(){this.getGui().appendChild(Ki("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const i=()=>{try{const n=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",n),e.dataTransfer.setData("text/plain",n)}catch{}};if(t){const n=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});t(n)}else i()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},ZU=class extends ie{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,i=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,i,n=>this.cellComp.addOrRemoveCssClass(n,!0),n=>this.cellComp.addOrRemoveCssClass(n,!1)),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if(typeof e.cellStyle=="function"){const i=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),n=e.cellStyle;t=n(i)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!0))}destroy(){super.destroy()}},JU=class extends ie{constructor(e,t,i,n,r){super(),this.cellCtrl=e,this.beans=t,this.rowNode=n,this.rowCtrl=r}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case ee.ENTER:this.onEnterKeyDown(e);break;case ee.F2:this.onF2KeyDown(e);break;case ee.ESCAPE:this.onEscapeKeyDown(e);break;case ee.TAB:this.onTabKeyDown(e);break;case ee.BACKSPACE:case ee.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case ee.DOWN:case ee.UP:case ee.RIGHT:case ee.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:i,beans:n,rowNode:r}=this,{gos:s,rangeService:a,eventService:u}=n;if(!i.isEditing()){if(u.dispatchEvent({type:"keyShortcutChangedCellStart"}),NW(e,s.get("enableCellEditingOnBackspace"))){if(a&&Fr(s))a.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){const c=i.getColumn(),h=this.beans.valueService.getDeleteValue(c,r);r.setDataValue(c,h,"cellClear")}}else i.startRowOrCellEdit(e,t);u.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const t=e.shiftKey?ee.UP:ee.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(ee.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(ee.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const n=e.key;n===" "?this.onSpaceKeyDown(e):this.cellCtrl.startRowOrCellEdit(n,e)&&e.preventDefault()}onSpaceKeyDown(e){const{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&Jh(t)){const i=this.rowNode.isSelected(),n=!i,r=Nx(t)==="filteredDescendants",s=this.rowNode.setSelectedParams({newValue:n,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"});i===void 0&&s===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:r,event:e,source:"spaceKey"})}e.preventDefault()}destroy(){super.destroy()}},e$=class extends ie{constructor(e,t,i){super(),this.cellCtrl=e,this.beans=t,this.column=i}onMouseEvent(e,t){if(!Pr(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}const{eventService:t,rangeService:i,gos:n}=this.beans,r=e.ctrlKey||e.metaKey;i&&r&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);const s=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(s);const a=this.column.getColDef();a.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{a.onCellClicked(s)})},0),(n.get("singleClickEdit")||a.singleClickEdit)&&!n.get("suppressClickEdit")&&!(e.shiftKey&&(i==null?void 0:i.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Ps()||rN("dblclick"))return!1;const e=new Date().getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const{column:t,beans:i,cellCtrl:n}=this,{eventService:r,frameworkOverrides:s,gos:a}=i,u=t.getColDef(),c=n.createEvent(e,"cellDoubleClicked");r.dispatchEvent(c),typeof u.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{u.onCellDoubleClicked(c)})},0),!a.get("singleClickEdit")&&!a.get("suppressClickEdit")&&n.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:i,shiftKey:n}=e,r=e.target,{cellCtrl:s,beans:a}=this,{eventService:u,rangeService:c,focusService:h,gos:p}=a;if(this.isRightClickInExistingRange(e))return;const g=c&&c.getCellRanges().length!=0;if(!n||!g){const y=p.get("enableCellTextSelection")&&e.defaultPrevented,b=(Lr()||y)&&!s.isEditing()&&!Hx(r);s.focusCell(b)}if(n&&g&&!h.isCellFocused(s.getCellPosition())){e.preventDefault();const m=h.getFocusedCell();if(m){const{column:y,rowIndex:b,rowPinned:w}=m,S=a.rowRenderer.getRowByPosition({rowIndex:b,rowPinned:w}),x=S==null?void 0:S.getCellCtrl(y);x!=null&&x.isEditing()&&x.stopEditing(),h.setFocusedCell({column:y,rowIndex:b,rowPinned:w,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(r)){if(c){const m=this.cellCtrl.getCellPosition();if(n)c.extendLatestRangeToCell(m);else{const y=t||i;c.setRangeToCell(m,y)}}u.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const i=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),n=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&n)return!0}return!1}containsWidget(e){return Ha(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),i=t.contains(e.target),n=t.contains(e.relatedTarget);return i&&n}destroy(){super.destroy()}},t$=class extends ie{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();As(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(e===1)t.push(this.column);else{let i=this.column;const n=this.column.getPinned();for(let r=0;i&&r<e&&(t.push(i),i=this.beans.visibleColsService.getColAfter(i),!(!i||je(i)||n!==i.getPinned()));r++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Ve(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;const t=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){const i=this.beans.visibleColsService.getBodyContainerWidth();return t+i+(e||0)}return t+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;const i=vo(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${i}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},Iu="ag-cell-range-selected",i$="ag-cell-range-chart",n$="ag-cell-range-single-cell",r$="ag-cell-range-chart-category",s$="ag-cell-range-handle",o$="ag-cell-range-top",a$="ag-cell-range-right",l$="ag-cell-range-bottom",u$="ag-cell-range-left",c$=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(Iu,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${Iu}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${Iu}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${Iu}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${Iu}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(i$,this.hasChartRange),of(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(n$,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),i=!t&&e.top,n=!t&&e.right,r=!t&&e.bottom,s=!t&&e.left;this.cellComp.addOrRemoveCssClass(o$,i),this.cellComp.addOrRemoveCssClass(a$,n),this.cellComp.addOrRemoveCssClass(l$,r),this.cellComp.addOrRemoveCssClass(u$,s)}isSingleCell(){const{rangeService:e}=this.beans;return this.rangeCount===1&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(i=>yo([1,0],i.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,i=!1,n=!1,r=!1;const s=this.cellCtrl.getCellPosition().column,a=this.beans.visibleColsService;let u,c;e?(u=a.getColAfter(s),c=a.getColBefore(s)):(u=a.getColBefore(s),c=a.getColAfter(s));const h=this.rangeService.getCellRanges().filter(p=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),p));u||(r=!0),c||(i=!0);for(let p=0;p<h.length&&!(t&&i&&n&&r);p++){const g=h[p],m=this.rangeService.getRangeStartRow(g),y=this.rangeService.getRangeEndRow(g);!t&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(t=!0),!n&&this.beans.rowPositionUtils.sameRow(y,this.cellCtrl.getCellPosition())&&(n=!0),!r&&u&&g.columns.indexOf(u)<0&&(r=!0),!i&&c&&g.columns.indexOf(c)<0&&(i=!0)}return{top:t,right:i,bottom:n,left:r}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(s$,!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeService.getCellRanges(),i=t.length;if(this.rangeCount<1||i<1)return!1;const n=Ve(t),r=this.cellCtrl.getCellPosition(),s=ED(e)&&!this.cellCtrl.isSuppressFillHandle(),a=pz(e);let u=i===1&&!this.cellCtrl.isEditing()&&(s||a);if(this.hasChartRange){const h=t[0].type===1&&this.rangeService.isCellInSpecificRange(r,t[0]);this.cellComp.addOrRemoveCssClass(r$,h),u=n.type===0}return u&&n.endRow!=null&&this.rangeService.isContiguousRange(n)&&this.rangeService.isBottomRightCell(n,r)}addSelectionHandle(){const e=Ve(this.rangeService.getCellRanges()).type,i=ED(this.beans.gos)&&je(e)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(i)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},d$="ag-cell",h$="ag-cell-auto-height",f$="ag-cell-normal-height",p$="ag-cell-focus",g$="ag-cell-first-right-pinned",m$="ag-cell-last-left-pinned",v$="ag-cell-not-inline-editing",y$="ag-column-hover",C$="ag-cell-wrap-text",S$=0,h_=class ow extends ie{constructor(t,i,n,r){super(),this.column=t,this.rowNode=i,this.beans=n,this.rowCtrl=r,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=t.getId()+"-"+S$++,this.colIdSanitised=qn(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new t$(this,this.beans),this.cellCustomStyleFeature=new ZU(this,this.beans),this.cellMouseListenerFeature=new e$(this,this.beans,this.column),this.cellKeyboardListenerFeature=new JU(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature(),this.beans.rangeService&&Fr(this.beans.gos)&&(this.cellRangeFeature=new c$(this.beans,this))}removeFeatures(){const t=this.beans.context;this.cellPositionFeature=t.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=t.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=t.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=t.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=t.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(t,i){const n=()=>{const a=this.column.getColDef(),u=this.rowNode.data;if(a.tooltipField&&pe(u))return Qu(u,a.tooltipField,this.column.isTooltipFieldContainsDots());const c=a.tooltipValueGetter;return c?c(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},r=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!i&&r&&!this.isCellRenderer()&&(i=()=>{const a=this.getGui(),u=a.children.length===0?a:a.querySelector(".ag-cell-value");return u?u.scrollWidth>u.clientWidth:!0});const s={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:n,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:i};this.tooltipFeature=new El(s,this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(t,i,n,r,s,a){var u,c,h,p;this.cellComp=t,this.eGui=i,this.printLayout=r,a??(a=this),this.addDomData(a),this.addFeatures(),a.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(n,a),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(u=this.cellPositionFeature)==null||u.setComp(i),(c=this.cellCustomStyleFeature)==null||c.setComp(t),(h=this.tooltipFeature)==null||h.refreshToolTip(),(p=this.cellKeyboardListenerFeature)==null||p.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,i),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(g=>g()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(t,i){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!t)return;const n=t.parentElement,r=Rs(this.beans.gos,this.rowNode).height,s=c=>{if(this.editing||!this.isAlive()||!i.isAlive())return;const{paddingTop:h,paddingBottom:p,borderBottomWidth:g,borderTopWidth:m}=No(n),y=h+p+g+m,w=t.offsetHeight+y;if(c<5){const x=Pt(this.beans.gos),E=!x||!x.contains(t),R=w==0;if(E||R){window.setTimeout(()=>s(c+1),0);return}}const S=Math.max(w,r);this.rowNode.setRowAutoHeight(S,this.column)},a=()=>s(0);a();const u=this.beans.resizeObserverService.observeResize(t,a);i.addDestroyFunc(()=>{u(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const t=this.column.getColDef();return t.cellRenderer!=null||t.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(t=!1){var m;const{beans:i,column:n,rowNode:r,cellRangeFeature:s,cellComp:a}=this,{userComponentFactory:u,animationFrameService:c}=i,h=this.getValueToDisplay();let p;if(r.stub&&((m=r.groupData)==null?void 0:m[this.column.getId()])==null){const y=this.createCellRendererParams();p=u.getLoadingCellRendererDetails(n.getColDef(),y)}else if(this.isCellRenderer()){const y=this.createCellRendererParams();p=u.getCellRendererDetails(n.getColDef(),y)}a.setRenderDetails(p,h,t),c.requestAnimationFrame(()=>s==null?void 0:s.refreshHandle())}setupControlComps(){const t=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(t)),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(t){return this.rowNode.rowPinned!=null?!1:typeof t=="function"||t===!0}isCheckboxSelection(t){const{rowSelection:i}=this.beans.gridOptions;return t.checkboxSelection||qa(this.column)&&i&&typeof i!="string"&&Ua(i)}refreshShouldDestroy(){const t=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(t)),n=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),r=this.includeDndSource!=this.isIncludeControl(t.dndSource),s=this.isAutoHeight!=this.column.isAutoHeight();return i||n||r||s}startEditing(t=null,i=!1,n=null){const{editService:r}=this.beans;return!this.isCellEditable()||this.editing||!r?!0:this.cellComp?r.startEditing(this,t,i,n):(this.onCellCompAttachedFuncs.push(()=>{this.startEditing(t,i,n)}),!0)}setEditing(t,i){this.editCompDetails=i,this.editing!==t&&(this.editing=t)}stopRowOrCellEdit(t=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(t):this.stopEditing(t)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(t=!1){this.onCellEditorAttachedFuncs=[];const{editService:i}=this.beans;return!this.editing||!i?!1:i.stopEditing(this,t)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:i=>this.beans.valueService.setValue(this.rowNode,this.column,i),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(i,n,r,s)=>this.registerRowDragger(i,n,s),setTooltip:(i,n)=>{var r;this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(i,n),(r=this.tooltipFeature)==null||r.refreshToolTip()}})}setFocusOutOnEditor(){var t;this.editing&&((t=this.beans.editService)==null||t.setFocusOutOnEditor(this))}setFocusInOnEditor(){var t;this.editing&&((t=this.beans.editService)==null||t.setFocusInOnEditor(this))}onCellChanged(t){t.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(t){var i;this.refreshShouldDestroy()?(i=this.rowCtrl)==null||i.recreateCell(this):this.refreshCell(t)}refreshCell(t){var p,g,m,y,b;if(this.suppressRefreshCell||this.editing)return;const i=this.column.getColDef(),n=t!=null&&!!t.newData,r=t!=null&&!!t.suppressFlash||!!i.suppressCellFlash,s=i.field==null&&i.valueGetter==null&&i.showRowGroup==null,a=t&&t.forceRefresh||s||n,u=!!this.cellComp,c=this.updateAndFormatValue(u),h=a||c;if(u){if(h){this.showValue(n);const w=(p=this.beans.filterManager)==null?void 0:p.isSuppressFlashingCellsBecauseFiltering();!r&&!w&&(this.beans.gos.get("enableCellChangeFlash")||i.enableCellChangeFlash)&&this.flashCell(),(g=this.cellCustomStyleFeature)==null||g.applyUserStyles(),(m=this.cellCustomStyleFeature)==null||m.applyClassesFromColDef()}(y=this.tooltipFeature)==null||y.refreshToolTip(),(b=this.cellCustomStyleFeature)==null||b.applyCellClassRules()}}stopEditingAndFocus(t=!1,i=!1){var n;(n=this.beans.editService)==null||n.stopEditingAndFocus(this,t,i)}flashCell(t){const i=(t==null?void 0:t.flashDuration)??(t==null?void 0:t.flashDelay),n=(t==null?void 0:t.fadeDuration)??(t==null?void 0:t.fadeDelay);this.animateCell("data-changed",i,n)}animateCell(t,i,n){if(!this.cellComp)return;const{gos:r}=this.beans;if(i||(i=r.get("cellFlashDuration")),i===0)return;pe(n)||(n=r.get("cellFadeDuration"));const s=`ag-cell-${t}`,a=`ag-cell-${t}-animation`;this.cellComp.addOrRemoveCssClass(s,!0),this.cellComp.addOrRemoveCssClass(a,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(s,!1),this.cellComp.addOrRemoveCssClass(a,!0),this.eGui.style.transition=`background-color ${n}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(a,!1),this.eGui.style.transition="")},n))},i)})}onFlashCells(t){if(!this.cellComp)return;const i=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[i]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(t){return this.callValueFormatter(t)??t}callValueFormatter(t){return this.beans.valueService.formatValue(this.column,this.rowNode,t)}updateAndFormatValue(t){const i=this.value,n=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),t?!this.valuesAreEqual(i,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(t,i){const n=this.column.getColDef();return n.equals?n.equals(t,i):t===i}getComp(){return this.cellComp}getValue(){return this.value}addDomData(t){const i=this.getGui();Po(this.beans.gos,i,ow.DOM_DATA_KEY_CELL_CTRL,this),t.addDestroyFunc(()=>Po(this.beans.gos,i,ow.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(t,i){return this.beans.gos.addGridCommonParams({type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex})}processCharacter(t){var i;(i=this.cellKeyboardListenerFeature)==null||i.processCharacter(t)}onKeyDown(t){var i;(i=this.cellKeyboardListenerFeature)==null||i.onKeyDown(t)}onMouseEvent(t,i){var n;(n=this.cellMouseListenerFeature)==null||n.onMouseEvent(t,i)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var t;this.cellComp&&((t=this.cellPositionFeature)==null||t.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:t,column:i,beans:n}=this;t_(t,i,n.visibleColsService)}refreshAriaColIndex(){const t=this.beans.visibleColsService.getAriaColIndex(this.column);mN(this.getGui(),t)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var t;return(t=this.cellPositionFeature)==null?void 0:t.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(t,i=null){return this.cellComp?this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,i):(this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(t,i)}),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(t=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(t){this.eGui&&mn(this.eGui,"tabindex",t?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;const t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(g$,t)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(m$,t)}onCellFocused(t){if(this.beans.focusService.isCellFocusSuppressed())return;const i=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){i&&(t!=null&&t.forceBrowserFocus)&&(this.focusEventToRestore=t);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(p$,i),i&&t&&t.forceBrowserFocus){let r=this.cellComp.getFocusableElement();if(this.editing){const s=this.beans.focusService.findFocusableElements(r,null,!0);s.length&&(r=s[0])}r.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}const n=this.beans.gos.get("editType")==="fullRow";!i&&!n&&this.editing&&this.stopRowOrCellEdit(),i&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Ar(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(d$,!0),this.cellComp.addOrRemoveCssClass(v$,!0);const t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(h$,t),this.cellComp.addOrRemoveCssClass(f$,!t)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(y$,t)}onColDefChanged(){var i;if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(i=this.beans.editService)==null||i.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(C$,t)}dispatchCellContextMenuEvent(t){const i=this.column.getColDef(),n=this.createEvent(t,"cellContextMenu");this.beans.eventService.dispatchEvent(n),i.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{i.onCellContextMenu(n)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const t=new XU;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const t=new QU(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t}registerRowDragger(t,i,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,i);return}const r=this.createRowDragComp(t,i,n);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(t,i,n){const r=this.beans.gos.get("pagination"),s=this.beans.gos.get("rowDragManaged"),a=vt(this.beans.gos);if(s){if(!a){ue("managed row dragging is only allowed in the Client Side Row Model");return}if(r){ue("managed row dragging is not possible when doing pagination");return}}const u=new ew(()=>this.value,this.rowNode,this.column,t,i,n);return this.beans.context.createBean(u),u}setSuppressRefreshCell(t){this.suppressRefreshCell=t}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(t){this.onCellEditorAttachedFuncs.push(t)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach(t=>t()),this.onCellEditorAttachedFuncs=[]}};h_.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var Co=h_,b$=0,f_=class aw extends ie{constructor(t,i,n,r,s){var a;super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=i,this.gos=i.gos,this.rowNode=t,this.paginationPage=((a=i.paginationService)==null?void 0:a.getCurrentPage())??0,this.useAnimationFrameForCreate=r,this.printLayout=s,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=t.id+"-"+b$++,this.rowId=qn(t.id),this.initRowBusinessKey(),this.rowFocused=i.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=i.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=qn(t)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(t,i){t==="left"?this.leftGui=i:t==="right"?this.rightGui=i:t==="fullWidth"?this.fullWidthGui=i:this.centerGui=i}setComp(t,i,n,r){r=Jc(this,this.beans.context,r);const s={rowComp:t,element:i,containerType:n,compBean:r};this.allRowGuis.push(s),this.updateGui(n,s),this.initialiseRowComp(s),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(t){this.allRowGuis=this.allRowGuis.filter(i=>i.containerType!==t),this.updateGui(t,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(t){const i=t?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=i)}initialiseRowComp(t){const i=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),Jh(i)&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=t.rowComp;this.getInitialRowClasses(t.containerType).forEach(s=>n.addOrRemoveCssClass(s,!0)),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&sf(t.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),Po(i,t.element,aw.DOM_DATA_KEY_ROW_CTRL,this),t.compBean.addDestroyFunc(()=>Po(i,t.element,aw.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t),this.isFullWidth()&&this.setupFullWidth(t),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(t){this.businessKeySanitised!=null&&t.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(t){this.rowId=qn(this.rowNode.id),this.rowId!=null&&t.setRowId(this.rowId)}executeSlideAndFadeAnimations(t){const{containerType:i}=t;this.slideInAnimation[i]&&(xD(()=>{this.onTopChanged()}),this.slideInAnimation[i]=!1),this.fadeInAnimation[i]&&(xD(()=>{t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)}addRowDraggerToRow(t){if(Fr(this.gos)){ue("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");return}const i=this.beans.localeService.getLocaleTextFunc(),n=new ew(()=>`1 ${i("rowDragRow","row")}`,this.rowNode,void 0,t.element,void 0,!0),r=this.createBean(n,this.beans.context);this.rowDragComps.push(r),t.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(s=>s!==r),this.destroyBean(r,this.beans.context)})}setupFullWidth(t){const i=this.getPinnedForContainer(t.containerType);if(this.rowType=="FullWidthDetail"&&!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)"))return;const n=this.createFullWidthCompDetails(t.element,i);t.rowComp.showFullWidth(n)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var t,i;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(n=>{var r;return(r=n==null?void 0:n.rowComp)==null?void 0:r.getFullWidthCellRenderer()}):[(i=(t=this.fullWidthGui)==null?void 0:t.rowComp)==null?void 0:i.getFullWidthCellRenderer()]}getCellElement(t){const i=this.getCellCtrl(t);return i?i.getGui():null}executeProcessRowPostCreateFunc(){const t=this.gos.getCallback("processRowPostCreate");if(!t||!this.areAllContainersReady())return;const i={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(i)}areAllContainersReady(){const t=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),i=!!this.centerGui,n=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return t&&i&&n}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this.rowNode}):!1}setRowType(){const t=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),i=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,r=this.beans.columnModel.isPivotMode(),a=!!this.rowNode.group&&!this.rowNode.footer&&pp(this.gos,r);t?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":i?this.rowType="FullWidth":a?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(t=!1,i=!1){if(this.isFullWidth())return;if(t||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(i);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(t,i,n=null){const r={list:[],map:{}},s=(u,c,h)=>{h!=null?r.list.splice(h,0,c):r.list.push(c),r.map[u]=c},a=[];for(const u of i){const c=u.getInstanceId();let h=t.map[c];h||(h=new Co(u,this.rowNode,this.beans,this)),s(c,h)}for(const u of t.list){const c=u.getColumn().getInstanceId();if(r.map[c]!=null)continue;!this.isCellEligibleToBeRemoved(u,n)?a.push([c,u]):u.destroy()}if(a.length)for(const[u,c]of a){const h=r.list.findIndex(g=>g.getColumn().getLeft()>c.getColumn().getLeft()),p=h===-1?void 0:Math.max(h-1,0);s(u,c,p)}return r}updateColumnListsImpl(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)}setCellCtrls(t){this.allRowGuis.forEach(i=>{const n=this.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(n,t)})}getCellCtrlsForContainer(t){switch(t){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const t=this.beans.columnViewportService,i=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=t.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const r=i.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const s=i.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,s,"right")}}isCellEligibleToBeRemoved(t,i){if(t.getColumn().getPinned()!=i)return!0;const a=t.isEditing(),u=this.beans.focusService.isCellFocused(t.getCellPosition());if(a||u){const h=t.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(h)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||ri(this.gos,"print")}listenOnDomOrder(t){const i=()=>{t.rowComp.setDomOrder(this.getDomOrder())};t.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],i)}setAnimateFlags(t){if(this.isSticky()||!t)return;const i=pe(this.rowNode.oldRowTop),n=this.beans.visibleColsService.isPinningLeft(),r=this.beans.visibleColsService.isPinningRight();if(i){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=n,this.slideInAnimation.right=r}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=n,this.fadeInAnimation.right=r}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const t=(u,c)=>u?u.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(u.element,c).params):!0,i=t(this.fullWidthGui,null),n=t(this.centerGui,null),r=t(this.leftGui,"left"),s=t(this.rightGui,"right");return i&&n&&r&&s}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(i=>{this.addRowDraggerToRow(i)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(t=>t.onRowIndexChanged())},cellChanged:t=>{this.getAllCellCtrls().forEach(i=>i.onCellChanged(t))}})}onRowNodeDataChanged(t){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell({suppressFlash:!t.update,newData:!t.update})),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const t=this.rowNode.highlighted;this.allRowGuis.forEach(i=>{const n=t===0,r=t===1;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",r)})}postProcessRowDragging(){const t=this.rowNode.dragging;this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-dragging",t))}updateExpandedCss(){const t=this.rowNode.isExpandable(),i=this.rowNode.expanded==!0;this.allRowGuis.forEach(n=>{n.rowComp.addOrRemoveCssClass("ag-row-group",t),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&i),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!i),sf(n.element,t&&i)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Ar(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(t){return this.allRowGuis.find(i=>i.element.contains(t))}onKeyboardNavigate(t){const i=this.findFullWidthRowGui(t.target);if(!((i?i.element:null)===t.target))return;const s=this.rowNode,a=this.beans.focusService.getFocusedCell(),u={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:(a==null?void 0:a.column)??this.getColumnForFullWidth(i)};this.beans.navigationService.navigateToNextCell(t,t.key,u,!0),t.preventDefault()}onTabKeyDown(t){if(t.defaultPrevented||Pr(t))return;const i=this.allRowGuis.find(c=>c.element.contains(t.target)),n=i?i.element:null,r=n===t.target,s=wt(this.gos);let a=!1;n&&s&&(a=n.contains(s)&&s.classList.contains("ag-cell"));let u=null;!r&&!a&&(u=this.beans.focusService.findNextFocusableElement(n,!1,t.shiftKey)),(this.isFullWidth()&&r||!u)&&this.beans.navigationService.onTabKeyDown(this,t)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var i;const t=(i=this.allRowGuis.find(n=>Qn(n.element)))==null?void 0:i.element;return t?t.getBoundingClientRect().top:0}onSuppressCellFocusChanged(t){const i=this.isFullWidth()&&t?void 0:-1;this.allRowGuis.forEach(n=>{mn(n.element,"tabindex",i)})}onFullWidthRowFocused(t){var s;const i=this.rowNode,n=t?this.isFullWidth()&&t.rowIndex===i.rowIndex&&t.rowPinned==i.rowPinned:!1,r=this.fullWidthGui?this.fullWidthGui.element:(s=this.centerGui)==null?void 0:s.element;r&&(r.classList.toggle("ag-full-width-focus",n),n&&(t!=null&&t.forceBrowserFocus)&&r.focus({preventScroll:!0}))}recreateCell(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),t.destroy(),this.updateColumnLists()}removeCellCtrl(t,i){const n={list:[],map:{}};return t.list.forEach(r=>{r!==i&&(n.list.push(r),n.map[r.getColumn().getInstanceId()]=r)}),n}onMouseEvent(t,i){switch(t){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i);break}}createRowEvent(t,i){return this.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:i})}createRowEventWithSource(t,i){const n=this.createRowEvent(t,i);return n.source=this,n}onRowDblClick(t){Pr(t)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",t))}getColumnForFullWidth(t){const{visibleColsService:i}=this.beans;switch(t==null?void 0:t.containerType){case"center":return i.getCenterCols()[0];case"left":return i.getLeftCols()[0];case"right":return i.getRightCols()[0];default:return i.getAllCols()[0]}}onRowMouseDown(t){if(this.lastMouseDownOnDragger=Ha(t.target,"ag-row-drag",3),!this.isFullWidth())return;const i=this.rowNode;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const n=this.findFullWidthRowGui(t.target),r=n==null?void 0:n.element,s=t.target;let a=!0;r&&r.contains(s)&&Hx(s)&&(a=!1),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:this.getColumnForFullWidth(n),rowPinned:i.rowPinned,forceBrowserFocus:a})}onRowClick(t){if(Pr(t)||this.lastMouseDownOnDragger)return;const{gos:n}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",t));const r=t.ctrlKey||t.metaKey,s=t.shiftKey,a=this.rowNode.isSelected(),u=Do(n),c=AD(n),h=gz(n);if(u&&this.rowNode.group||this.isRowSelectionBlocked()||!h&&!a||!c&&a)return;const p=mz(n),g="rowClicked";if(a)p?this.rowNode.setSelectedParams({newValue:!1,event:t,source:g}):r?c&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:g}):h&&this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:t,source:g});else{const m=p?!1:!r;this.rowNode.setSelectedParams({newValue:!0,clearSelection:m,rangeSelect:s,event:t,source:g})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!Jh(this.gos)}setupDetailRowAutoHeight(t){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;const i=()=>{const r=t.clientHeight;if(r!=null&&r>0){const s=()=>{this.rowNode.setRowHeight(r),(vt(this.gos)||er(this.gos))&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(s,0)}},n=this.beans.resizeObserverService.observeResize(t,i);this.addDestroyFunc(n),i()}createFullWidthCompDetails(t,i){const{gos:n,rowNode:r}=this,s=n.addGridCommonParams({fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:t,eParentOfValue:t,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(u,c,h,p)=>this.addFullWidthRowDragging(u,c,h,p),setTooltip:(u,c)=>this.refreshRowTooltip(u,c)}),a=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return a.getFullWidthDetailCellRendererDetails(s);case"FullWidthGroup":return a.getFullWidthGroupCellRendererDetails(s);case"FullWidthLoading":return a.getFullWidthLoadingCellRendererDetails(s);default:return a.getFullWidthCellRendererDetails(s)}}refreshRowTooltip(t,i){if(!this.fullWidthGui)return;const n={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>t,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new El(n,this.beans))}addFullWidthRowDragging(t,i,n="",r){if(!this.isFullWidth())return;const s=new ew(()=>n,this.rowNode,void 0,t,i,r);this.createBean(s,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(s,this.beans.context)})}onUiLevelChanged(){const t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){const i="ag-row-level-"+t,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass(i,!0),r.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=t}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const t=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-first",t))),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-last",i)))}stopEditing(t=!1){var i;this.stoppingRowEdit||(i=this.beans.rowEditService)==null||i.stopEditing(this,t)}setInlineEditingCss(){const t=this.editingRow||this.getAllCellCtrls().some(i=>i.isEditing());this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}setEditingRow(t){this.editingRow=t}startRowEditing(t=null,i=null,n=null){var r;return this.editingRow?!0:((r=this.beans.rowEditService)==null?void 0:r.startEditing(this,t,i,n))??!0}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!t||!t.length||t.forEach(i=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(i,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(t,i){t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(i,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(t){return t==="left"||t==="right"?t:null}getInitialRowClasses(t){const i=this.getPinnedForContainer(t),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)}processStylesFromGridOptions(){const t=this.gos.get("rowStyle");if(t&&typeof t=="function"){ue("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const i=this.gos.getCallback("getRowStyle");let n;if(i){const r={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};n=i(r)}return n||t?Object.assign({},t,n):this.emptyStyle}onRowSelected(t){const i=!!this.rowNode.isSelected();this.forEachGui(t,n=>{n.rowComp.addOrRemoveCssClass("ag-row-selected",i),of(n.element,i),n.element.contains(wt(this.gos))&&(n===this.centerGui||n===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const t=this.rowNode.isSelected();if(t&&!AD(this.gos))return;const n=this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(n,"rowSelection")}addHoverFunctionality(t){if(!this.active)return;const{element:i,compBean:n}=t,{rowNode:r,beans:s,gos:a}=this;n.addManagedListeners(i,{mouseenter:()=>r.onMouseEnter(),mouseleave:()=>r.onMouseLeave()}),n.addManagedListeners(r,{mouseEnter:()=>{!s.dragService.isDragging()&&!a.get("suppressRowHoverHighlight")&&(i.classList.add("ag-row-hover"),r.setHovered(!0))},mouseLeave:()=>{i.classList.remove("ag-row-hover"),r.setHovered(!1)}})}roundRowTopToBounds(t){const i=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(i.top,!0)-100,r=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(n,t),r)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(t,i){t?i(t):this.allRowGuis.forEach(i)}onRowHeightChanged(t){if(this.rowNode.rowHeight==null)return;const i=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),s=qI(this.gos)?Rs(this.gos,this.rowNode).height:void 0,a=s?`${Math.min(n,s)-2}px`:void 0;this.forEachGui(t,u=>{u.element.style.height=`${i}px`,a&&u.element.style.setProperty("--ag-line-height",a)})}addEventListener(t,i){super.addEventListener(t,i)}removeEventListener(t,i){super.removeEventListener(t,i)}destroyFirstPass(t=!1){if(this.active=!1,!t&&Ba(this.gos)&&!this.isSticky())if(this.rowNode.rowTop!=null){const r=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const i=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(i),this.beans.eventService.dispatchEvent(i),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const t=i=>(i.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)}setFocusedClasses(t){this.forEachGui(t,i=>{i.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){var i;const t=((i=this.beans.paginationService)==null?void 0:i.getCurrentPage())??0;this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(t,i=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return t;const n=this.beans.pageBoundsService.getPixelOffset();return t+n*(i?1:-1)}setRowTop(t){if(!this.printLayout&&pe(t)){const i=this.applyPaginationOffset(t),s=`${this.rowNode.isRowPinned()||this.rowNode.sticky?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}px`;this.setRowTopStyle(s)}}getInitialRowTop(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0}getInitialTransform(t){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(t)})`}getInitialRowTopShared(t){if(this.printLayout)return"";const i=this.rowNode;let n;if(this.isSticky())n=i.stickyRowTop;else{const r=this.slideInAnimation[t]?this.roundRowTopToBounds(i.oldRowTop):i.rowTop,s=this.applyPaginationOffset(r);n=i.isRowPinned()?s:this.beans.rowContainerHeightService.getRealPixelPosition(s)}return n+"px"}setRowTopStyle(t){this.allRowGuis.forEach(i=>this.suppressRowTransform?i.rowComp.setTop(t):i.rowComp.setTransform(`translateY(${t})`))}getRowNode(){return this.rowNode}getCellCtrl(t){let i=null;return this.getAllCellCtrls().forEach(n=>{n.getColumn()==t&&(i=n)}),i!=null||this.getAllCellCtrls().forEach(n=>{n.getColSpanningList().indexOf(t)>=0&&(i=n)}),i}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(t){var a;const i=this.rowNode.getRowIndexString();if(i===null)return;const n=this.beans.headerNavigationService.getHeaderRowCount()+(((a=this.beans.filterManager)==null?void 0:a.getHeaderRowCount())??0),r=this.rowNode.rowIndex%2===0,s=n+this.rowNode.rowIndex+1;this.forEachGui(t,u=>{u.rowComp.setRowIndex(i),u.rowComp.addOrRemoveCssClass("ag-row-even",r),u.rowComp.addOrRemoveCssClass("ag-row-odd",!r),n2(u.element,s)})}setStoppingRowEdit(t){this.stoppingRowEdit=t}};f_.DOM_DATA_KEY_ROW_CTRL="renderedRow";var So=f_,w$=class extends ie{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",rN("touchstart")?"touchstart":"mousedown"].forEach(i=>{const n=this.processMouseEvent.bind(this,i);this.addManagedElementListeners(this.element,{[i]:n})})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||Pr(t))return;const i=this.getRowForEvent(t),n=this.mouseEventService.getRenderedCellForEvent(t);e==="contextmenu"?this.handleContextMenuMouseEvent(t,void 0,i,n):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!Ps())return;const e=new ws(this.element),t=i=>{const n=this.getRowForEvent(i.touchEvent),r=this.mouseEventService.getRenderedCellForEvent(i.touchEvent);this.handleContextMenuMouseEvent(void 0,i.touchEvent,n,r)};this.addManagedListeners(e,{longTap:t}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const i=cc(this.gos,t,So.DOM_DATA_KEY_ROW_CTRL);if(i)return i;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,i,n){const r=i?i.getRowNode():null,s=n?n.getColumn():null;let a=null;if(s){const h=e||t;n.dispatchCellContextMenuEvent(h??null),a=this.valueService.getValue(s,r)}const u=this.ctrlsService.getGridBodyCtrl(),c=n?n.getGui():u.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:r,column:s,value:a,anchorToElement:c})}getControlsForEventTarget(e){return{cellCtrl:Ub(this.gos,e,Co.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Ub(this.gos,e,So.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:i,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,i){const n=e.getRowNode(),r=e.getColumn(),s=e.isEditing();!tw(this.gos,i,n,r,s)&&t==="keydown"&&(!s&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),WN(i)&&e.processCharacter(i)),t==="keydown"&&this.eventService.dispatchEvent(e.createEvent(i,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,i){const n=e.getRowNode(),r=this.focusService.getFocusedCell(),s=r&&r.column;if(!tw(this.gos,i,n,s,!1)){const u=i.key;if(t==="keydown")switch(u){case ee.PAGE_HOME:case ee.PAGE_END:case ee.PAGE_UP:case ee.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case ee.UP:case ee.DOWN:e.onKeyboardNavigate(i);break;case ee.TAB:e.onTabKeyDown(i);break}}t==="keydown"&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",i))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const i=IW(e);if(i===ee.A)return this.onCtrlAndA(e);if(i===ee.C)return this.onCtrlAndC(e);if(i===ee.D)return this.onCtrlAndD(e);if(i===ee.V)return this.onCtrlAndV(e);if(i===ee.X)return this.onCtrlAndX(e);if(i===ee.Y)return this.onCtrlAndY();if(i===ee.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){const{pinnedRowModel:t,rowModel:i,rangeService:n}=this;if(n&&i.isRowsToRender()){const[r,s]=[t.isEmpty("top"),t.isEmpty("bottom")],a=r?null:"top";let u,c;s?(u=null,c=i.getRowCount()-1):(u="bottom",c=t.getPinnedBottomRowCount()-1);const h=this.visibleColsService.getAllCols();if(Yi(h))return;n.setCellRange({rowStartIndex:0,rowStartPinned:a,rowEndIndex:c,rowEndPinned:u,columnStart:h[0],columnEnd:Ve(h)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||i!=null&&i.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||i!=null&&i.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:i}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||i!=null&&i.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){var e;(e=this.undoRedoService)==null||e.redo("ui")}},x$=class extends ie{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;bt(this.element,t),In(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},R$=class extends ie{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;bt(this.element,t),In(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},Th=e=>e.getTopRowCtrls(),Mh=e=>e.getStickyTopRowCtrls(),Fh=e=>e.getStickyBottomRowCtrls(),Oh=e=>e.getBottomRowCtrls(),Lh=e=>e.getCentreRowCtrls(),E$={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:Lh},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:Lh},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:Lh},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:Lh},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:Th},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Th},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Th},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:Th},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:Mh},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Mh},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Mh},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:Mh},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:Fh},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Fh},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Fh},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:Fh},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:Oh},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Oh},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Oh},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:Oh}};function Na(e){return E$[e]}var A$=["topCenter","topLeft","topRight"],P$=["bottomCenter","bottomLeft","bottomRight"],D$=["center","left","right"],T$=["center","left","right","fullWidth"],M$=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],F$=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],O$=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],p_=["stickyTopCenter","stickyTopLeft","stickyTopRight"],g_=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],L$=[...p_,"stickyTopFullWidth",...g_,"stickyBottomFullWidth"],I$=[...A$,...P$,...D$,...p_,...g_],N$=class extends ie{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=Na(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new KU(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,i){this.comp=e,this.eContainer=t,this.eViewport=i,this.createManagedBean(new w$(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const n=()=>this.onPinnedWidthChanged();this.forContainers(F$,()=>{this.pinnedWidthFeature=this.createManagedBean(new x$(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:n})}),this.forContainers(O$,()=>{this.pinnedWidthFeature=this.createManagedBean(new R$(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:n})}),this.forContainers(T$,()=>this.createManagedBean(new d_(this.eContainer,this.name==="center"?i:void 0))),this.forContainers(I$,()=>this.createManagedBean(new YU(this.eContainer))),this.forContainers(M$,()=>this.createManagedBean(new n0(r=>this.comp.setContainerWidth(`${r}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(L$.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const i=this.gos.get("ensureDomOrder"),n=ri(this.gos,"print");this.comp.setDomOrder(i||n)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=t=>{this.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(t,i,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return td(this.eViewport)}getCenterViewportScrollLeft(){return lf(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return SN(this.eViewport)}getViewportScrollLeft(){return lf(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||d2(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){uf(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const i=ri(this.gos,"print"),r=this.gos.get("embedFullWidthRows")||i,s=t.filter(a=>{const u=a.isFullWidth();return this.options.fullWidth?!r&&u:r||!u});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},_$="ag-force-vertical-scroll",k$="ag-selectable",G$="ag-column-moving",B$=class extends ie{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,i,n,r,s,a){var u;this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=n,this.eBottom=r,this.eStickyTop=s,this.eStickyBottom=a,this.eCenterColsViewport=i.querySelector(`.${Na("center").viewport}`),this.eFullWidthContainer=i.querySelector(`.${Na("fullWidth").container}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${Na("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=a.querySelector(`.${Na("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",c=>this.setCellTextSelection(c.currentValue)),this.createManagedBean(new s0(this.comp)),this.bodyScrollFeature=this.createManagedBean(new qU(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,i,r,s,a]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(u=this.filterManager)==null||u.setupAdvancedFilterHeaderComp(n),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:i=>{const{target:n}=i,r=Ha(n,"ag-root",t);t.classList.toggle("ag-has-focus",!r)},focusout:i=>{const{target:n,relatedTarget:r}=i,s=t.contains(r),a=Ha(r,"ag-root",t);Ha(n,"ag-root",t)||(!s||a)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(G$,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(k$,e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const t=e&&this.scrollVisibleService.getScrollbarWidth()||0,i=EN()?16:0,n=`calc(100% + ${t+i}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(n)),this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap()),this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){const e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=i=>{const n=i.relatedTarget;if(Zb(n)===null){this.rowRenderer.stopEditing();return}let r=t.some(s=>s.contains(n))&&this.mouseEventService.isElementInThisGrid(n);if(!r){const s=this.popupService;r=s.getActivePopups().some(a=>a.contains(n))||s.isElementWithinCustomPopup(n)}r||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach(i=>this.addManagedElementListeners(i,{focusout:e}))}updateRowCount(){var n;const e=this.headerNavigationService.getHeaderRowCount()+(((n=this.filterManager)==null?void 0:n.getHeaderRowCount())??0),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=t===-1?-1:e+t;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?_$:null,i=ri(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&h2(this.eBodyViewport)}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes();const t=()=>{const i=e&&Ba(this.gos)&&!this.rowContainerHeightService.isStretching(),n=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(n,i)};t(),this.addManagedEventListeners({heightScaleChanged:t}),this.addManagedPropertyListener("animateRows",t),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,t())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:i,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(i))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:i,shiftKey:n}=e,r=n||Math.abs(t)>Math.abs(i),s=e.target;r?(this.eStickyTopFullWidthContainer.contains(s)||this.eStickyBottomFullWidthContainer.contains(s))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(i))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:i}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||i})}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;this.gos.get("preventDefaultOnContextMenu")&&(e||i).preventDefault();const{target:n}=e||t;(n===this.eBodyViewport||n===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!Ps())return;const t=new ws(this.eBodyViewport),i=n=>{e(void 0,n.touchStart,n.touchEvent)};this.addManagedListeners(t,{longTap:i}),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new fW(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:e}=this,t=e.getPinnedTopTotalHeight(),i=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){var r;const t=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(((r=this.filterManager)==null?void 0:r.getHeaderHeight())??0),i=this.pinnedRowModel.getPinnedTopTotalHeight();let n=0;t>0&&(n+=t),i>0&&(n+=i),n>0&&(n+=1),this.comp.setStickyTopTop(`${n}px`)}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight(),i=this.scrollVisibleService.isHorizontalScrollShowing()&&this.scrollVisibleService.getScrollbarWidth()||0,n=e+i;this.comp.setStickyBottomBottom(`${n}px`)}sizeColumnsToFit(e,t){const n=this.isVerticalScrollShowing()?this.scrollVisibleService.getScrollbarWidth():0,s=td(this.eGridBody)-n;if(s>0){this.columnSizeService.sizeColumnsToFit(s,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):ue("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}};function Nu(e){return e.map(t=>`<ag-row-container name="${t}"></ag-row-container>`).join("")}`${Nu(["topLeft","topCenter","topRight","topFullWidth"])}${Nu(["left","center","right","fullWidth"])}${Nu(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}${Nu(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}${Nu(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}`;var H$=class extends ie{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsService.get("center"),t=e.hasHorizontalScrollGap(),i=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==i)&&(this.horizontalScrollGap=t,this.verticalScrollGap=i,this.eventService.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),i=typeof e=="number"&&e>=0?e:C2();i!=null&&(this.scrollbarWidth=i,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},VD="__ag_grid_instance",m_=class v_ extends ie{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=v_.gridInstanceSequence.next()}wireBeans(t){this.ctrlsService=t.ctrlsService}stampTopLevelGridCompWithGridInstance(t){t[VD]=this.gridInstanceId}getRenderedCellForEvent(t){return Ub(this.gos,t.target,Co.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let i=t;for(;i;){const n=i[VD];if(pe(n))return n===this.gridInstanceId;i=i.parentElement}return!1}getCellPositionForEvent(t){const i=this.getRenderedCellForEvent(t);return i?i.getCellPosition():null}getNormalisedPosition(t){const i=ri(this.gos,"normal"),n=t;let r,s;if(n.clientX!=null||n.clientY!=null?(r=n.clientX,s=n.clientY):(r=n.x,s=n.y),i){const a=this.ctrlsService.getGridBodyCtrl(),u=a.getScrollFeature().getVScrollPosition(),c=a.getScrollFeature().getHScrollPosition();r+=c.left,s+=u.top}return{x:r,y:s}}};m_.gridInstanceSequence=new Ya;var V$=m_,j$=class extends ie{constructor(){super(),this.beanName="navigationService",this.onPageDown=RD(this.onPageDown,100),this.onPageUp=RD(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.scrollVisibleService=e.scrollVisibleService,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const i=e.key,n=e.altKey,r=e.ctrlKey||e.metaKey,s=!!this.rangeService&&e.shiftKey,a=this.mouseEventService.getCellPositionForEvent(e);let u=!1;switch(i){case ee.PAGE_HOME:case ee.PAGE_END:!r&&!n&&(this.onHomeOrEndKey(i),u=!0);break;case ee.LEFT:case ee.RIGHT:case ee.UP:case ee.DOWN:if(!a)return!1;r&&!n&&!s&&(this.onCtrlUpDownLeftRight(i,a),u=!0);break;case ee.PAGE_DOWN:case ee.PAGE_UP:!r&&!n&&(u=this.handlePageUpDown(i,a,t));break}return u&&e.preventDefault(),u}handlePageUpDown(e,t,i){return i&&(t=this.focusService.getFocusedCell()),t?(e===ee.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){var a;const{scrollIndex:t,scrollType:i,scrollColumn:n,focusIndex:r,focusColumn:s}=e;pe(n)&&!n.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),pe(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(r),this.focusService.setFocusedCell({rowIndex:r,column:s,rowPinned:null,forceBrowserFocus:!0}),(a=this.rangeService)==null||a.setRangeToCell({rowIndex:r,rowPinned:null,column:s})}onPageDown(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),r=this.pageBoundsService.getPixelOffset(),s=i.top+n,a=this.rowModel.getRowIndexAtPixel(s+r);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,a):this.navigateToNextPage(e,a)}onPageUp(e){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.pageBoundsService.getPixelOffset(),r=i.top,s=this.rowModel.getRowIndexAtPixel(r+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,s,!0):this.navigateToNextPage(e,s,!0)}navigateToNextPage(e,t,i=!1){const n=this.getViewportHeight(),r=this.pageBoundsService.getFirstRow(),s=this.pageBoundsService.getLastRow(),a=this.pageBoundsService.getPixelOffset(),u=this.rowModel.getRow(e.rowIndex),c=i?(u==null?void 0:u.rowHeight)-n-a:n-a,h=(u==null?void 0:u.rowTop)+c;let p=this.rowModel.getRowIndexAtPixel(h+a);if(p===e.rowIndex){const m=i?-1:1;t=p=e.rowIndex+m}let g;i?(g="bottom",p<r&&(p=r),t<r&&(t=r)):(g="top",p>s&&(p=s),t>s&&(t=s)),this.isRowTallerThanView(p)&&(t=p,g="top"),this.navigateTo({scrollIndex:t,scrollType:g,scrollColumn:null,focusIndex:p,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const n=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const i=t?-1:1,n=this.getViewportHeight(),r=this.pageBoundsService.getLastRow();let s=0,a=e.rowIndex;for(;a>=0&&a<=r;){const u=this.rowModel.getRow(a);if(u){const c=u.rowHeight??0;if(s+c>n)break;s+=c}a+=i}return Math.max(0,Math.min(a,r))}getViewportHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),t=this.scrollVisibleService.getScrollbarWidth();let i=e.bottom-e.top;return this.ctrlsService.get("center").isHorizontalScrollShowing()&&(i-=t),i}isRowTallerThanView(e){const t=this.rowModel.getRow(e);if(!t)return!1;const i=t.rowHeight;return typeof i!="number"?!1:i>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const i=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:n}=i,r=i.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:r,focusIndex:n,focusColumn:r})}onHomeOrEndKey(e){const t=e===ee.PAGE_HOME,i=this.visibleColsService.getAllCols(),n=t?i[0]:Ve(i),r=t?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:n,focusIndex:r,focusColumn:n})}onTabKeyDown(e,t){const i=t.shiftKey,n=this.tabToNextCellCommon(e,i,t);if(n!==!1){n?t.preventDefault():n===null&&this.focusService.allowFocusForNextGridCoreContainer(i);return}if(i){const{rowIndex:r,rowPinned:s}=e.getRowPosition();(s?r===0:r===this.pageBoundsService.getFirstRow())&&(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof Co&&e.focusCell(!0),(!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i))&&t.preventDefault()}tabToNextCell(e,t){const i=this.focusService.getFocusedCell();if(!i)return!1;let n=this.getCellByPosition(i);return!n&&(n=this.rowRenderer.getRowByPosition(i),!n||!n.isFullWidth())?!1:!!this.tabToNextCellCommon(n,e,t)}tabToNextCellCommon(e,t,i){let n=e.isEditing();if(!n&&e instanceof Co){const a=e.getRowCtrl();a&&(n=a.isEditing())}let r;return n?this.gos.get("editType")==="fullRow"?r=this.moveToNextEditingRow(e,t,i):r=this.moveToNextEditingCell(e,t,i):r=this.moveToNextCellNotEditing(e,t),r===null?r:r||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,i=null){const n=e.getCellPosition();e.getGui().focus(),e.stopEditing();const r=this.findNextCellToFocusOn(n,t,!0);return r===!1?null:r==null?!1:(r.startEditing(null,!0,i),r.focusCell(!1),!0)}moveToNextEditingRow(e,t,i=null){const n=e.getCellPosition(),r=this.findNextCellToFocusOn(n,t,!0);if(r===!1)return null;if(r==null)return!1;const s=r.getCellPosition(),a=this.isCellEditable(n),u=this.isCellEditable(s),c=s&&n.rowIndex===s.rowIndex&&n.rowPinned===s.rowPinned;return a&&e.setFocusOutOnEditor(),c||(e.getRowCtrl().stopEditing(),r.getRowCtrl().startRowEditing(void 0,void 0,i)),u?(r.setFocusInOnEditor(),r.focusCell()):r.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const i=this.visibleColsService.getAllCols();let n;e instanceof So?n={...e.getRowPosition(),column:t?i[0]:Ve(i)}:n=e.getCellPosition();const r=this.findNextCellToFocusOn(n,t,!1);if(r===!1)return null;if(r instanceof Co)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r.getRowPosition(),t);return pe(r)}findNextCellToFocusOn(e,t,i){var r;let n=e;for(;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,t);const s=this.gos.getCallback("tabToNextCell");if(pe(s)){const h=s({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:n||null});if(h===!0||h===null)h===null&&ue("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),n=e;else{if(h===!1)return!1;n={rowIndex:h.rowIndex,column:h.column,rowPinned:h.rowPinned}}}if(!n)return null;if(n.rowIndex<0){const c=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c+n.rowIndex,column:n.column},fromCell:!0}),null}const a=this.gos.get("editType")==="fullRow";if(i&&!a&&!this.isCellEditable(n))continue;this.ensureCellVisible(n);const u=this.getCellByPosition(n);if(!u){const c=this.rowRenderer.getRowByPosition(n);if(!c||!c.isFullWidth()||i)continue;return c}if(!u.isSuppressNavigable())return(r=this.rangeService)==null||r.setRangeToCell(n),u}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,t,i,n){let r=i,s=!1;for(;r&&(r===i||!this.isValidNavigateCell(r));)this.gos.get("enableRtl")?t===ee.LEFT&&(r=this.getLastCellOfColSpan(r)):t===ee.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextCellToFocus(t,r),s=je(r);if(s&&e&&e.key===ee.UP&&(r={rowIndex:-1,rowPinned:null,column:i.column}),n){const u=this.gos.getCallback("navigateToNextCell");if(pe(u)){const h=u({key:t,previousCellPosition:i,nextCellPosition:r||null,event:e});pe(h)?r={rowPinned:h.rowPinned,rowIndex:h.rowIndex,column:h.column}:r=null}}if(!r)return;if(r.rowIndex<0){const u=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+r.rowIndex,column:i.column},event:e||void 0,fromCell:!0});return}const a=this.getNormalisedPosition(r);a?this.focusPosition(a):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const i=this.visibleColsService.getAllCols(),n=this.rowRenderer.getRowByPosition(e);if(!n||!n.isFullWidth())return!1;const r=this.focusService.getFocusedCell(),s={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Ve(i):i[0])};this.focusPosition(s);const a=t??(r!=null&&this.rowPositionUtils.before(s,r));return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,fromBelow:a}),!0}focusPosition(e){var t;this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),(t=this.rangeService)==null||t.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const i=t.getColSpanningList();return i.length===1?e:{rowIndex:e.rowIndex,column:Ve(i),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=fp(this.gos),i=this.rowModel.getRow(e.rowIndex);!(t&&(i==null?void 0:i.sticky))&&je(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},z$=class extends ie{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const i=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(i)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},W$=class extends ie{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,i){this.showPopup(e,n=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:i,mouseEvent:t,ePopup:n})},i,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,i){let n=-1,r="left";const s=this.menuService.isLegacyMenuEnabled();!s&&this.gos.get("enableRtl")&&(n=1,r="right");const a=s?void 0:4*n,u=s?void 0:4;this.showPopup(e,c=>{this.popupService.positionPopupByComponent({type:i,eventSource:t,ePopup:c,nudgeX:a,nudgeY:u,alignSide:r,keepWithinBounds:!0,position:"under",column:e})},i,t,s)}showPopup(e,t,i,n,r){const s=e?this.createBean(new CW(e,"COLUMN_MENU")):void 0;if(this.activeMenu=s,!(s!=null&&s.hasFilter())||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const a=document.createElement("div");Nn(a,"presentation"),a.classList.add("ag-menu"),r||a.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(a,{keydown:b=>this.trapFocusWithin(b,a)}),a.appendChild(s==null?void 0:s.getGui());let u;const c=()=>s==null?void 0:s.afterGuiDetached(),h=this.menuService.isColumnMenuAnchoringEnabled()?n??this.ctrlsService.getGridBodyCtrl().getGui():void 0,p=b=>{e.setMenuVisible(!1,"contextMenu");const w=b instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),w&&n&&Qn(n)){const S=this.focusService.findTabbableParent(n);S&&S.focus()}c(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,i,e)},g=this.localeService.getLocaleTextFunc(),m=r&&i!=="columnFilter"?g("ariaLabelColumnMenu","Column Menu"):g("ariaLabelColumnFilter","Column Filter"),y=this.popupService.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:p,positionCallback:()=>t(a),anchorToElement:h,ariaLabel:m});y&&(this.hidePopup=u=y.hideFunc),s.afterInit().then(()=>{t(a),s.afterGuiAttached({container:i,hidePopup:u})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,e)}trapFocusWithin(e,t){e.key!==ee.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,i){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:i??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},U$=class extends ie{constructor(){super(...arguments),this.beanName="resizeObserverService"}observeResize(e,t){const n=KI(this.gos).ResizeObserver,r=n?new n(t):null;return r==null||r.observe(e),()=>r==null?void 0:r.disconnect()}},$$=class extends ie{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){var i;const t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&e===0){const n=((i=this.paginationService)==null?void 0:i.getCurrentPage())??0;n!==this.lastPage&&(this.lastPage=n,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&ue(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,i){this.verifyAnimationFrameOn(i);const n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[i],n),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((i,n)=>i.index!==n.index?t*(n.index-i.index):n.createOrder-i.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,i=t.list,n=this.createTasksP2,r=n.list,s=this.destroyTasks,a=new Date().getTime();let u=new Date().getTime()-a;const c=e<=0,h=this.ctrlsService.getGridBodyCtrl();for(;c||u<e;){if(!h.getScrollFeature().scrollGridIfNeeded()){let g;if(i.length)this.sortTaskList(t),g=i.pop().task;else if(r.length)this.sortTaskList(n),g=r.pop().task;else if(s.length)g=s.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(g)||g()}u=new Date().getTime()-a}i.length||r.length||s.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=KI(this.gos);t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}t||(t=!0,this.addDestroyTask(()=>{t=!1,e()}))}}},q$=class extends ie{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel=vt(this.gos)}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode(i=>{i.id&&t.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:t,id:i})=>{t&&i&&e.push(i)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,i,n){e&&(i&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,i,n),e.setExpanded(t,void 0,n))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},K$=class extends ie{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.valueService=e.valueService,this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,i)}getContextMenuPosition(e,t){const i=this.getRowCtrl(e),n=this.getCellGui(i,t);if(!n)return i?{x:0,y:i.getRowYPosition()}:{x:0,y:0};const r=n.getBoundingClientRect();return{x:r.x+r.width/2,y:r.y+r.height/2}}showContextMenu(e){var s;const t=e.rowNode,i=e.column;let{anchorToElement:n,value:r}=e;t&&i&&r==null&&(r=this.valueService.getValueForDisplay(i,t)),n==null&&(n=this.getContextMenuAnchorElement(t,i)),(s=this.contextMenuFactory)==null||s.onContextMenu(e.mouseEvent??null,e.touchEvent??null,t??null,i??null,r,n)}showColumnChooser(e){var t;(t=this.columnChooserFactory)==null||t.showColumnChooser(e)}hidePopupMenu(){var e;(e=this.contextMenuFactory)==null||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var e;(e=this.columnChooserFactory)==null||e.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:i}=e.getColDef();return!(i??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&Es(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Ps()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.filterManager)!=null&&t.isFilterAllowed(e))&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){var n;const t=e.getColDef(),i=(n=t.floatingFilterComponentParams)==null?void 0:n.suppressFilterButton;return i!=null&&ue("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),t.suppressFloatingFilterButton==null?!i:!t.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?this.gos.exists("suppressMenuHide")?e:!1:e}showColumnMenuCommon(e,t,i,n){const{positionBy:r}=t,s=t.column;if(r==="button"){const{buttonElement:a}=t;e.showMenuAfterButtonClick(s,a,i,n)}else if(r==="mouse"){const{mouseEvent:a}=t;e.showMenuAfterMouseEvent(s,a,i,n)}else s&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),this.animationFrameService.requestAnimationFrame(()=>{var u;const a=(u=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()))==null?void 0:u.getHeaderCtrlForColumn(s);a&&e.showMenuAfterButtonClick(s,a.getAnchorElementForMenu(n),i,!0)}))}getRowCtrl(e){const{rowIndex:t,rowPinned:i}=e||{};if(t!=null)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i})||void 0}getCellGui(e,t){if(!e||!t)return;const i=e.getCellCtrl(t);return(i==null?void 0:i.getGui())||void 0}getContextMenuAnchorElement(e,t){const i=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),n=this.getRowCtrl(e);if(!n)return i;const r=this.getCellGui(n,t);return r||(n.isFullWidth()?n.getFullWidthElement():i)}},Y$=class extends uo{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const i=super.setValue(e,t);return this.eInput.value=e,i}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},X$={selector:"AG-INPUT-TEXT-AREA",component:Y$},Q$=class extends Al{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[X$]),this.eTextArea=xe}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),pe(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===ee.LEFT||t===ee.UP||t===ee.RIGHT||t===ee.DOWN||e.shiftKey&&t===ee.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return!pe(e)&&!pe(this.params.value)?this.params.value:this.params.parseValue(e)}},Z$=class extends Al{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){Po(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,i=n=>{tw(this.gos,n,t.node,t.column,!0)||t.onKeyDown(n)};this.addManagedElementListeners(e,{keydown:i})}},J$=class extends Al{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[AW]),this.eSelect=xe,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueService:i,gos:n}=this,{values:r,value:s,eventKey:a}=e;if(je(r)){ue("no values found for select cellEditor");return}this.startedByEnter=a!=null?a===ee.ENTER:!1;let u=!1;r.forEach(g=>{const m={value:g},y=i.formatValue(e.column,null,g),b=y!=null;m.text=b?y:g,t.addOption(m),u=u||s===g}),u?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:c,valueListMaxWidth:h,valueListMaxHeight:p}=e;c!=null&&t.setPickerGap(c),p!=null&&t.setPickerMaxHeight(p),h!=null&&t.setPickerMaxWidth(h),n.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},Sp=class extends Al{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=xe}init(e){this.params=e;const{cellStartedEdit:t,eventKey:i,suppressPreventDefault:n}=e,r=this.eInput;this.cellEditorInput.init(r,e);let s,a=!0;t?(this.focusAfterAttached=!0,i===ee.BACKSPACE||i===ee.DELETE?s="":i&&i.length===1?n?a=!1:s=i:(s=this.cellEditorInput.getStartValue(),i!==ee.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,s=this.cellEditorInput.getStartValue()),a&&s!=null&&r.setStartValue(s),this.addManagedElementListeners(r.getGui(),{keydown:u=>{const{key:c}=u;(c===ee.PAGE_UP||c===ee.PAGE_DOWN)&&u.preventDefault()}})}afterGuiAttached(){var n,r;const e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Lr()||t.getFocusableElement().focus();const i=t.getInputElement();this.highlightAllOnFocus?i.select():(r=(n=this.cellEditorInput).setCaret)==null||r.call(n)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),i=e.getInputElement();t.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},e3=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[yp]}init(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return!pe(e)&&!pe(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=pe(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},y_=class extends Sp{constructor(){super(new e3)}},t3=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[_W]}init(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step);const i=e.getInputElement();t.preventStepping?e.addManagedElementListeners(i,{keydown:this.preventStepping}):t.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===ee.UP||e.key===ee.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!pe(e)&&!pe(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}setCaret(){Lr()&&this.eInput.getInputElement().focus({preventScroll:!0})}},i3=class extends Sp{constructor(){super(new t3)}},n3=class extends ko{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=Lr();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){wt(this.gos)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?vn(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,mn(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?vn(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,mn(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,mn(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return Ti(this.getValue())??void 0}setDate(e,t){this.setValue(vn(e??null,!1),t)}},C_={selector:"AG-INPUT-DATE-FIELD",component:n3},r3=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[C_]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return!pe(e)&&!pe(this.params.value)?this.params.value:e??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return vn(e,!1)}},s3=class extends Sp{constructor(){super(new r3)}},o3=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[C_]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return!pe(e)&&!pe(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){return vn(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Ti(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):vn(e??null,!1)??void 0}},a3=class extends Sp{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new o3(()=>this.dataTypeService))}},l3=class extends Al{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[qx]),this.eCheckbox=xe}init(e){this.params=e;const t=e.value??void 0;this.eCheckbox.setValue(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:n=>this.setAriaLabel(n.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),i=Bx(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${i})`)}},qu=class{constructor(e){this.cellValueChanges=e}},Nv=class extends qu{constructor(e,t,i,n){super(e),this.initialRange=t,this.finalRange=i,this.ranges=n}},u3=10,jD=class{constructor(e){this.actionStack=[],this.maxStackSize=e||u3,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},c3=class extends ie{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,t),n=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(i||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:a,column:u,oldValue:c,value:h}=e,p={rowPinned:s,rowIndex:a,columnId:u.getColId(),newValue:h,oldValue:c};this.cellValueChanges.push(p)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new jD(e),this.redoStack=new jD(e),this.addListeners();const t=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:t,newColumnsLoaded:t,columnGroupOpened:t,columnRowGroupChanged:t,columnMoved:t,columnPinned:t,columnVisible:t,rowDragEnd:t}),this.ctrlsService.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});const t=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:t})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});const t=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:t})}undoRedo(e,t,i,n,r){if(!e)return!1;const s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,a=>a[n],r),s instanceof Nv?this.processRange(this.rangeService,s.ranges||[s[i]]):this.processCell(s.cellValueChanges),t.push(s),!0)}processAction(e,t,i){e.cellValueChanges.forEach(n=>{const{rowIndex:r,rowPinned:s,columnId:a}=n,u={rowIndex:r,rowPinned:s},c=this.rowPositionUtils.getRowNode(u);c.displayed&&c.setDataValue(a,t(n),i)})}processRange(e,t){let i;e.removeAllCellRanges(!0),t.forEach((n,r)=>{if(!n)return;const s=n.startRow,a=n.endRow;r===t.length-1&&(i={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(i));const u={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:a.rowIndex,rowEndPinned:a.rowPinned,columnStart:n.startColumn,columns:n.columns};e.addCellRange(u)})}processCell(e){const t=e[0],{rowIndex:i,rowPinned:n}=t,r={rowIndex:i,rowPinned:n},s=this.rowPositionUtils.getRowNode(r),a={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(a,this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:i,columnId:n,rowPinned:r}=e,s=this.gridBodyCtrl.getScrollFeature(),a=this.columnModel.getCol(n);if(!a)return;s.ensureIndexVisible(i),s.ensureColumnVisible(a);const u={rowIndex:i,column:a,rowPinned:r};this.focusService.setFocusedCell({...u,forceBrowserFocus:!0}),t==null||t.setRangeToCell(u)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new qu(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const i=new qu(this.cellValueChanges);this.pushActionsToUndoStack(i)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new qu(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new Nv(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;this.rangeService&&Fr(this.gos)?e=new Nv(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new qu(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};function d3(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function h3(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function S_(e,t,i="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,i),"ensureVisible")}function b_(e,t,i){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,i),"ensureVisible")}function f3(e,t,i=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,i),"ensureVisible")}function p3(e){var t;(t=e.undoRedoService)==null||t.undo("api")}function g3(e){var t;(t=e.undoRedoService)==null||t.redo("api")}function m3(e,t={}){return e.rowRenderer.getCellEditorInstances(t).map(Ju)}function v3(e){return e.rowRenderer.getEditingCells()}function y3(e,t=!1){e.rowRenderer.stopEditing(t)}function C3(e,t){const i=e.columnModel.getCol(t.colKey);if(!i){ue(`no column found for ${t.colKey}`);return}const n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:i};t.rowPinned==null&&b_(e,t.rowIndex),S_(e,t.colKey);const s=e.navigationService.getCellByPosition(n);if(!s)return;const{focusService:a,gos:u}=e,c=()=>{const p=wt(u),g=s.getGui();return p!==g&&!!(g!=null&&g.contains(p))},h=u.get("stopEditingWhenCellsLoseFocus")&&c();(h||!a.isCellFocused(n))&&a.setFocusedCell({...n,forceBrowserFocus:h,preventScrollOnBrowserFocus:!0}),s.startRowOrCellEdit(t.key)}function S3(e){var t;return((t=e.undoRedoService)==null?void 0:t.getCurrentUndoStackSize())??0}function b3(e){var t;return((t=e.undoRedoService)==null?void 0:t.getCurrentRedoStackSize())??0}var w3=class extends ie{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e,t=null,i=!1,n=null){var h;const r=this.createCellEditorParams(e,t,i),s=e.getColumn().getColDef(),a=this.userComponentFactory.getCellEditorDetails(s,r),u=(a==null?void 0:a.popupFromSelector)!=null?a.popupFromSelector:!!s.cellEditorPopup,c=(a==null?void 0:a.popupPositionFromSelector)!=null?a.popupPositionFromSelector:s.cellEditorPopupPosition;return e.setEditing(!0,a),e.getComp().setEditDetails(a,u,c,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(n,"cellEditingStarted")),!((h=a==null?void 0:a.params)!=null&&h.suppressPreventDefault)}stopEditing(e,t){const i=e.getComp(),{newValue:n,newValueExists:r}=this.takeValueFromCellEditor(t,i),s=e.getRowNode(),a=e.getColumn(),u=this.valueService.getValueForDisplay(a,s);let c=!1;return r&&(c=this.saveNewValue(e,u,n,s,a)),e.setEditing(!1,void 0),i.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:u,newValue:n,valueChanged:c}),c}handleColDefChanged(e){const t=e.getCellEditor();if(t!=null&&t.refresh){const{eventKey:i,cellStartedEdit:n}=e.getEditCompDetails().params,r=this.createCellEditorParams(e,i,n),s=e.getColumn().getColDef(),a=this.userComponentFactory.getCellEditorDetails(s,r);t.refresh(a.params)}}setFocusOutOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){const t=e.getComp(),i=t.getCellEditor();i!=null&&i.focusIn?i.focusIn():(e.focusCell(!0),e.onCellEditorAttached(()=>{var n,r;return(r=(n=t.getCellEditor())==null?void 0:n.focusIn)==null?void 0:r.call(n)}))}stopEditingAndFocus(e,t=!1,i=!1){e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(i,e.getCellPosition())}createPopupEditorWrapper(e){return new Z$(e)}takeValueFromCellEditor(e,t){const i={newValueExists:!1};if(e)return i;const n=t.getCellEditor();return!n||n.isCancelAfterEnd&&n.isCancelAfterEnd()?i:{newValue:n.getValue(),newValueExists:!0}}saveNewValue(e,t,i,n,r){if(i===t)return!1;e.setSuppressRefreshCell(!0);const s=n.setDataValue(r,i,"edit");return e.setSuppressRefreshCell(!1),s}createCellEditorParams(e,t,i){const n=e.getColumn(),r=e.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(n,r),eventKey:t,column:n,colDef:n.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:r,data:r.data,cellStartedEdit:i,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:s=>this.valueService.parseValue(n,r,s,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const n=e?ee.UP:ee.DOWN;this.navigationService.navigateToNextCell(null,n,t,!1)}}},x3=class extends ie{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e,t=null,i=null,n=null){let r=!0;return e.getAllCellCtrls().reduce((a,u)=>{const c=u===i;return c?r=u.startEditing(t,c,n):u.startEditing(null,c,n),a?!0:u.isEditing()},!1)&&this.setEditing(e,!0),r}stopEditing(e,t=!1){const i=e.getAllCellCtrls(),n=e.isEditing();e.setStoppingRowEdit(!0);let r=!1;for(const s of i){const a=s.stopEditing(t);n&&!t&&!r&&a&&(r=!0)}r&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),n&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,t){e.setEditingRow(t),e.forEachGui(void 0,n=>n.rowComp.addOrRemoveCssClass("ag-row-editing",t));const i=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(i)}},Go={version:Ae,moduleName:"@ag-grid-community/edit-core",beans:[w3]},R3={version:Ae,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:p3,redoCellEditing:g3,getCellEditorInstances:m3,getEditingCells:v3,stopEditing:y3,startEditingCell:C3,getCurrentUndoSize:S3,getCurrentRedoSize:b3},dependantModules:[Go]},E3={version:Ae,moduleName:"@ag-grid-community/undo-redo-edit",beans:[c3],dependantModules:[Go]},A3={version:Ae,moduleName:"@ag-grid-community/full-row-edit",beans:[x3],dependantModules:[Go]},w_={version:Ae,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:y_}],dependantModules:[Go]},P3={version:Ae,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:y_},{name:"agNumberCellEditor",classImp:i3,params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:s3},{name:"agDateStringCellEditor",classImp:a3},{name:"agCheckboxCellEditor",classImp:l3}],dependantModules:[w_]},D3={version:Ae,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:J$}],dependantModules:[Go]},T3={version:Ae,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:Q$}],dependantModules:[Go]},M3={version:Ae,moduleName:"@ag-grid-community/all-editors",dependantModules:[w_,P3,D3,T3]},F3={version:Ae,moduleName:"@ag-grid-community/editing",dependantModules:[Go,E3,A3,M3,R3]},O3=class extends ie{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const i=this.getHeaderCellForColumn(e);if(!i)return-1;const n=this.rowRenderer.getAllCellsForColumn(e);return t||n.push(i),this.addElementsToContainerAndGetWidth(n)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const i=this.centerRowContainerCtrl.getContainerElement();e.forEach(s=>this.cloneItemIntoDummy(s,t)),i.appendChild(t);const n=t.offsetWidth;i.removeChild(t);const r=this.getAutoSizePadding();return n+r}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>{const n=i.getHtmlElementForColumnHeader(e);n!=null&&(t=n)}),t}cloneItemIntoDummy(e,t){const i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const n=document.createElement("div"),r=n.classList;["ag-header-cell","ag-header-group-cell"].some(u=>i.classList.contains(u))?(r.add("ag-header","ag-header-row"),n.style.position="static"):r.add("ag-row");let a=e.parentElement;for(;a;){if(["ag-header-row","ag-row"].some(c=>a.classList.contains(c))){for(let c=0;c<a.classList.length;c++){const h=a.classList[c];h!="ag-row-position-absolute"&&r.add(h)}break}a=a.parentElement}n.appendChild(i),t.appendChild(n)}},L3=class extends ie{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide=vt(this.gos),this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){var t,i;if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let r=(t=e.childStore)==null?void 0:t.getStoreBounds();return e.footer&&(r=(i=e.sibling.childStore)==null?void 0:i.getStoreBounds()),((r==null?void 0:r.heightPx)??0)+((r==null?void 0:r.topPx)??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let n=e.footer?e.sibling:e;for(;n.isExpandable()&&n.expanded;)if(n.master)n=n.detailNode;else if(n.childrenAfterSort){if(n.childrenAfterSort.length===0)break;n=Ve(n.childrenAfterSort)}return n.rowTop+n.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const t=e==="top";let i=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,i);const n=t?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,r=new Set,s=h=>{if(r.add(h),t){const p=this.getLastPixelOfGroup(h),g=n+i+h.rowHeight;p<g?h.stickyRowTop=i+(p-g):h.stickyRowTop=i}else{const p=this.getFirstPixelOfGroup(h),g=n-(i+h.rowHeight);p>g?h.stickyRowTop=i-(p-g):h.stickyRowTop=i}i=0,r.forEach(p=>{const g=p.stickyRowTop+p.rowHeight;i<g&&(i=g)})},a=this.areFooterRowsStickySuppressed(),u=this.gos.get("suppressGroupRowsSticky"),c=h=>{if(!h.displayed)return!1;if(h.footer){if(a===!0||a==="grand"&&h.level===-1||a==="group"&&h.level>-1)return!1;const p=h.sibling.rowIndex?h.sibling.rowIndex+1===h.rowIndex:!1;return e==="bottom"&&p?!1:!r.has(h)}return h.isExpandable()?u===!0||e==="bottom"?!1:!r.has(h)&&h.expanded:!1};for(let h=0;h<100;h++){let p=n+i;t||(p=n-i);const g=this.rowModel.getRowIndexAtPixel(p),m=this.rowModel.getRow(g);if(m==null)break;const b=this.getStickyAncestors(m).find(S=>(t?S.rowIndex<g:S.rowIndex>g)&&c(S));if(b){s(b);continue}if((t?m.rowTop<p:m.rowTop+m.rowHeight>p)&&c(m)){s(m);continue}break}return t||r.forEach(h=>{h.stickyRowTop=i-(h.stickyRowTop+h.rowHeight)}),this.refreshNodesAndContainerHeight(e,r,i)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;const t=!!this.gos.get("groupIncludeFooter")||e==="group",i=!!this.gos.get("groupIncludeTotalFooter")||e==="grand";return t&&i?!0:i?"grand":t?"group":!1}canRowsBeSticky(){const e=fp(this.gos),t=this.areFooterRowsStickySuppressed(),i=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!i)}getStickyAncestors(e){const t=[];let i=e.footer?e.sibling:e.parent;for(;i;)i.sibling&&t.push(i.sibling),t.push(i),i=i.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(i=>i.getRowNode()===e)){for(let i=0;i<this.stickyTopRowCtrls.length;i++){const n=this.stickyTopRowCtrls[i].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows();return}for(let i=0;i<this.stickyBottomRowCtrls.length;i++){const n=this.stickyBottomRowCtrls[i].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t,i){const n=e==="top",r=n?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,s={},a=[];for(let m=0;m<r.length;m++){const y=r[m].getRowNode();if(!t.has(y)){s[y.id]=r[m],y.sticky=!1;continue}a.push(r[m])}const u=new Set;for(let m=0;m<a.length;m++)u.add(a[m].getRowNode());const c=[];t.forEach(m=>{u.has(m)||(m.sticky=!0,c.push(this.createRowCon(m,!1,!1)))});let h=!!c.length||a.length!==r.length;n?this.topContainerHeight!==i&&(this.topContainerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),h=!0):this.bottomContainerHeight!==i&&(this.bottomContainerHeight=i,this.gridBodyCtrl.setStickyBottomHeight(i),h=!0),this.destroyRowCtrls(s,!1);const p=[...a,...c];p.sort((m,y)=>y.getRowNode().rowIndex-m.getRowNode().rowIndex),n||p.reverse(),p.forEach(m=>m.setRowTop(m.getRowNode().stickyRowTop));let g=0;return n?(t.forEach(m=>{m.rowIndex<this.pageBoundsService.getFirstRow()&&(g+=m.rowHeight)}),g>this.topContainerHeight&&(g=this.topContainerHeight),this.setOffsetTop(g)):(t.forEach(m=>{m.rowIndex>this.pageBoundsService.getLastRow()&&(g+=m.rowHeight)}),g>this.bottomContainerHeight&&(g=this.bottomContainerHeight),this.setOffsetBottom(g)),h?(n?this.stickyTopRowCtrls=p:this.stickyBottomRowCtrls=p,!0):!1}ensureRowHeightsValid(){let e=!1;const t=i=>{const n=i.getRowNode();if(n.rowHeightEstimated){const r=Rs(this.gos,n);n.setRowHeight(r.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}},I3=class extends ie{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(s=>s.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},i=()=>{this.eventService.addEventListener("cellSelectionChanged",e),this.eventService.addEventListener("columnMoved",t),this.eventService.addEventListener("columnPinned",t),this.eventService.addEventListener("columnVisible",t)},n=()=>{this.eventService.removeEventListener("cellSelectionChanged",e),this.eventService.removeEventListener("columnMoved",t),this.eventService.removeEventListener("columnPinned",t),this.eventService.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>n()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Fr(this.gos)?i():n()}),Fr(this.gos)&&i()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],()=>this.redrawRows()),fp(this.gos)&&(vt(this.gos)||er(this.gos))&&(this.stickyRowFeature=this.createManagedBean(new L3(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=ri(this.gos,"print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new N3(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=Kb(this.rowCtrlsByRowIndex),t=Kb(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||i.length>0?this.allRowCtrls=[...e,...t,...i]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach(t=>t.onFlashCells(e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(t=>{const i=c=>{this.getAllCellCtrls().forEach(h=>{h.getColumn()===t&&c(h)})},n=()=>{i(c=>c.onLeftChanged())},r=()=>{i(c=>c.onWidthChanged())},s=()=>{i(c=>c.onFirstRightPinnedChanged())},a=()=>{i(c=>c.onLastLeftPinnedChanged())},u=()=>{i(c=>c.onColDefChanged())};t.addEventListener("leftChanged",n),t.addEventListener("widthChanged",r),t.addEventListener("firstRightPinnedChanged",s),t.addEventListener("lastLeftPinnedChanged",a),t.addEventListener("colDefChanged",u),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",n),t.removeEventListener("widthChanged",r),t.removeEventListener("firstRightPinnedChanged",s),t.removeEventListener("lastLeftPinnedChanged",a),t.removeEventListener("colDefChanged",u)})})}onDomLayoutChanged(){const e=ri(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(i=>{const n=i.getCellElement(e);n&&t.push(n)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){const{pinnedRowModel:i,beans:n,printLayout:r}=this,s=Object.fromEntries(e.map(u=>[u.getRowNode().id,u]));i.forEachPinnedRow(t,(u,c)=>{const h=e[c];h&&i.getPinnedRowById(h.getRowNode().id,t)===void 0&&(h.destroyFirstPass(),h.destroySecondPass()),u.id in s?(e[c]=s[u.id],delete s[u.id]):e[c]=new So(u,n,!1,!1,r)});const a=t==="top"?i.getPinnedTopRowCount():i.getPinnedBottomRowCount();e.length=a}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var i;if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if((i=this.cachedRowCtrls)!=null&&i.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=r=>{const s=r[e.rowIndex];s&&s.getRowNode()===e&&(s.destroyFirstPass(),s.destroySecondPass(),r[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(t==null)return null;const i=wt(this.gos),n=cc(this.gos,i,Co.DOM_DATA_KEY_CELL_CTRL),r=cc(this.gos,i,So.DOM_DATA_KEY_ROW_CTRL);return n||r?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const i=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&Ba(this.gos),r=i?this.getRowsToRecycle():null;if(i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const s=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();s&&this.updateContainerHeights(s)}this.recycleRows(r,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var n;const t=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");t&&!i&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),(n=this.stickyRowFeature)==null||n.resetOffsets())}updateContainerHeights(e=0){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let t=this.pageBoundsService.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0,(t=(e=this.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),i=t.length;for(let n=0;n<i;n++){const r=t[n].getAllCellCtrls(),s=r.length;for(let a=0;a<s;a++)e.push(r[a])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],i=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(const n in this.rowCtrlsByRowIndex)i.push(this.rowCtrlsByRowIndex[n]);return i}addRenderedRowListener(e,t,i){const n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,i)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(t=>t.flashCell(e))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const i of this.getCellCtrls(e.rowNodes,e.columns))i.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&OD()&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const i of this.getRowCtrls(e)){if(!i.isFullWidth())continue;i.refreshFullWidth()||this.redrawRow(i.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getCellRendererInstances(e){var r;const t=this.getCellCtrls(e.rowNodes,e.columns).map(s=>s.getCellRenderer()).filter(s=>s!=null);if((r=e.columns)!=null&&r.length)return t;const i=[],n=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(s=>{if(n&&!this.isRowInMap(s.getRowNode(),n)||!s.isFullWidth())return;const a=s.getFullWidthCellRenderers();for(let u=0;u<a.length;u++){const c=a[u];c!=null&&i.push(c)}}),[...i,...t]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(i=>{const n=i.getCellEditor();n&&t.push(n)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const i=t.getCellPosition();e.push(i)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(i=>{const n=i.id;switch(i.rowPinned){case"top":t.top[n]=i;break;case"bottom":t.bottom[n]=i;break;default:t.normal[n]=i;break}}),t}isRowInMap(e,t){const i=e.id;switch(e.rowPinned){case"top":return t.top[i]!=null;case"bottom":return t.bottom[i]!=null;default:return t.normal[i]!=null}}getRowCtrls(e){const t=this.mapRowNodes(e),i=this.getAllRowCtrls();return!e||!t?i:i.filter(n=>{const r=n.getRowNode();return this.isRowInMap(r,t)})}getCellCtrls(e,t){let i;pe(t)&&(i={},t.forEach(r=>{const s=this.columnModel.getCol(r);pe(s)&&(i[s.getId()]=!0)}));const n=[];return this.getRowCtrls(e).forEach(r=>{r.getAllCellCtrls().forEach(s=>{const a=s.getColumn().getId();i&&!i[a]||n.push(s)})}),n}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];Mn(this.rowCtrlsByRowIndex,(i,n)=>{n.getRowNode().id==null&&e.push(i)}),this.removeRowCtrls(e);const t={};return Mn(this.rowCtrlsByRowIndex,(i,n)=>{const r=n.getRowNode();t[r.id]=n}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(i=>{const n=this.rowCtrlsByRowIndex[i];n&&(n.destroyFirstPass(t),n.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:t}=e;let i;this.stickyRowFeature&&OD()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);const n=this.firstRenderedRow,r=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let s=!1;if(this.stickyRowFeature){s=this.stickyRowFeature.checkStickyRows();const u=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();u&&this.updateContainerHeights(u)}const a=this.firstRenderedRow!==n||this.lastRenderedRow!==r;if(!(t&&!s&&!a)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!s),i!=null)){const u=this.getCellToRestoreFocusToAfterRefresh();i!=null&&u==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const i={};e.forEach(s=>i[s]=!0);const r=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!i[s]);this.removeRowCtrls(r,t)}calculateIndexesToDraw(e){const t=BW(this.firstRenderedRow,this.lastRenderedRow),i=(r,s)=>{const a=s.getRowNode().rowIndex;a!=null&&(a<this.firstRenderedRow||a>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(s)&&t.push(a)};Mn(this.rowCtrlsByRowIndex,i),Mn(e,i),t.sort((r,s)=>r-s);const n=[];for(let r=0;r<t.length;r++){const s=t[r],a=this.rowModel.getRow(s);a&&!a.sticky&&n.push(s)}return n}recycleRows(e,t=!1,i=!1){const n=this.calculateIndexesToDraw(e);(this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(n,!t),n.forEach(r=>{this.createOrUpdateRowCtrl(r,e,t,i)}),e&&(i&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const e=this.visibleColsService.isPinningLeft(),t=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const i=t.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;const n=i.getRowNode();return!(t!=null&&!this.isRowInMap(n,t))})}createOrUpdateRowCtrl(e,t,i,n){let r,s=this.rowCtrlsByRowIndex[e];if(s||(r=this.rowModel.getRow(e),pe(r)&&pe(t)&&t[r.id]&&r.alreadyRendered&&(s=t[r.id],t[r.id]=null)),!s)if(r||(r=this.rowModel.getRow(e)),pe(r))s=this.createRowCon(r,i,n);else return;return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,t){const i=[];Mn(e,(n,r)=>{if(r){if(this.cachedRowCtrls&&r.isCacheable()){this.cachedRowCtrls.addRow(r);return}if(r.destroyFirstPass(!t),t){const s=r.instanceId;this.zombieRowCtrls[s]=r,i.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[s]})}else r.destroySecondPass()}}),t&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),nz(i))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=vo(this.gos);return e*t}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,t;if(!this.rowModel.isRowsToRender())e=0,t=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),t=this.pageBoundsService.getLastRow();else{const u=this.getRowBufferInPixels(),c=this.ctrlsService.getGridBodyCtrl(),h=this.gos.get("suppressRowVirtualisation");let p=!1,g,m;do{const x=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:E,pageLastPixel:R}=this.pageBoundsService.getCurrentPagePixelRange(),T=this.rowContainerHeightService.getDivStretchOffset(),A=c.getScrollFeature().getVScrollPosition(),P=A.top,F=A.bottom;h?(g=E+T,m=R+T):(g=Math.max(P+x-u,E)+T,m=Math.min(F+x+u,R)+T),this.firstVisibleVPixel=Math.max(P+x,E)+T,this.lastVisibleVPixel=Math.min(F+x,R)+T,p=this.ensureAllRowsInRangeHaveHeightsCalculated(g,m)}while(p);let y=this.rowModel.getRowIndexAtPixel(g),b=this.rowModel.getRowIndexAtPixel(m);const w=this.pageBoundsService.getFirstRow(),S=this.pageBoundsService.getLastRow();y<w&&(y=w),b>S&&(b=S),e=y,t=b}const i=ri(this.gos,"normal"),n=this.gos.get("suppressMaxRenderedRowRestriction"),r=Math.max(this.getRowBuffer(),500);i&&!n&&t-e>r&&(t=e+r);const s=e!==this.firstRenderedRow,a=t!==this.lastRenderedRow;(s||a)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:t}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var s,a;const i=(s=this.pinnedRowModel)==null?void 0:s.ensureRowHeightsValid(),n=(a=this.stickyRowFeature)==null?void 0:a.ensureRowHeightsValid(),r=this.rowModel.ensureRowHeightsValid(e,t,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(r||n)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),n||r||i?(this.updateContainerHeights(),!0):!1}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const n=e.getRowNode(),r=this.focusService.isRowNodeFocused(n),s=e.isEditing(),a=n.detail;return r||s||a?!!this.isRowPresent(n):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.paginationService?this.paginationService.isRowPresent(e):!0:!1}createRowCon(e,t,i){const n=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(n)return n;const r=this.gos.get("suppressAnimationFrame"),s=i&&!r&&!this.printLayout;return new So(e,this.beans,t,s,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map(t=>t.getRowNode())}getRowByPosition(e){let t;const{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find(n=>n.getRowNode().rowIndex===i)||null,t||(t=this.getStickyBottomRowCtrls().find(n=>n.getRowNode().rowIndex===i)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const n=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!n}},N3=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],Ci(this.entriesList,i)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],Ci(this.entriesList,e)}getEntries(){return this.entriesList}},_3=class extends ie{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new zD,this.pinnedBottomRows=new zD}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",e=>this.setPinnedRowData(e.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",e=>this.setPinnedRowData(e.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return(e==="top"?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=i=>{i.setRowHeight(i.rowHeight,!0)};this.pinnedBottomRows.forEach(t),this.pinnedTopRows.forEach(t)}}ensureRowHeightsValid(){var n,r;let e=!1,t=0;const i=s=>{if(s.rowHeightEstimated){const a=Rs(this.gos,s);s.setRowTop(t),s.setRowHeight(a.height),t+=a.height,e=!0}};return(n=this.pinnedBottomRows)==null||n.forEach(i),t=0,(r=this.pinnedTopRows)==null||r.forEach(i),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const i=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(e===void 0){i.clear();return}const n=xl(this.gos),r=t==="top"?Dr.ID_PREFIX_TOP_PINNED:Dr.ID_PREFIX_BOTTOM_PINNED,s=i.getIds(),a=[],u=new Set;let c=0,h=-1;for(const p of e){const g=(n==null?void 0:n({data:p,level:0,rowPinned:t}))??r+this.nextId++;if(u.has(g)){ue("Duplicate ID",g,"found for pinned row with data",p,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}h++,u.add(g),a.push(g);const m=i.getById(g);if(m!==void 0)m.data!==p&&m.setData(p),c+=this.setRowTopAndRowIndex(m,c,h),s.delete(g);else{const y=new Dr(this.beans);y.id=g,y.data=p,y.rowPinned=t,c+=this.setRowTopAndRowIndex(y,c,h),i.push(y)}}s.forEach(p=>{var g;(g=i.getById(p))==null||g.clearRowTopAndRowIndex()}),i.removeAllById(s),i.setOrder(a)}setRowTopAndRowIndex(e,t,i){return e.setRowTop(t),e.setRowHeight(Rs(this.gos,e).height),e.setRowIndex(i),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,t){return t==="top"?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,t){return e==="top"?this.pinnedTopRows.forEach(t):this.pinnedBottomRows.forEach(t)}getTotalHeight(e){const t=e.getSize();if(t===0)return 0;const i=e.getByIndex(t-1);return i===void 0?0:i.rowTop+i.rowHeight}},zD=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){const t=this.ordering[e];return this.cache[t]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(const t of e)delete this.cache[t];this.ordering=this.ordering.filter(t=>!e.has(t))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach((t,i)=>{const n=this.cache[t];n&&e(n,i)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return this.ordering.length===0}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}},k3=class extends ie{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,i){this.successCommon(e,{rowData:t,rowCount:i})}isRequestMostRecentAndLive(e){const t=e===this.version,i=this.isAlive();return t&&i}successCommon(e,t){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}dispatchLoadCompleted(e=!0){const t={type:"loadComplete",success:e,block:this};this.dispatchLocalEvent(t)}},G3=class extends ie{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=yi(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){const e=this.gos.get("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Ci(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),this.activeBlockLoadsCount==0&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.gos.get("debug")&&On("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.getAvailableLoadingCount(),t=this.blocks.filter(i=>i.getState()==="needsLoading").slice(0,e);this.registerLoads(t.length),t.forEach(i=>i.load()),this.printCacheStatus()}getBlockState(){if(er(this.gos))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(t=>{const{id:i,state:n}=t.getBlockStateJson();e[i]=n}),e}printCacheStatus(){this.gos.get("debug")&&On(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}},B3={version:Ae,moduleName:"@ag-grid-community/row-node-block",beans:[G3]},H3=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)}return this.cachedRange}isInRange(e){return this.root===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(){var e;return this.root&&((e=this.root)==null?void 0:e.key)===null&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){var e;return this.end&&((e=this.end)==null?void 0:e.key)===null&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const i=t[0].id===this.root.id,n=t.findIndex(r=>r.id===e.id);if(n>-1){const r=t.slice(0,n),s=t.slice(n+1);return this.setEndRange(e),i?{keep:r,discard:s}:{keep:s,discard:r}}else return{keep:t,discard:[]}}extend(e,t=!1){const i=this.getRoot();if(i==null){const r=this.getRange().slice();return t&&e.depthFirstSearch(s=>!s.group&&r.push(s)),r.push(e),this.setRoot(e),{keep:r,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(i,e).find(r=>{var s;return r.id===((s=this.end)==null?void 0:s.id)}))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const r=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:r}}}},V3=class extends ie{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,t,i,n){this.processClassRules(void 0,e.cellClassRules,t,i,n),this.processStaticCellClasses(e,t,i)}processClassRules(e,t,i,n,r){if(t==null&&e==null)return;const s={},a={},u=(c,h)=>{c.split(" ").forEach(p=>{p.trim()!=""&&h(p)})};if(t){const c=Object.keys(t);for(let h=0;h<c.length;h++){const p=c[h],g=t[p];let m;typeof g=="string"?m=this.expressionService.evaluate(g,i):typeof g=="function"&&(m=g(i)),u(p,y=>{m?s[y]=!0:a[y]=!0})}}e&&r&&Object.keys(e).forEach(c=>u(c,h=>{s[h]||(a[h]=!0)})),r&&Object.keys(a).forEach(r),Object.keys(s).forEach(n)}getStaticCellClasses(e,t){const{cellClass:i}=e;if(!i)return[];let n;return typeof i=="function"?n=i(t):n=i,typeof n=="string"&&(n=[n]),n||[]}processStaticCellClasses(e,t,i){this.getStaticCellClasses(e,t).forEach(r=>{i(r)})}},Xh=(e=>(e.TAB_GUARD="ag-tab-guard",e.TAB_GUARD_TOP="ag-tab-guard-top",e.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",e))(Xh||{}),x_=class extends ie{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:i,eBottomGuard:n,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:a,focusInnerElement:u,onFocusIn:c,onFocusOut:h,shouldStopEventPropagation:p,onTabKeyDown:g,handleKeyDown:m,eFocusableElement:y}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=n,this.providedFocusInnerElement=u,this.eFocusableElement=y,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!a,this.providedFocusIn=c,this.providedFocusOut=h,this.providedShouldStopEventPropagation=p,this.providedOnTabKeyDown=g,this.providedHandleKeyDown=m}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new _o(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){var c;const t=Pt(this.gos),i=this.focusService.findFocusableElements(t.body,null,!0),n=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(n===-1)return;let r,s;e?(r=0,s=n):(r=n+1,s=i.length);const a=i.slice(r,s),u=this.gos.get("tabIndex");a.sort((h,p)=>{const g=parseInt(h.getAttribute("tabindex")||"0"),m=parseInt(p.getAttribute("tabindex")||"0");return m===u?1:g===u?-1:g===0?1:m===0?-1:g-m}),(c=a[e?a.length-1:0])==null||c.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},j3=class extends ie{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:i,eFocusableElement:n}=this,r=[t,i],s={setTabIndex:w=>{r.forEach(S=>w!=null?S.setAttribute("tabindex",w):S.removeAttribute("tabindex"))}};this.addTabGuards(t,i);const{focusTrapActive:a=!1,onFocusIn:u,onFocusOut:c,focusInnerElement:h,handleKeyDown:p,onTabKeyDown:g,shouldStopEventPropagation:m,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:b}=e;this.tabGuardCtrl=this.createManagedBean(new x_({comp:s,focusTrapActive:a,eTopGuard:t,eBottomGuard:i,eFocusableElement:n,onFocusIn:u,onFocusOut:c,focusInnerElement:h,handleKeyDown:p,onTabKeyDown:g,shouldStopEventPropagation:m,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:b}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=Pt(this.gos).createElement("div"),i=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",i),Nn(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Xi(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,i){zx(t)||(t=t.getGui());const{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):e(t,i)}},z3=class extends ht{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new j3(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,i){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,i)}},W3=0,U3=200,$3=class extends ie{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:i}=e,n=this.getPopupIndex(i);if(n!==-1){const y=this.popupList[n];y.alignedToElement=t}const r=t.getBoundingClientRect(),s=this.getParentRect(),a=this.keepXYWithinBounds(i,r.top-s.top,0),u=i.clientWidth>0?i.clientWidth:200;i.style.minWidth=`${u}px`;const h=s.right-s.left-u;let p;this.gos.get("enableRtl")?(p=m(),p<0&&(p=g(),this.setAlignedStyles(i,"left")),p>h&&(p=0,this.setAlignedStyles(i,"right"))):(p=g(),p>h&&(p=m(),this.setAlignedStyles(i,"right")),p<0&&(p=0,this.setAlignedStyles(i,"left"))),i.style.left=`${p}px`,i.style.top=`${a}px`;function g(){return r.right-s.left-2}function m(){return r.left-s.left-u}}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:i,nudgeY:n,skipObserver:r}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:r,eventSource:s,alignSide:a="left",position:u="over",column:c,rowNode:h,type:p}=e,g=s.getBoundingClientRect(),m=this.getParentRect(),y=this.getPopupIndex(t);if(y!==-1){const w=this.popupList[y];w.alignedToElement=s}const b=()=>{let w=g.left-m.left;a==="right"&&(w-=t.offsetWidth-g.width);let S;return u==="over"?(S=g.top-m.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,g,m,e.nudgeY||0)==="under"?S=g.top-m.top+g.height:S=g.top-t.offsetHeight-(n||0)*2-m.top),{x:w,y:S}};this.positionPopup({ePopup:t,nudgeX:i,nudgeY:n,keepWithinBounds:r,updatePosition:b,postProcessCallback:()=>this.callPostProcessPopup(p,t,s,null,c,h)})}shouldRenderUnderOrAbove(e,t,i,n){const r=i.bottom-t.bottom,s=t.top-i.top,a=e.offsetHeight+n;return r>a?"under":s>a||s>r?"above":"under"}setAlignedStyles(e,t){const i=this.getPopupIndex(e);if(i===-1)return;const n=this.popupList[i],{alignedToElement:r}=n;!r||(["right","left","over","above","under"].forEach(a=>{r.classList.remove(`ag-has-popup-positioned-${a}`),e.classList.remove(`ag-popup-positioned-${a}`)}),!t)||(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,i,n,r,s){const a=this.gos.getCallback("postProcessPopup");a&&a({column:r,rowNode:s,ePopup:t,type:e,eventSource:i,mouseEvent:n})}positionPopup(e){const{ePopup:t,keepWithinBounds:i,nudgeX:n,nudgeY:r,skipObserver:s,updatePosition:a}=e,u={width:0,height:0},c=(h=!1)=>{let{x:p,y:g}=a();h&&t.clientWidth===u.width&&t.clientHeight===u.height||(u.width=t.clientWidth,u.height=t.clientHeight,n&&(p+=n),r&&(g+=r),i&&(p=this.keepXYWithinBounds(t,p,1),g=this.keepXYWithinBounds(t,g,0)),t.style.left=`${p}px`,t.style.top=`${g}px`,e.postProcessCallback&&e.postProcessCallback())};if(c(),!s){const h=this.resizeObserverService.observeResize(t,()=>c(!0));setTimeout(()=>h(),U3)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=Pt(this.gos);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),CN(t)}keepXYWithinBounds(e,t,i){const n=i===0,r=n?"clientHeight":"clientWidth",s=n?"top":"left",a=n?"height":"width",u=n?"scrollTop":"scrollLeft",c=Pt(this.gos),h=c.documentElement,p=this.getPopupParent(),g=e.getBoundingClientRect(),m=p.getBoundingClientRect(),y=c.documentElement.getBoundingClientRect(),b=p===c.body,w=Math.ceil(g[a]);let x=b?(n?yN:af)(h)+h[u]:p[r];b&&(x-=Math.abs(y[s]-m[s]));const E=x-w;return Math.min(Math.max(t,0),Math.abs(E))}addPopup(e){const t=Pt(this.gos),{eChild:i,ariaLabel:n,alwaysOnTop:r,positionCallback:s,anchorToElement:a}=e;if(!t)return ue("could not find the document, document is empty"),{hideFunc:()=>{}};const u=this.getPopupIndex(i);if(u!==-1)return{hideFunc:this.popupList[u].hideFunc};this.initialisePopupPosition(i);const c=this.createPopupWrapper(i,n,!!r),h=this.addEventListenersToPopup({...e,wrapperEl:c});return s&&s(),this.addPopupToPopupList(i,c,h,a),{hideFunc:h}}initialisePopupPosition(e){const i=this.getPopupParent().getBoundingClientRect();pe(e.style.top)||(e.style.top=`${i.top*-1}px`),pe(e.style.left)||(e.style.left=`${i.left*-1}px`)}createPopupWrapper(e,t,i){const n=this.getPopupParent(),r=document.createElement("div");return this.environment.applyThemeClasses(r),r.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Nn(e,"dialog"),Ka(e,t),r.appendChild(e),n.appendChild(r),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),r}handleThemeChange(e){if(e.themeChanged)for(const t of this.popupList)this.environment.applyThemeClasses(t.wrapper)}addEventListenersToPopup(e){const t=Pt(this.gos),i=this.getPopupParent(),{wrapperEl:n,eChild:r,closedCallback:s,afterGuiAttached:a,closeOnEsc:u,modal:c}=e;let h=!1;const p=b=>{if(!n.contains(wt(this.gos)))return;b.key===ee.ESCAPE&&!Pr(b)&&y({keyboardEvent:b})},g=b=>y({mouseEvent:b}),m=b=>y({touchEvent:b}),y=(b={})=>{const{mouseEvent:w,touchEvent:S,keyboardEvent:x,forceHide:E}=b;!E&&(this.isEventFromCurrentPopup({mouseEvent:w,touchEvent:S},r)||h)||(h=!0,i.removeChild(n),t.removeEventListener("keydown",p),t.removeEventListener("mousedown",g),t.removeEventListener("touchstart",m),t.removeEventListener("contextmenu",g),this.eventService.removeEventListener("dragStarted",g),s&&s(w||S||x),this.removePopupFromPopupList(r))};return a&&a({hidePopup:y}),window.setTimeout(()=>{u&&t.addEventListener("keydown",p),c&&(t.addEventListener("mousedown",g),this.eventService.addEventListener("dragStarted",g),t.addEventListener("touchstart",m),t.addEventListener("contextmenu",g))},0),y}addPopupToPopupList(e,t,i,n){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:W3++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const i=this.getPopupIndex(e);if(i===-1)return;const n=this.popupList[i];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then(s=>s&&s()),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;const r=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=r,n.isAnchored=!0,r}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:n,ePopup:r}=e,s=n.getBoundingClientRect(),a=g=>parseInt(g.substring(0,g.length-1),10),u=(g,m)=>{const y=i[g]-s[g],b=a(r.style[g]);return{initialDiff:y,lastDiff:y,initial:b,last:b,direction:m}},c=u("top",0),h=u("left",1),p=this.getFrameworkOverrides();return new At(g=>{p.wrapIncoming(()=>{p.setInterval(()=>{const m=t.getBoundingClientRect(),y=n.getBoundingClientRect();if(y.top==0&&y.left==0&&y.height==0&&y.width==0){e.hidePopup();return}const w=(S,x)=>{const E=a(r.style[x]);S.last!==E&&(S.initial=E,S.last=E);const R=m[x]-y[x];if(R!=S.lastDiff){const T=this.keepXYWithinBounds(r,S.initial+S.initialDiff-R,S.direction);r.style[x]=`${T}px`,S.last=T}S.lastDiff=R};w(c,"top"),w(h,"left")},200).then(m=>{g(()=>{m!=null&&window.clearInterval(m)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:i,touchEvent:n}=e,r=i||n;if(!r)return!1;const s=this.getPopupIndex(t);if(s===-1)return!1;for(let a=s;a<this.popupList.length;a++){const u=this.popupList[a];if(wz(u.element,r))return!0}return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){const t=Pt(this.gos);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){const t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=i.length,r=this.getWrapper(e);if(!r||n<=1||!t.contains(e))return;const s=[],a=[];for(const m of i)m!==r&&(m.classList.contains("ag-always-on-top")?a.push(m):s.push(m));const u=[],c=a.length,g=r.classList.contains("ag-always-on-top")||!c?[...s,...a,r]:[...s,r,...a];for(let m=0;m<=n;m++){const y=g[m];if(i[m]===g[m]||y===r)continue;y.querySelectorAll("div").forEach(w=>{w.scrollTop!==0&&u.push([w,w.scrollTop])}),m===0?t.insertAdjacentElement("afterbegin",y):g[m-1].insertAdjacentElement("afterend",y)}for(;u.length;){const m=u.pop();m[0].scrollTop=m[1]}}},q3=["touchstart","touchend","touchmove","touchcancel"],R_=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t()}setInterval(e,t){return new At(i=>{i(window.setInterval(e,t))})}addEventListener(e,t,i,n){const r=yo(q3,t);e.addEventListener(t,i,{capture:!!n,passive:r})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},K3=class extends ie{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const i=e===ee.UP,n=e===ee.DOWN,r=e===ee.LEFT;let s,a;if(i||n)a=i?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),s=t.column;else{const u=this.visibleColsService.getAllCols(),c=this.gos.get("enableRtl");a=t.rowIndex,s=r!==c?u[0]:Ve(u)}return{rowIndex:a,rowPinned:null,column:s}}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,n=!1;for(;!n;){switch(e){case ee.UP:i=this.getCellAbove(i);break;case ee.DOWN:i=this.getCellBelow(i);break;case ee.RIGHT:this.gos.get("enableRtl")?i=this.getCellToLeft(i):i=this.getCellToRight(i);break;case ee.LEFT:this.gos.get("enableRtl")?i=this.getCellToRight(i):i=this.getCellToLeft(i);break;default:i=null,ue("unknown key for navigation ",e);break}i?n=this.isCellGoodToFocusOn(i):n=!0}return i}isCellGoodToFocusOn(e){const t=e.column;let i;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex);break}return i?!t.isSuppressNavigable(i):!1}getCellToLeft(e){if(!e)return null;const t=this.visibleColsService.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.visibleColsService.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,i=e.rowPinned;let n=!1;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else i&&(n=!0);const r=this.rowModel.getRow(e.rowIndex),s=n?void 0:this.getNextStickyPosition(r);return s||{rowIndex:t+1,rowPinned:i}}getNextStickyPosition(e,t){if(!fp(this.gos)||!e||!e.sticky)return;const i=this.rowRenderer.getStickyTopRowCtrls().some(u=>u.getRowNode().rowIndex===e.rowIndex);let n=[];i?n=[...this.rowRenderer.getStickyTopRowCtrls()].sort((u,c)=>u.getRowNode().rowIndex-c.getRowNode().rowIndex):n=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((u,c)=>c.getRowNode().rowIndex-u.getRowNode().rowIndex);const r=t?-1:1,s=n.findIndex(u=>u.getRowNode().rowIndex===e.rowIndex),a=n[s+r];if(a)return{rowIndex:a.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,i=e.rowIndex;return t==="top"?this.pinnedRowModel.getPinnedTopRowCount()-1<=i:t==="bottom"?this.pinnedRowModel.getPinnedBottomRowCount()-1<=i:this.pageBoundsService.getLastRow()<=i}getRowAbove(e){const t=e.rowIndex,i=e.rowPinned,n=i?t===0:t===this.pageBoundsService.getFirstRow();let r=!1;if(n)return i==="top"?null:i?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;i&&(r=!0);const s=this.rowModel.getRow(e.rowIndex),a=r?void 0:this.getNextStickyPosition(s,!0);return a||{rowIndex:t-1,rowPinned:i}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){var s;const t=this.visibleColsService.getAllCols();let i=e.rowIndex,n=e.rowPinned,r=this.visibleColsService.getColAfter(e.column);if(!r){r=t[0];const a=this.getRowBelow(e);if(je(a)||!a.rowPinned&&!(((s=this.paginationService)==null?void 0:s.isRowInPage(a))??!0))return null;i=a?a.rowIndex:null,n=a?a.rowPinned:null}return{rowIndex:i,column:r,rowPinned:n}}getNextTabbedCellBackwards(e){var s;const t=this.visibleColsService.getAllCols();let i=e.rowIndex,n=e.rowPinned,r=this.visibleColsService.getColBefore(e.column);if(!r){r=Ve(t);const a=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(je(a)||!a.rowPinned&&!(((s=this.paginationService)==null?void 0:s.isRowInPage(a))??!0))return null;i=a?a.rowIndex:null,n=a?a.rowPinned:null}return{rowIndex:i,column:r,rowPinned:n}}},pi=(e,t)=>{for(const i in t)t[i]=e;return t},WD={...pi("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...pi("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...pi("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...pi("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...pi("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...pi("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...pi("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...pi("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...pi("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...pi("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...pi("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...pi("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...pi("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...pi("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...pi("@ag-grid-enterprise/status-bar",{getStatusPanel:0})},_v={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},Y3=(e,t)=>e.eventService.dispatchEvent(t),E_=class{};Reflect.defineProperty(E_,"name",{value:"GridApi"});var X3=class extends ie{constructor(){super(),this.beanName="apiFunctionService",this.api=new E_,this.fns={..._v,dispatchEvent:Y3},this.beans=null,this.preDestroyLink="";const{api:e}=this;for(const t in WD)e[t]=this.makeApi(t)[t]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var r;const{fns:i,beans:n}=this;i!==_v&&(i[e]=((r=n==null?void 0:n.validationService)==null?void 0:r.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:i,fns:{[e]:n}}=this;return n?n(i,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:i,preDestroyLink:n}=this;if(!t)ue(`Grid API function ${e}() cannot be called as the grid has been destroyed.
Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${n}`);else{const r=WD[e];i.assertModuleRegistered(r,`api.${e}`)&&ue(`API function '${e}' not registered to module '${r}'`)}}destroy(){super.destroy(),this.fns=_v,this.beans=null}};function Q3(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var Z3=class extends ie{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,t,i){const n=[],r={};return e.forEach(s=>{const a=this.createDefFromColumn(s,t,i);let u=!0,c=a,h=s.getOriginalParent(),p=null;for(;h;){let g=null;if(h.isPadding()){h=h.getOriginalParent();continue}const m=r[h.getGroupId()];if(m){m.children.push(c),u=!1;break}if(g=this.createDefFromGroup(h),g&&(g.children=[c],r[g.groupId]=g,c=g,h=h.getOriginalParent()),h!=null&&p===h){u=!1;break}p=h}u&&n.push(c)}),n}createDefFromGroup(e){const t=qb(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,i){const n=qb(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?i.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=e.isVisible()?void 0:!0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,n}},J3=class extends ie{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(e){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:e})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:e.length===1?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,t){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:e.length===1?e[0]:null,source:t})}genericColumnEvent(e,t,i){this.eventService.dispatchEvent({type:e,columns:t,column:t.length===1?t[0]:null,source:i})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){const{movedColumns:t,source:i,toIndex:n,finished:r}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:t,column:t&&t.length===1?t[0]:null,toIndex:n,finished:r,source:i})}columnPinned(e,t){if(!e.length)return;const i=e.length===1?e[0]:null,n=this.getCommonValue(e,r=>r.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:n??null,columns:e,column:i,source:t})}columnVisible(e,t){if(!e.length)return;const i=e.length===1?e[0]:null,n=this.getCommonValue(e,r=>r.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:n,columns:e,column:i,source:t})}getCommonValue(e,t){if(!e||e.length==0)return;const i=t(e[0]);for(let n=1;n<e.length;n++)if(i!==t(e[n]))return;return i}columnChanged(e,t,i){this.eventService.dispatchEvent({type:e,columns:t,column:t&&t.length==1?t[0]:null,source:i})}columnResized(e,t,i,n=null){e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:e.length===1?e[0]:null,flexColumns:n,finished:t,source:i})}},eq=class extends ie{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){const e=this.columnModel.getColDefCols();if(je(e)||!this.columnModel.isAlive())return[];const i=this.columnModel.getAllCols().map(n=>this.createStateItemFromColumn(n));return this.orderColumnStateList(i),i}createStateItemFromColumn(e){const t=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns(),n=e.isRowGroupActive()?t.indexOf(e):null,r=e.isPivotActive()?i.indexOf(e):null,s=e.isValueActive()?e.getAggFunc():null,a=e.getSort()!=null?e.getSort():null,u=e.getSortIndex()!=null?e.getSortIndex():null,c=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:a,sortIndex:u,aggFunc:s,rowGroup:e.isRowGroupActive(),rowGroupIndex:n,pivot:e.isPivotActive(),pivotIndex:r,flex:c}}orderColumnStateList(e){const t=this.columnModel.getCols(),i=new Map(t.map((n,r)=>[n.getColId(),r]));e.sort((n,r)=>{const s=i.has(n.colId)?i.get(n.colId):-1,a=i.has(r.colId)?i.get(r.colId):-1;return s-a})}},tq=class extends ie{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){const e=[],t=this.columnModel.getColTree();return Or(null,t,i=>{mi(i)&&e.push({groupId:i.getGroupId(),open:i.isExpanded()})}),e}resetColumnGroupState(e){const t=this.columnModel.getColDefColTree();if(!t)return;const i=[];Or(null,t,n=>{if(mi(n)){const r=n.getColGroupDef(),s={groupId:n.getGroupId(),open:r?r.openByDefault:void 0};i.push(s)}}),this.setColumnGroupState(i,e)}setColumnGroupState(e,t){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const n=[];e.forEach(r=>{const s=r.groupId,a=r.open,u=this.columnModel.getProvidedColGroup(s);u&&u.isExpanded()!==a&&(u.setExpanded(a),n.push(u))}),this.visibleColsService.refresh(t,!0),n.length&&this.eventDispatcher.groupOpened(n),this.columnAnimationService.finish()}},iq=class extends ie{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,i=!1){const n=this.visibleColsService.isBodyWidthDirty();if(!(e===this.scrollWidth&&t===this.scrollPosition&&!n)){if(this.scrollWidth=e,this.scrollPosition=t,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const s=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=s-this.scrollPosition-this.scrollWidth,this.viewportRight=s-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(i)}}getHeadersToRender(e,t){let i;switch(e){case"left":i=this.rowsOfHeadersToRenderLeft[t];break;case"right":i=this.rowsOfHeadersToRenderRight[t];break;default:i=this.rowsOfHeadersToRenderCenter[t];break}return i||[]}extractViewportColumns(){const e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||this.isAnyParentAutoHeaderHeight(e)?!0:this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,i=t+e.getActualWidth(),n=this.viewportLeft-200,r=this.viewportRight+200,s=t<n&&i<n,a=t>r&&i>r;return!s&&!a}getViewportColumns(){const e=this.visibleColsService.getLeftCols(),t=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const t=r=>{const s=r.getLeft();return pe(s)&&s>this.viewportLeft},i=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),n=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,n,i,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const e={},t=this.visibleColsService.getLeftCols(),i=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(t).concat(i).forEach(s=>e[s.getId()]=!0);const r=(s,a,u)=>{let c=!1;for(let h=0;h<s.length;h++){const p=s[h];let g=!1;if(Es(p))g=e[p.getId()]===!0;else{const y=p.getDisplayedChildren();y&&(g=r(y,a,u+1))}g&&(c=!0,a[u]||(a[u]=[]),a[u].push(p))}return c};r(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),r(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),r(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=n=>`${n.getId()}-${n.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),i=this.colsWithinViewportHash!==t;return i&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),i}},nq=class extends ie{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,t){const i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(t):null}adaptCellRendererFunction(e){class t{refresh(){return!1}getGui(){return this.eGui}init(n){const r=e(n),s=typeof r;if(s==="string"||s==="number"||s==="boolean"){this.eGui=mc("<span>"+r+"</span>");return}if(r==null){this.eGui=mc("<span></span>");return}this.eGui=r}}return t}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}},rq=class extends ie{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},sq=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"],UD=Object.fromEntries(sq.map((e,t)=>[e,t]));function oq(e,t){const i=(e.beanName?UD[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,n=(t.beanName?UD[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return i-n}function aq(e,t){return(e==null?void 0:e.beanName)==="gridDestroyService"?-1:0}var lq=class extends ie{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e,...t){const i=this.registry[e];if(i!=null)return new i(...t)}},uq=class extends ie{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0},this.ready=!1,this.readyCallbacks=[],this.runReadyCallbacksAsync=!1}wireBeans(e){var t,i;this.runReadyCallbacksAsync=((i=(t=e.frameworkOverrides).runWhenReadyAsync)==null?void 0:i.call(t))??!1}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every(e=>(e==null?void 0:e.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const i=this.readyCallbacks.indexOf(t);i>=0&&this.readyCallbacks.splice(i,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:i}=this.params;return[e,i,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}},cq=class extends ie{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){const{rowIndex:t,rowPinned:i,column:n}=e;return this.createIdFromValues({rowIndex:t,column:n,rowPinned:i})}createIdFromValues(e){const{rowIndex:t,rowPinned:i,column:n}=e;return`${t}.${i??"null"}.${n.getId()}`}equals(e,t){const i=e.column===t.column,n=e.rowPinned===t.rowPinned,r=e.rowIndex===t.rowIndex;return i&&n&&r}},dq=class extends ie{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){vt(this.gos)&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);const i=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(n=>this.eventService.dispatchEvent(n)),this.events=[]};t?i():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced())}},hq=class extends ie{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let e=0,t;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),t===void 0?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const i=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return i?(t="bottom",e=i-1):this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getLastRow()):n&&(t="top",e=n-1),e===void 0?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(pe(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}},$D={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},qD={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},KD={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},fq=class extends ie{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.ancestorThemeClasses=[],this.sizesMeasured=!1,this.gridTheme=null}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addDestroyFunc(()=>this.stopUsingTheme()),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.ancestorThemeClasses=this.readAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl($D),this.getSizeEl(qD),this.getSizeEl(KD)}getDefaultRowHeight(){return this.getCSSVariablePixelValue($D)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(qD)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(KD)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){var e;return((e=this.gridTheme)==null?void 0:e.getCssClass())||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(e){const t=this.getThemeClasses();for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&!t.includes(i)&&e.classList.remove(i);e.classList.add(...t)}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(t==null||isNaN(t)||!isFinite(t))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const i=`${t}px`;return e!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),t):e!=""?parseFloat(e):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const i=this.measureSizeEl(e);return i==="detached"||i==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,i),i)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const i=t.offsetWidth;return i===YD?"no-styles":(this.sizesMeasured=!0,i)}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let i=this.eMeasurementContainer;i||(i=this.eMeasurementContainer=document.createElement("div"),i.className="ag-measurement-container",this.gos.get("theme")&&this.applyThemeClasses(i),this.eGridDiv.appendChild(i)),t=document.createElement("div"),t.style.width=`var(${e.cssName}, ${YD}px)`,i.appendChild(t),this.sizeEls.set(e,t);let n=this.measureSizeEl(e);n==="no-styles"&&ue(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);const r=this.resizeObserverService.observeResize(t,()=>{const s=this.measureSizeEl(e);s==="detached"||s==="no-styles"||(this.lastKnownValues.set(e,s),s!==n&&(n=s,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>r()),t}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){const e=new MutationObserver(()=>{const i=this.readAncestorThemeClasses();pq(i,this.ancestorThemeClasses)||(this.ancestorThemeClasses=i,this.fireGridStylesChangedEvent("themeChanged"))});let t=this.eGridDiv;for(;t;)e.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement;this.addDestroyFunc(()=>e.disconnect())}readAncestorThemeClasses(){let e=this.eGridDiv;const t=[];for(;e;){const i=Array.from(e.classList).filter(n=>n.startsWith("ag-theme-"));for(const n of i)t.includes(n)||t.unshift(n);e=e.parentElement}return Object.freeze(t)}handleThemeGridOptionChange(){const{gos:e,eMeasurementContainer:t,gridTheme:i}=this,n=e.get("theme")||null;n!==i&&(i==null||i.stopUse(),this.gridTheme=n,n==null||n.startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:this.eGridDiv}),t&&this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged"))}stopUsingTheme(){var e;(e=this.gridTheme)==null||e.stopUse(),this.gridTheme=null}},pq=(e,t)=>e.length===t.length&&e.findIndex((i,n)=>e[n]!==t[n])===-1,YD=15538,gq=class extends ie{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new wl}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const e=ef(this.gos);this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,t,i){this.globalEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.globalEventService.removeEventListener(e,t,i)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},o0=class dn extends ie{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(t){this.eGridDiv=t.eGridDiv,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.headerNavigationService=t.headerNavigationService,this.headerPositionUtils=t.headerPositionUtils,this.rowRenderer=t.rowRenderer,this.rowPositionUtils=t.rowPositionUtils,this.cellPositionUtils=t.cellPositionUtils,this.navigationService=t.navigationService,this.ctrlsService=t.ctrlsService,this.filterManager=t.filterManager,this.rangeService=t.rangeService,this.advancedFilterService=t.advancedFilterService,this.overlayService=t.overlayService}static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",dn.toggleKeyboardMode),t.addEventListener("mousedown",dn.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.removeEventListener("keydown",dn.toggleKeyboardMode),t.removeEventListener("mousedown",dn.toggleKeyboardMode))}static toggleKeyboardMode(t){const i=dn.keyboardModeActive,n=t.type==="keydown";n&&(t.ctrlKey||t.metaKey||t.altKey)||i!==n&&(dn.keyboardModeActive=n)}postConstruct(){const t=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:t,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:t,columnRowGroupChanged:t}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(this,i=>{this.gridCtrl=i.gridCtrl})}registerKeyboardFocusEvents(){const t=Pt(this.gos);dn.addKeyboardModeEvents(t),dn.instanceCount++,this.addDestroyFunc(()=>{dn.instanceCount--,dn.removeKeyboardModeEvents(t)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const t=this.focusedCellPosition.column,i=this.columnModel.getCol(t.getId());t!==i&&this.clearFocusedCell()}isKeyboardMode(){return dn.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(wt(this.gos),So.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(wt(this.gos),Cp.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(t,i){let n=t;for(;n;){if(cc(this.gos,n,i))return!1;n=n.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(t){return this.isCellRestoreFocused(t)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(t,i){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(t),i())})}isCellRestoreFocused(t){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.restoredFocusedCellPosition)}setRestoreFocusedCell(t){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=t)}getFocusEventParams(t){const{rowIndex:i,rowPinned:n,column:r}=t,s={rowIndex:i,rowPinned:n,column:r,isFullWidthCell:!1},a=this.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:n});return a&&(s.isFullWidthCell=a.isFullWidth()),s}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const t=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent({type:"cellFocusCleared",...t})}setFocusedCell(t){const{column:i,rowIndex:n,rowPinned:r,forceBrowserFocus:s=!1,preventScrollOnBrowserFocus:a=!1}=t,u=this.columnModel.getCol(i);if(!u){this.focusedCellPosition=null;return}this.focusedCellPosition={rowIndex:n,rowPinned:Ar(r),column:u},this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:s,preventScrollOnBrowserFocus:a})}isCellFocused(t){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.focusedCellPosition)}isRowNodeFocused(t){return this.isRowFocused(t.rowIndex,t.rowPinned)}isHeaderWrapperFocused(t){if(this.focusedHeaderPosition==null)return!1;const i=t.getColumnGroupChild(),n=t.getRowIndex(),r=t.getPinned(),{column:s,headerRowIndex:a}=this.focusedHeaderPosition;return i===s&&n===a&&r==s.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(t,i){this.focusedHeaderPosition={headerRowIndex:t,column:i}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(t){var h;if(this.isHeaderFocusSuppressed())return!1;const{direction:i,fromTab:n,allowUserOverride:r,event:s,fromCell:a,rowWithoutSpanValue:u}=t;let{headerPosition:c}=t;if(a&&((h=this.filterManager)!=null&&h.isAdvancedFilterHeaderActive()))return this.focusAdvancedFilter(c);if(r){const p=this.getFocusedHeader(),g=this.headerNavigationService.getHeaderRowCount();if(n){const m=this.gos.getCallback("tabToNextHeader");m&&(c=this.getHeaderPositionFromUserFunc({userFunc:m,direction:i,currentPosition:p,headerPosition:c,headerRowCount:g}))}else{const m=this.gos.getCallback("navigateToNextHeader");if(m&&s){const y={key:s.key,previousHeaderPosition:p,nextHeaderPosition:c,headerRowCount:g,event:s};c=m(y)}}}return c?this.focusProvidedHeaderPosition({headerPosition:c,direction:i,event:s,fromCell:a,rowWithoutSpanValue:u}):!1}focusHeaderPositionFromUserFunc(t){if(this.isHeaderFocusSuppressed())return!1;const{userFunc:i,headerPosition:n,direction:r,event:s}=t,a=this.getFocusedHeader(),u=this.headerNavigationService.getHeaderRowCount(),c=this.getHeaderPositionFromUserFunc({userFunc:i,direction:r,currentPosition:a,headerPosition:n,headerRowCount:u});return!!c&&this.focusProvidedHeaderPosition({headerPosition:c,direction:r,event:s})}getHeaderPositionFromUserFunc(t){const{userFunc:i,direction:n,currentPosition:r,headerPosition:s,headerRowCount:a}=t,c=i({backwards:n==="Before",previousHeaderPosition:r,nextHeaderPosition:s,headerRowCount:a});return c===!0||c===null?(c===null&&ue("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),r):c===!1?null:c}focusProvidedHeaderPosition(t){var g;const{headerPosition:i,direction:n,fromCell:r,rowWithoutSpanValue:s,event:a}=t,{column:u,headerRowIndex:c}=i;if(c===-1)return(g=this.filterManager)!=null&&g.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(i):this.focusGridView(u);this.headerNavigationService.scrollToColumn(u,n);const h=this.ctrlsService.getHeaderRowContainerCtrl(u.getPinned()),p=(h==null?void 0:h.focusHeader(i.headerRowIndex,u,a))||!1;return p&&(s!=null||r)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(s??-1),p}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let t=this.visibleColsService.getAllCols()[0];if(!t)return!1;t.getParent()&&(t=this.visibleColsService.getColGroupAtLevel(t,0));const i=this.headerPositionUtils.getHeaderIndexToFocus(t,0);return this.focusHeaderPosition({headerPosition:i,rowWithoutSpanValue:0})}focusLastHeader(t){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;const i=this.headerNavigationService.getHeaderRowCount()-1,n=Ve(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:n},rowWithoutSpanValue:-1,event:t})}focusPreviousFromFirstCell(t){var i;return(i=this.filterManager)!=null&&i.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(t)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(t,i){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===Ar(i)}findFocusableElements(t,i,n=!1){const r=u2;let s=vN;i&&(s+=", "+i),n&&(s+=', [tabindex="-1"]');const a=Array.prototype.slice.apply(t.querySelectorAll(r)).filter(h=>Qn(h)),u=Array.prototype.slice.apply(t.querySelectorAll(s));return u.length?((h,p)=>h.filter(g=>p.indexOf(g)===-1))(a,u):a}focusInto(t,i=!1,n=!1){const r=this.findFocusableElements(t,null,n),s=i?Ve(r):r[0];return s?(s.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(t,i){if(!i)return null;const n=this.findFocusableElements(t),r=n.indexOf(i);if(r===-1)return null;let s=-1;for(let a=r-1;a>=0;a--)if(n[a].classList.contains("ag-tab-guard-top")){s=a;break}return s<=0?null:n[s-1]}findNextFocusableElement(t=this.eGridDiv,i,n){const r=this.findFocusableElements(t,i?':not([tabindex="-1"])':null),s=wt(this.gos);let a;i?a=r.findIndex(c=>c.contains(s)):a=r.indexOf(s);const u=a+(n?-1:1);return u<0||u>=r.length?null:r[u]}isTargetUnderManagedComponent(t,i){if(!i)return!1;const n=t.querySelectorAll(`.${_o.FOCUS_MANAGED_CLASS}`);if(!n.length)return!1;for(let r=0;r<n.length;r++)if(n[r].contains(i))return!0;return!1}findTabbableParent(t,i=5){let n=0;for(;t&&Zb(t)===null&&++n<=i;)t=t.parentElement;return Zb(t)===null?null:t}focusOverlay(t){var n;const i=this.overlayService.isVisible()&&((n=this.overlayService.getOverlayWrapper())==null?void 0:n.getGui());return!!i&&this.focusInto(i,t)}focusGridViewFailed(t,i){return i&&this.focusOverlay(t)||t&&this.focusLastHeader()}focusGridView(t,i=!1,n=!0){var s,a;if(this.overlayService.isExclusive())return n&&this.focusOverlay(i);if(this.isCellFocusSuppressed())return i&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():n&&this.focusOverlay(i)?!0:this.focusNextGridCoreContainer(!1);const r=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(r){const{rowIndex:u,rowPinned:c}=r;if(t??(t=(s=this.getFocusedHeader())==null?void 0:s.column),t&&u!==void 0&&u!==null){if(this.navigationService.ensureCellVisible({rowIndex:u,column:t,rowPinned:c}),i){const h=this.rowRenderer.getRowByPosition(r);if(h!=null&&h.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(r,i))return!0}return this.setFocusedCell({rowIndex:u,column:t,rowPinned:Ar(c),forceBrowserFocus:!0}),(a=this.rangeService)==null||a.setRangeToCell({rowIndex:u,rowPinned:c,column:t}),!0}}return!!(n&&this.focusOverlay(i)||i&&this.focusLastHeader())}isGridFocused(){const t=wt(this.gos);return!!t&&this.eGridDiv.contains(t)}focusNextGridCoreContainer(t,i=!1){return!i&&this.gridCtrl.focusNextInnerContainer(t)?!0:((i||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)}focusAdvancedFilter(t){var i;return this.advancedFilterFocusColumn=t==null?void 0:t.column,((i=this.advancedFilterService)==null?void 0:i.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(t,i){var r;const n=(i?void 0:this.advancedFilterFocusColumn)??((r=this.visibleColsService.getAllCols())==null?void 0:r[0]);return t?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(n)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(t){this.gridCtrl.addFocusableContainer(t)}removeFocusableContainer(t){this.gridCtrl.removeFocusableContainer(t)}focusGridInnerElement(t){return this.gridCtrl.focusInnerElement(t)}allowFocusForNextGridCoreContainer(t){this.gridCtrl.allowFocusForNextCoreContainer(t)}};o0.keyboardModeActive=!1;o0.instanceCount=0;var mq=o0,vq=class extends ie{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=ri(this.gos,"print"),t=e?0:this.visibleColsService.getColsLeftWidth(),i=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},yq=class extends ie{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDropService:n,mouseEventService:r,ctrlsService:s,resizeObserverService:a}=this.beans,u={getContainer:()=>this.eGui,isInterestedIn:h=>h===1||h===0,getIconName:()=>"notAllowed"};n.addDropTarget(u),this.addDestroyFunc(()=>n.removeDropTarget(u)),r.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new s0(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),this.updateGridThemeClass(),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});const c=a.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>c()),s.register("gridCtrl",this)}isDetailGrid(){var t;const e=this.focusService.findTabbableParent(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,i,n,r,s;const e=this.beans;return{paginationSelector:(t=e.paginationService)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:(i=e.columnDropZonesService)==null?void 0:i.getDropZoneSelector(),sideBarSelector:(n=e.sideBarService)==null?void 0:n.getSideBarSelector(),statusBarSelector:(r=e.statusBarService)==null?void 0:r.getStatusPanelSelector(),watermarkSelector:(s=e.licenseManager)==null?void 0:s.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:i,nextIndex:n}=this.getNextFocusableIndex(t,e);if(n<0||n>=t.length)return!1;if(n===0){if(i>0){const r=this.visibleColsService.getAllCols(),s=Ve(r);if(this.focusService.focusGridView(s,!0))return!0}return!1}return this.focusContainer(t[n],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const i=this.getFocusableContainers(),n=this.visibleColsService.getAllCols();if(e){if(i.length>1)return this.focusContainer(Ve(i),!0);const r=Ve(n);if(this.focusService.focusGridView(r,!0))return!0}if(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(n[0]))return!0;for(let r=1;r<i.length;r++)if(this.focusService.focusInto(i[r].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var s;const t=this.view.getFocusableContainers(),{nextIndex:i,indexWithFocus:n}=this.getNextFocusableIndex(t,e);if(n===-1||i<0||i>=t.length)return;const r=t[i];(s=r.setAllowFocus)==null||s.call(r,!0),setTimeout(()=>{var a;(a=r.setAllowFocus)==null||a.call(r,!1)})}getNextFocusableIndex(e,t){const i=wt(this.gos),n=e.findIndex(s=>s.getGui().contains(i)),r=n+(t?-1:1);return{indexWithFocus:n,nextIndex:r}}focusContainer(e,t){var n,r;(n=e.setAllowFocus)==null||n.call(e,!0);const i=this.focusService.focusInto(e.getGui(),t);return(r=e.setAllowFocus)==null||r.call(e,!1),i}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){const e=this.beans.environment.getGridThemeClass();e&&this.view.setGridThemeClass(e)}handleThemeChange(e){e.themeChanged&&this.updateGridThemeClass()}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},Cq=class extends ie{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";typeof e=="function"&&(e=e());const i=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(r=>{var a;if(!r){Qe("alignedGrids contains an undefined option."),t||Qe(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),Qe(i());return}if(this.isGridApi(r))return r;const s=r;return"current"in s?(a=s.current)==null?void 0:a.api:(s.api||Qe(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${i()}`),s.api)}).filter(r=>!!r&&!r.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const i=[];return e.columns?e.columns.forEach(n=>{i.push(t(n))}):e.column&&i.push(t(e.column)),i}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":ue("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){const{columnModel:t}=this;e.columnGroups.forEach(i=>{let n=null;i&&(n=t.getProvidedColGroup(i.getGroupId())),!(i&&!n)&&t.setColumnGroupOpened(n,i.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var h;const t=e.column;let i=null;if(t&&(i=this.columnModel.getColDefCol(t.getColId())),t&&!i)return;const n=this.getMasterColumns(e),{columnApplyStateService:r,columnSizeService:s,ctrlsService:a}=this;switch(e.type){case"columnMoved":{const g=e.api.getColumnState().map(m=>({colId:m.colId}));r.applyColumnState({state:g,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const g=e.api.getColumnState().map(m=>({colId:m.colId,hide:m.hide}));r.applyColumnState({state:g},"alignedGridChanged")}break;case"columnPinned":{const g=e.api.getColumnState().map(m=>({colId:m.colId,pinned:m.pinned}));r.applyColumnState({state:g},"alignedGridChanged")}break;case"columnResized":{const p=e,g={};n.forEach(m=>{g[m.getId()]={key:m.getColId(),newWidth:m.getActualWidth()}}),(h=p.flexColumns)==null||h.forEach(m=>{g[m.getId()]&&delete g[m.getId()]}),s.setColumnWidths(Object.values(g),!1,p.finished,"alignedGridChanged");break}}const c=a.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(p=>{p.setGridOption("alwaysShowVerticalScroll",c)})}},Sq={version:Ae,moduleName:"@ag-grid-community/aligned-grid",beans:[Cq]};function bq(e,t){const i=e.columnModel.getColDefCol(t);return i?i.getColDef():null}function wq(e){return e.columnModel.getColumnDefs()}function xq(e,t){typeof t=="number"?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)}function Rq(e,t,i){e.columnModel.setColumnGroupOpened(t,i,"api")}function Eq(e,t,i){return e.visibleColsService.getColumnGroup(t,i)}function Aq(e,t){return e.columnModel.getProvidedColGroup(t)}function Pq(e,t,i){return e.columnNameService.getDisplayNameForColumn(t,i)||""}function Dq(e,t,i){return e.columnNameService.getDisplayNameForColumnGroup(t,i)||""}function Tq(e,t){return e.columnModel.getColDefCol(t)}function Mq(e){return e.columnModel.getColDefCols()}function Fq(e,t){return e.columnApplyStateService.applyColumnState(t,"api")}function Oq(e){return e.columnGetStateService.getColumnState()}function Lq(e){e.columnApplyStateService.resetColumnState("api")}function Iq(e){return e.columnGroupStateService.getColumnGroupState()}function Nq(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")}function _q(e){e.columnGroupStateService.resetColumnGroupState("api")}function kq(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()}function Gq(e){return e.visibleColsService.isPinningLeft()}function Bq(e){return e.visibleColsService.isPinningRight()}function Hq(e,t){return e.visibleColsService.getColAfter(t)}function Vq(e,t){return e.visibleColsService.getColBefore(t)}function jq(e,t,i){e.columnModel.setColsVisible([t],i,"api")}function zq(e,t,i){e.columnModel.setColsVisible(t,i,"api")}function Wq(e,t,i){e.columnModel.setColsPinned([t],i,"api")}function Uq(e,t,i){e.columnModel.setColsPinned(t,i,"api")}function $q(e){return e.columnModel.getCols()}function qq(e){return e.visibleColsService.getLeftCols()}function Kq(e){return e.visibleColsService.getCenterCols()}function Yq(e){return e.visibleColsService.getRightCols()}function Xq(e){return e.visibleColsService.getAllCols()}function Qq(e){return e.columnViewportService.getViewportColumns()}function Zq(e,t,i){e.columnMoveService.moveColumns([t],i,"api")}function Jq(e,t,i){e.columnMoveService.moveColumnByIndex(t,i,"api")}function e5(e,t,i){e.columnMoveService.moveColumns(t,i,"api")}function t5(e,t,i,n=!0,r="api"){e.columnSizeService.setColumnWidths([{key:t,newWidth:i}],!1,n,r)}function i5(e,t,i=!0,n="api"){e.columnSizeService.setColumnWidths(t,!1,i,n)}function n5(e){return e.visibleColsService.getTreeLeft()}function r5(e){return e.visibleColsService.getTreeCenter()}function s5(e){return e.visibleColsService.getTreeRight()}function o5(e){return e.visibleColsService.getAllTrees()}function a5(e,t,i){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:i,source:"api"})}function l5(e,t,i){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:i,source:"api"})}function u5(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}var c5=class extends ie{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService,this.filterManager=e.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(oo(e.source))})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const t=n=>r=>{const{column:s,node:a,value:u}=r;let c=s.getColDef().valueFormatter;return c===n.groupSafeValueFormatter&&(c=n.valueFormatter),this.valueService.formatValue(s,a,u,c)};Object.entries(e).forEach(([n,r])=>{const s={...r,groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)};this.dataTypeDefinitions[n]=s,this.formatValueFuncs[n]=t(s)});const i=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(i).forEach(([n,r])=>{const s=this.processDataTypeDefinition(r,i,[n],e);s&&(this.dataTypeDefinitions[n]=s,r.dataTypeMatcher&&(this.dataTypeMatchers[n]=r.dataTypeMatcher),this.formatValueFuncs[n]=t(s))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(n=>{const r=this.dataTypeMatchers[n];r&&delete this.dataTypeMatchers[n],this.dataTypeMatchers[n]=r??e[n].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const i={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...Yh(e.columnTypes),...Yh(t.columnTypes)]),i}processDataTypeDefinition(e,t,i,n){let r;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let a=n[s];const u=t[s];if(a&&u&&(a=u),!this.validateDataTypeDefinition(e,a,s))return;r=this.mergeDataTypeDefinitions(a,e)}else{if(i.includes(s)){ue('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const a=t[s];if(!this.validateDataTypeDefinition(e,a,s))return;const u=this.processDataTypeDefinition(a,t,[...i,s],n);if(!u)return;r=this.mergeDataTypeDefinitions(u,e)}return{...r,groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)}}validateDataTypeDefinition(e,t,i){return t?t.baseDataType!==e.baseDataType?(ue('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(ue(`The data type definition ${i} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var i,n;if((i=t.node)!=null&&i.group){const r=(t.colDef.pivotValueColumn??t.column).getAggFunc();if(r){if(r==="first"||r==="last")return e.valueFormatter(t);if(e.baseDataType==="number"&&r!=="count"){if(typeof t.value=="number")return e.valueFormatter(t);if(typeof t.value=="object"){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter({...t,value:t.value.toNumber()});if("value"in t.value)return e.valueFormatter({...t,value:t.value.value})}}return}if((this.gos.get("suppressGroupMaintainValueType")||this.gos.get("groupDisplayType")==="groupRows")&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()&&typeof t.value=="string"&&!((n=e.dataTypeMatcher)!=null&&n.call(e,t.value)))return;return e.valueFormatter(t)}}updateColDefAndGetColumnType(e,t,i){let{cellDataType:n}=t;const{field:r}=t;if(n===void 0&&(n=e.cellDataType),(n==null||n===!0)&&(n=this.canInferCellDataType(e,t)?this.inferCellDataType(r,i):!1),!n){e.cellDataType=!1;return}const s=this.dataTypeDefinitions[n];if(!s){ue(`Missing data type definition - "${n}"`);return}return e.cellDataType=n,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,s,i),s.columnTypes}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const i=n=>{t.add(n.key)};e.addEventListener("columnStateUpdated",i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",i))}canInferCellDataType(e,t){if(!vt(this.gos))return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,i))return!1;const n=t.type===null?e.type:t.type;if(n){const r=this.gos.get("columnTypes")??{};if(Yh(n).some(a=>{const u=r[a.trim()];return u&&this.doColDefPropsPreventInference(u,i)}))return!1}return!this.doColDefPropsPreventInference(e,i)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,n])=>this.doesColDefPropPreventInference(e,t,i,n))}doesColDefPropPreventInference(e,t,i,n){if(!t[i])return!1;const r=e[i];return r===null?(t[i]=!1,!1):n===void 0?!!r:r===n}inferCellDataType(e,t){if(!e)return;let i;const n=this.getInitialData();if(n){const s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=Qu(n,e,s)}else this.initWaitForRowData(t);if(i==null)return;const[r]=Object.entries(this.dataTypeMatchers).find(([s,a])=>a(i))??["object"];return r}getInitialData(){const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t!=null&&t.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const[i]=this.addManagedEventListeners({rowDataUpdateStarted:n=>{const{firstRowData:r}=n;r&&(i==null||i(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(r,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const i=[];this.destroyColumnStateUpdateListeners();const n={},r={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([s,a])=>{const u=this.columnModel.getCol(s);if(!u)return;const c=u.getColDef();if(!this.columnModel.resetColDefIntoCol(u,"cellDataTypeInferred"))return;const h=u.getColDef();if(t&&h.type&&h.type!==c.type){const p=this.getUpdatedColumnState(u,a);p.rowGroup&&p.rowGroupIndex==null&&(n[s]=p),p.pivot&&p.pivotIndex==null&&(r[s]=p),i.push(p)}}),t&&i.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(n,r)),i.length&&this.columnApplyStateService.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const i=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach(n=>{delete i[n],n==="rowGroup"?delete i.rowGroupIndex:n==="pivot"&&delete i.pivotIndex}),i}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var n;if(t==null)return!0;const i=(n=this.getDataTypeDefinition(e))==null?void 0:n.dataTypeMatcher;return i?i(t):!0}validateColDef(e){const t=i=>ue(`Cell data type is "object" but no Value ${i} has been provided. Please either provide an object data type definition with a Value ${i}, or set "colDef.value${i}"`);e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&t("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,t,i,n){var s;const r=this.formatValueFuncs[t];switch(i.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=a=>!!a.colDef.editable&&a.event.key===ee.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=r;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=r;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(a,u)=>{const c=this.columnModel.getColDefCol(n),h=c==null?void 0:c.getColDef();if(!c||!h)return 0;const p=a==null?"":r({column:c,node:null,value:a}),g=u==null?"":r({column:c,node:null,value:u});return p===g?0:p>g?1:-1},e.keyCreator=r;break}}(s=this.filterManager)==null||s.setColDefPropertiesForDataType(e,i,r)}getDefaultDataTypes(){const e=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>{var n,r;return((r=(n=i.newValue)==null?void 0:n.trim)==null?void 0:r.call(n))===""?null:Number(i.newValue)},valueFormatter:i=>i.value==null?"":typeof i.value!="number"||isNaN(i.value)?t("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>typeof i=="number"},text:{baseDataType:"text",valueParser:i=>i.newValue===""?null:Hb(i.newValue),dataTypeMatcher:i=>typeof i=="string"},boolean:{baseDataType:"boolean",valueParser:i=>{var n,r;return i.newValue==null?i.newValue:((r=(n=i.newValue)==null?void 0:n.trim)==null?void 0:r.call(n))===""?null:String(i.newValue).toLowerCase()==="true"},valueFormatter:i=>i.value==null?"":String(i.value),dataTypeMatcher:i=>typeof i=="boolean"},date:{baseDataType:"date",valueParser:i=>Ti(i.newValue==null?null:String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):vn(i.value,!1)??"",dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>Ti(i)??void 0,dateFormatter:i=>vn(i??null,!1)??void 0,valueParser:i=>e(String(i.newValue))?i.newValue:null,valueFormatter:i=>e(String(i.value))?i.value:"",dataTypeMatcher:i=>typeof i=="string"&&e(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>Hb(i.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}},d5={version:Ae,moduleName:"@ag-grid-community/data-type",beans:[c5]},h5={version:Ae,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:bq,getColumnDefs:wq,sizeColumnsToFit:xq,setColumnGroupOpened:Rq,getColumnGroup:Eq,getProvidedColumnGroup:Aq,getDisplayNameForColumn:Pq,getDisplayNameForColumnGroup:Dq,getColumn:Tq,getColumns:Mq,applyColumnState:Fq,getColumnState:Oq,resetColumnState:Lq,getColumnGroupState:Iq,setColumnGroupState:Nq,resetColumnGroupState:_q,isPinning:kq,isPinningLeft:Gq,isPinningRight:Bq,getDisplayedColAfter:Hq,getDisplayedColBefore:Vq,setColumnVisible:jq,setColumnsVisible:zq,setColumnPinned:Wq,setColumnsPinned:Uq,getAllGridColumns:$q,getDisplayedLeftColumns:qq,getDisplayedCenterColumns:Kq,getDisplayedRightColumns:Yq,getAllDisplayedColumns:Xq,getAllDisplayedVirtualColumns:Qq,moveColumn:Zq,moveColumnByIndex:Jq,moveColumns:e5,setColumnWidth:t5,setColumnWidths:i5,getLeftDisplayedColumnGroups:n5,getCenterDisplayedColumnGroups:r5,getRightDisplayedColumnGroups:s5,getAllDisplayedColumnGroups:o5,autoSizeColumn:a5,autoSizeColumns:l5,autoSizeAllColumns:u5}};function f5(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)}function p5(e,t){const i=e.dragAndDropService.findExternalZone(t);i&&e.dragAndDropService.removeDropTarget(i)}function g5(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}var m5={version:Ae,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:f5,removeRowDropZone:p5,getRowDropZoneParams:g5}};function v5(e){return e.pinnedRowModel.getPinnedTopRowCount()}function y5(e){return e.pinnedRowModel.getPinnedBottomRowCount()}function C5(e,t){return e.pinnedRowModel.getPinnedTopRow(t)}function S5(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}var b5={version:Ae,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:v5,getPinnedBottomRowCount:y5,getPinnedTopRow:C5,getPinnedBottomRow:S5}};function w5(e){e.overlayService.showLoadingOverlay()}function x5(e){e.overlayService.showNoRowsOverlay()}function R5(e){e.overlayService.hideOverlay()}var E5={version:Ae,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:w5,showNoRowsOverlay:x5,hideOverlay:R5}};function A5(e,t,i){if(!t)return;const n=e.ctrlsService.getGridBodyCtrl().getGui(),r=`aria-${t}`;i===null?n.removeAttribute(r):n.setAttribute(r,i)}function P5(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function D5(e,t={}){const i=n=>ue(`Since v31.1 api.flashCells parameter '${n}Delay' is deprecated. Please use '${n}Duration' instead.`);pe(t.fadeDelay)&&i("fade"),pe(t.flashDelay)&&i("flash"),e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.flashCells(t))}function T5(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function M5(e){return e.animationFrameService.isQueueEmpty()}function F5(e){e.animationFrameService.flushAllFrames()}function O5(e){return{rowHeight:vo(e.gos),headerHeight:e.columnModel.getHeaderHeight()}}function L5(e,t={}){return e.rowRenderer.getCellRendererInstances(t).map(Ju)}var I5={version:Ae,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:A5,refreshCells:P5,flashCells:D5,refreshHeader:T5,isAnimationFrameQueueEmpty:M5,flushAllAnimationFrames:F5,getSizesForCurrentTheme:O5,getCellRendererInstances:L5}};function N5(e){e.valueCache.expire()}function _5(e,t,i){return A_(e,{colKey:t,rowNode:i})}function A_(e,t){const{colKey:i,rowNode:n,useFormatter:r}=t,s=e.columnModel.getColDefCol(i)??e.columnModel.getCol(i);if(je(s))return null;const a=e.valueService.getValueForDisplay(s,n);return r?e.valueService.formatValue(s,n,a)??qn(a,!0):a}function k5(e){return e.context.getGridId()}function G5(e){e.gridDestroyService.destroy()}function B5(e){return e.gridDestroyService.isDestroyCalled()}function H5(e,t){return e.gos.get(t)}function V5(e,t,i){P_(e,{[t]:i})}function P_(e,t){e.gos.updateGridOptions({options:t})}function j5(e,t,i){e.apiEventService.addEventListener(t,i)}function z5(e,t,i){e.apiEventService.removeEventListener(t,i)}function W5(e,t){e.apiEventService.addGlobalListener(t)}function U5(e,t){e.apiEventService.removeGlobalListener(t)}function $5(e){return e.focusService.getFocusedCell()}function q5(e){return e.focusService.clearFocusedCell()}function K5(e,t,i,n){e.focusService.setFocusedCell({rowIndex:t,column:i,rowPinned:n,forceBrowserFocus:!0})}function Y5(e,t){return e.navigationService.tabToNextCell(!1,t)}function X5(e,t){return e.navigationService.tabToNextCell(!0,t)}function Q5(e,t,i=!1){const n=e.headerNavigationService.getHeaderPositionForColumn(t,i);n&&e.focusService.focusHeaderPosition({headerPosition:n})}function Z5(e,t,i){const n=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:n,buttonElement:i,positionBy:"button"})}function J5(e,t,i){let n=e.columnModel.getCol(t);if(n||(n=e.columnModel.getColDefCol(t)),!n){Qe(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:n,mouseEvent:i,positionBy:"mouse"})}function eK(e,t){const i=e.columnModel.getCol(t);if(!i){Qe(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:i,positionBy:"auto"})}function tK(e){e.menuService.hidePopupMenu()}function iK(e,t={}){const i=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(i))}function nK(e,t,i,n,r){e.expansionService.setRowNodeExpanded(t,i,n,r)}function rK(e,t){return e.rowModel.getRowNode(t)}function sK(e,t,i,n){e.rowRenderer.addRenderedRowListener(t,i,n)}function oK(e){return e.rowRenderer.getRenderedNodes()}function aK(e,t,i){e.rowModel.forEachNode(t,i)}function lK(e){return D_(e)}function D_(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function uK(e){return T_(e)}function T_(e){return e.rowRenderer.getLastVirtualRenderedRow()}function cK(e,t){return e.rowModel.getRow(t)}function dK(e){return e.rowModel.getRowCount()}function hK(e){return e.rowModel}function fK(e,t){if(!t.nodes.every(u=>u.rowPinned?(ue("cannot select pinned rows"),!1):u.id===void 0?(ue("cannot select node until id for node is known"),!1):!0))return;const{nodes:n,source:r,newValue:s}=t,a=n;e.selectionService.setNodesSelected({nodes:a,source:r??"api",newValue:s})}function pK(e,t="apiSelectAll"){e.selectionService.selectAllRowNodes({source:t})}function gK(e,t="apiSelectAll"){e.selectionService.deselectAllRowNodes({source:t})}function mK(e,t="apiSelectAllFiltered"){e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})}function vK(e,t="apiSelectAllFiltered"){e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})}function yK(e,t="apiSelectAllCurrentPage"){e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})}function CK(e,t="apiSelectAllCurrentPage"){e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})}function SK(e){return e.selectionService.getSelectedNodes()}function bK(e){return e.selectionService.getSelectedRows()}function wK(e){e.sortController.onSortChanged("api")}var xK={version:Ae,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:k5,destroy:G5,isDestroyed:B5,getGridOption:H5,setGridOption:V5,updateGridOptions:P_}},RK={version:Ae,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:fK,selectAll:pK,deselectAll:gK,selectAllFiltered:mK,deselectAllFiltered:vK,selectAllOnCurrentPage:yK,deselectAllOnCurrentPage:CK,getSelectedNodes:SK,getSelectedRows:bK}},EK={version:Ae,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:iK,setRowNodeExpanded:nK,getRowNode:rK,addRenderedRowListener:sK,getRenderedNodes:oK,forEachNode:aK,getFirstDisplayedRow:lK,getFirstDisplayedRowIndex:D_,getLastDisplayedRow:uK,getLastDisplayedRowIndex:T_,getDisplayedRowAtIndex:cK,getDisplayedRowCount:dK,getModel:hK}},AK={version:Ae,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:d3,getHorizontalPixelRange:h3,ensureColumnVisible:S_,ensureIndexVisible:b_,ensureNodeVisible:f3}},PK={version:Ae,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:$5,clearFocusedCell:q5,setFocusedCell:K5,setFocusedHeader:Q5,tabToNextCell:Y5,tabToPreviousCell:X5}},DK={version:Ae,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:j5,addGlobalListener:W5,removeEventListener:z5,removeGlobalListener:U5}},TK={version:Ae,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:N5,getValue:_5,getCellValue:A_}},MK={version:Ae,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:Z5,showColumnMenuAfterMouseClick:J5,showColumnMenu:eK,hidePopupMenu:tK}},FK={version:Ae,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:wK}},OK={version:Ae,moduleName:"@ag-grid-community/api",dependantModules:[xK,b5,RK,h5,EK,m5,AK,E5,PK,DK,I5,TK,MK,FK]};function LK(e){var t;return((t=e.stateService)==null?void 0:t.getState())??{}}function IK(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=NK(e)}return e}function NK(e){return e.cellSelection=_K(e,"rangeSelection"),e}function _K(e,t){if(e&&typeof e=="object")return e[t]}var kK=class extends ie{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=yi(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=yi(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=yi(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=vt(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",Ae),this.ctrlsService.whenReady(this,()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const[e,t,i]=this.addManagedEventListeners({newColumnsLoaded:({source:n})=>{n==="gridInitializing"&&(e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{t==null||t(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{i==null||i(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getInitialState(){return IK(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:i,pagination:n}=this.getInitialState(),r=this.gos.get("advancedFilterModel");(e||r)&&this.setFilterState(e,r),t&&this.setRowGroupExpansionState(t),i&&this.setRowSelectionState(i),n&&this.setPaginationState(n),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());const s=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:s,columnRowGroupChanged:s,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&setTimeout(()=>{s()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:a=>{(a.newPage||a.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:i,columnOrder:n}=this.getInitialState();i&&this.setFocusedCellState(i),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!(n!=null&&n.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());const r=this.getRangeSelectionState();this.updateCachedState("rangeSelection",r),this.updateCachedState("cellSelection",r),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:s=>{if(s.finished){const a=this.getRangeSelectionState();this.updateCachedState("rangeSelection",a),this.updateCachedState("cellSelection",a)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],i=[],n=[],r=[],s=[],a=[],u=[],c=[],h=[];let p=0;const g=this.columnGetStateService.getColumnState();for(let m=0;m<g.length;m++){const{colId:y,sort:b,sortIndex:w,rowGroup:S,rowGroupIndex:x,aggFunc:E,pivot:R,pivotIndex:T,pinned:A,hide:P,width:F,flex:I}=g[m];h.push(y),b&&(t[w??p++]={colId:y,sort:b}),S&&(i[x??0]=y),typeof E=="string"&&n.push({colId:y,aggFunc:E}),R&&(r[T??0]=y),A&&(A==="right"?a:s).push(y),P&&u.push(y),(I||F)&&c.push({colId:y,flex:I??void 0,width:F})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:n.length?{aggregationModel:n}:void 0,pivot:r.length||e?{pivotMode:e,pivotColIds:r}:void 0,columnPinning:s.length||a.length?{leftColIds:s,rightColIds:a}:void 0,columnVisibility:u.length?{hiddenColIds:u}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:h.length?{orderedColIds:h}:void 0}}setColumnState(e){const{sort:t,rowGroup:i,aggregation:n,pivot:r,columnPinning:s,columnVisibility:a,columnSizing:u,columnOrder:c,partialColumnState:h}=e,p={},g=S=>{let x=p[S];return x||(x={colId:S},p[S]=x,x)},m=h?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:S,sort:x},E)=>{const R=g(S);R.sort=x,R.sortIndex=E}),m.sort=null,m.sortIndex=null),i&&(i.groupColIds.forEach((S,x)=>{const E=g(S);E.rowGroup=!0,E.rowGroupIndex=x}),m.rowGroup=null,m.rowGroupIndex=null),n&&(n.aggregationModel.forEach(({colId:S,aggFunc:x})=>{g(S).aggFunc=x}),m.aggFunc=null),r&&(r.pivotColIds.forEach((S,x)=>{const E=g(S);E.pivot=!0,E.pivotIndex=x}),this.gos.updateGridOptions({options:{pivotMode:r.pivotMode},source:"gridInitializing"}),m.pivot=null,m.pivotIndex=null),s&&(s.leftColIds.forEach(S=>{g(S).pinned="left"}),s.rightColIds.forEach(S=>{g(S).pinned="right"}),m.pinned=null),a&&(a.hiddenColIds.forEach(S=>{g(S).hide=!0}),m.hide=null),u&&(u.columnSizingModel.forEach(({colId:S,flex:x,width:E})=>{const R=g(S);R.flex=x??null,R.width=E}),m.flex=null);const y=c==null?void 0:c.orderedColIds,b=!!(y!=null&&y.length),w=b?y.map(S=>g(S)):Object.values(p);w.length&&(this.columnStates=w,this.columnApplyStateService.applyColumnState({state:w,applyOrder:b,defaultState:m},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.pivotResultColsService.isPivotResultColsPresent()){if(t){const n=[];for(const r of t)this.pivotResultColsService.getPivotResultCol(r.colId)&&n.push(r);this.columnApplyStateService.applyColumnState({state:n,applyOrder:e},"gridInitializing")}i&&this.columnGroupStateService.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){const e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach(({groupId:i,open:n})=>{n&&t.push(i)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){var r;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const t=new Set((r=e.columnGroup)==null?void 0:r.openColumnGroupIds),n=this.columnGroupStateService.getColumnGroupState().map(({groupId:s})=>{const a=t.has(s);return a&&t.delete(s),{groupId:s,open:a}});t.forEach(s=>{n.push({groupId:s,open:!0})}),n.length&&(this.columnGroupStates=n),this.columnGroupStateService.setColumnGroupState(n,"gridInitializing")}getFilterState(){var i,n;let e=(i=this.filterManager)==null?void 0:i.getFilterModel();e&&Object.keys(e).length===0&&(e=void 0);const t=((n=this.filterManager)==null?void 0:n.getAdvancedFilterModel())??void 0;return e||t?{filterModel:e,advancedFilterModel:t}:void 0}setFilterState(e,t){var r,s;const{filterModel:i,advancedFilterModel:n}=e??{advancedFilterModel:t};i&&((r=this.filterManager)==null||r.setFilterModel(i,"columnFilter")),n&&((s=this.filterManager)==null||s.setAdvancedFilterModel(n))}getRangeSelectionState(){var t;const e=(t=this.rangeService)==null?void 0:t.getCellRanges().map(i=>{const{id:n,type:r,startRow:s,endRow:a,columns:u,startColumn:c}=i;return{id:n,type:r,startRow:s,endRow:a,colIds:u.map(h=>h.getColId()),startColId:c.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeService:i,columnModel:n,visibleColsService:r}=this;if(!Fr(t)||!i)return;const s=[];if(e.cellRanges.forEach(a=>{const u=[];if(a.colIds.forEach(h=>{const p=n.getCol(h);p&&u.push(p)}),!u.length)return;let c=n.getCol(a.startColId);if(!c){const h=r.getAllCols(),p=new Set(u);c=h.find(g=>p.has(g))}s.push({...a,columns:u,startColumn:c})}),hz(t)&&fz(t)&&s.length>1)return ue("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");i.setCellRanges(s)}getScrollState(){var n;if(!this.isClientSideRowModel)return;const e=(n=this.ctrlsService.getGridBodyCtrl())==null?void 0:n.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:i}=(e==null?void 0:e.getVScrollPosition())??{top:0};return i||t?{top:i,left:t}:void 0}setScrollState(e){var n;if(!this.isClientSideRowModel)return;const{top:t,left:i}=e;(n=this.ctrlsService.getGridBodyCtrl())==null||n.getScrollFeature().setScrollPosition(t,i)}getSideBarState(){var e,t;return(t=(e=this.sideBarService)==null?void 0:e.getSideBarComp())==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:i,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:i,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:i,rowPinned:n}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:i,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(!(!e&&!t))return{page:e,pageSize:t}}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationService.setPage(e.page))}getRowSelectionState(){var i;const e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(e.selectAll===!1||e.selectAllChildren===!1)&&!((i=e==null?void 0:e.toggledNodes)!=null&&i.length)?void 0:e}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let i=!1;Object.entries(t).forEach(([n,r])=>{uc(r,this.cachedState[n])||(i=!0)}),this.cachedState={...this.cachedState,...t},i&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const i=this.cachedState[e];this.setCachedStateValue(e,t),uc(t,i)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},M_={version:Ae,moduleName:"@ag-grid-community/state-core",beans:[kK]},GK={version:Ae,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:LK},dependantModules:[M_]},BK={version:Ae,moduleName:"@ag-grid-community/state",dependantModules:[M_,GK]};function HK(e){return e.rowModel.isLastRowIndexKnown()}function VK(e){var t;return((t=e.paginationService)==null?void 0:t.getPageSize())??100}function jK(e){var t;return((t=e.paginationService)==null?void 0:t.getCurrentPage())??0}function zK(e){var t;return((t=e.paginationService)==null?void 0:t.getTotalPages())??1}function WK(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()}function UK(e){var t;(t=e.paginationService)==null||t.goToNextPage()}function $K(e){var t;(t=e.paginationService)==null||t.goToPreviousPage()}function qK(e){var t;(t=e.paginationService)==null||t.goToFirstPage()}function KK(e){var t;(t=e.paginationService)==null||t.goToLastPage()}function YK(e,t){var i;(i=e.paginationService)==null||i.goToPage(t)}var XK=class extends ie{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const i=Math.max(vo(this.gos),1),n=Math.floor(e/i);this.paginationService.setPageSize(n,"autoCalculated")};this.isBodyRendered?yi(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function QK(e,t,i){e.addManagedElementListeners(t,{keydown:n=>{if(!n.defaultPrevented&&n.key===ee.TAB){const r=n.shiftKey;i.findNextFocusableElement(t,!1,r)||i.focusNextGridCoreContainer(r)&&n.preventDefault()}}})}var _u="paginationPageSizeSelector",ZK=class extends ht{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationService.getPageSize()||(this.paginationService.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener(_u,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){Xi(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(_u)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationService.getPageSize(),i=!t||!e.includes(t);if(i){const r=this.gos.exists("paginationPageSize"),s=this.gos.get(_u)!==!0;ue(`'paginationPageSize=${t}'${r?"":" (default value)"}, but ${t} is not included in${s?"":" the default"} paginationPageSizeSelector=[${e.join(", ")}].`),s||ue(`Either set '${_u}' to an array that includes ${t} or to 'false' to disable the page size selector.`),e.unshift("")}const n=String(i?"":t);this.selectPageSizeComp?(As(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(n,!0)):this.createPageSizeSelectorComp(e,n),this.hasEmptyOption=i}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const i=this.localeService.getLocaleTextFunc(),n=i("pageSizeSelectorLabel","Page Size:"),r=i("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Xx).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(r).setLabel(n).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(_u);return!Array.isArray(t)||Yi(t)?e:[...t].sort((i,n)=>i-n)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},JK={selector:"AG-PAGE-SIZE-SELECTOR",component:ZK},e4=class extends z3{constructor(){super(),this.btFirst=xe,this.btPrevious=xe,this.btNext=xe,this.btLast=xe,this.lbRecordCount=xe,this.lbFirstRowOnPage=xe,this.lbLastRowOnPage=xe,this.lbCurrent=xe,this.lbTotal=xe,this.pageSizeComp=xe,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[JK]);const{btFirst:t,btPrevious:i,btNext:n,btLast:r}=this;this.activateTabIndex([t,i,n,r]),t.insertAdjacentElement("afterbegin",Ki(e?"last":"first",this.gos)),i.insertAdjacentElement("afterbegin",Ki(e?"next":"previous",this.gos)),n.insertAdjacentElement("afterbegin",Ki(e?"previous":"next",this.gos)),r.insertAdjacentElement("afterbegin",Ki(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):this.focusService.focusGridInnerElement(s)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:i}=e;this.addManagedListeners(t,{click:i,keydown:n=>{(n.key===ee.ENTER||n.key===ee.SPACE)&&(n.preventDefault(),i())}})}),QK(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t)return t({value:e});const i=this.localeService.getLocaleTextFunc(),n=i("thousandSeparator",","),r=i("decimalSeparator",".");return HW(e,n,r)}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),i=e("to","to"),n=e("of","of"),r=e("firstPage","First Page"),s=e("previousPage","Previous Page"),a=e("nextPage","Next Page"),u=e("lastPage","Last Page"),c=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${c}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${c}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${c}-to">${i}</span>
                    <span id="ag-${c}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${c}-of">${n}</span>
                    <span id="ag-${c}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${c}-start-page">${t}</span>
                        <span id="ag-${c}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${c}-of-page">${n}</span>
                        <span id="ag-${c}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${u}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),i=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay(),r=e===i-1;this.nextButtonDisabled=r||n,this.lastButtonDisabled=!t||n||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Jz(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),i=this.paginationService.getMasterRowCount(),n=e?i:null;if(n===1){const E=this.rowModel.getRow(0);if(E&&E.group&&!(E.groupData||E.aggData)){this.setTotalLabelsToZero();return}}const r=this.paginationService.getCurrentPage(),s=this.paginationService.getPageSize();let a,u;this.isZeroPagesToDisplay()?a=u=0:(a=s*r+1,u=a+s-1,e&&u>n&&(u=n));const c=a+s-1,h=!e&&i<c,p=this.formatNumber(a);this.lbFirstRowOnPage.textContent=p;let g;const m=this.localeService.getLocaleTextFunc();h?g=m("pageLastRowUnknown","?"):g=this.formatNumber(u),this.lbLastRowOnPage.textContent=g;const b=t>0?r+1:0,w=this.formatNumber(b);this.lbCurrent.textContent=w;let S,x;if(e)S=this.formatNumber(t),x=this.formatNumber(n);else{const E=m("more","more");S=E,x=E}this.lbTotal.textContent=S,this.lbRecordCount.textContent=x,this.announceAriaStatus(p,g,x,w,S)}announceAriaStatus(e,t,i,n,r){const s=this.localeService.getLocaleTextFunc(),a=s("page","Page"),u=s("to","to"),c=s("of","of"),h=`${e} ${u} ${t} ${c} ${i}`,p=`${a} ${n} ${c} ${r}`;h!==this.ariaRowStatus&&(this.ariaRowStatus=h,this.ariaAnnouncementService.announceValue(h,"paginationRow")),p!==this.ariaPageStatus&&(this.ariaPageStatus=p,this.ariaAnnouncementService.announceValue(p,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},t4={selector:"AG-PAGINATION",component:e4},i4=class extends ie{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return t4}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){!this.active||this.currentPage===e||typeof this.currentPage!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return pe(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:pe(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:pe(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:pe(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const i=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}i!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const n=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=n-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:i=!1,newPageSize:n=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:i,newPageSize:n,keepRenderedRows:t})}},F_={version:Ae,moduleName:"@ag-grid-community/pagination-core",beans:[i4,XK]},n4={version:Ae,moduleName:"@ag-grid-community/pagination-api",dependantModules:[F_],apiFunctions:{paginationIsLastPageFound:HK,paginationGetPageSize:VK,paginationGetCurrentPage:jK,paginationGetTotalPages:zK,paginationGetRowCount:WK,paginationGoToNextPage:UK,paginationGoToPreviousPage:$K,paginationGoToFirstPage:qK,paginationGoToLastPage:KK,paginationGoToPage:YK}},r4={version:Ae,moduleName:"@ag-grid-community/pagination",dependantModules:[F_,n4]},Di="clientSide",gi="serverSide",Ta="infinite",s4={onGroupExpandedOrCollapsed:[Di],refreshClientSideRowModel:[Di],isRowDataEmpty:[Di],forEachLeafNode:[Di],forEachNodeAfterFilter:[Di],forEachNodeAfterFilterAndSort:[Di],resetRowHeights:[Di],applyTransaction:[Di],applyTransactionAsync:[Di],flushAsyncTransactions:[Di],getBestCostNodeSelection:[Di],getServerSideSelectionState:[gi],setServerSideSelectionState:[gi],applyServerSideTransaction:[gi],applyServerSideTransactionAsync:[gi],applyServerSideRowData:[gi],retryServerSideLoads:[gi],flushServerSideAsyncTransactions:[gi],refreshServerSide:[gi],getServerSideGroupLevelState:[gi],refreshInfiniteCache:[Ta],purgeInfiniteCache:[Ta],getInfiniteRowCount:[Ta],isLastRowIndexKnown:[Ta,gi],expandAll:[Di,gi],collapseAll:[Di,gi],onRowHeightChanged:[Di,gi],setRowCount:[Ta,gi],getCacheBlockState:[Ta,gi]},o4={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}};function a4(e,t,i){const n=o4[e];if(n){const{version:s,new:a,old:u,message:c}=n,h=u??e;return(...p)=>{const g=a?`Please use ${a} instead. `:"";return ue(`Since ${s} api.${h} is deprecated. ${g}${c??""}`),t.apply(t,p)}}const r=s4[e];return r?(...s)=>{const a=i.rowModel.getType();if(!r.includes(a)){Qe(`api.${e} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`);return}return t.apply(t,s)}:t}var l4={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},fs=(e,t)=>{const i=t.rowModelType??"clientSide";return i==="clientSide"||i==="serverSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},u4={enableRowGroup:fs,rowGroup:fs,rowGroupIndex:fs,enablePivot:fs,enableValue:fs,pivot:fs,pivotIndex:fs,aggFunc:fs,cellEditor:e=>e.cellEditor==="agRichSelect"||e.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{var i;const t=["columnsMenuTab","generalMenuTab"];return(i=e.menuTabs)!=null&&i.some(n=>t.includes(n))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>La},c4={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},d4=Object.keys(c4),La={objectName:"colDef",allProperties:d4,docsUrl:"column-properties/",deprecations:l4,validations:u4},h4=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}}),f4={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},p4=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:e=>{const t=e.rowModelType??"clientSide";switch(t){case"clientSide":{const i=`treeData requires 'getDataPath' in the ${t} row model.`;return e.getDataPath?null:i}case"serverSide":{const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:i}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:e=>{const t=e.paginationPageSizeSelector;return typeof t=="boolean"||t==null||t.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},rowSelection:{validate({rowSelection:e}){return e&&typeof e=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':e&&typeof e!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":null}},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>La,defaultColDef:()=>La,defaultColGroupDef:()=>La,autoGroupColumnDef:()=>La,selectionColumnDef:()=>La}),g4=()=>({objectName:"gridOptions",allProperties:[...hc.ALL_PROPERTIES,...fc.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:h4(),validations:p4()}),m4=class extends ie{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,g4())}validateApiFunction(e,t){return a4(e,t,this.beans)}processOptions(e,t){const{validations:i,deprecations:n,allProperties:r,propertyExceptions:s,objectName:a,docsUrl:u}=t;r&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...s??[],...Object.keys(n)],r,a,u);const c=new Set;Object.keys(e).forEach(p=>{const g=n[p];if(g)if("renamed"in g){const{renamed:R,version:T}=g;c.add(`As of v${T}, ${String(p)} is deprecated. Please use ${String(R)} instead.`),e[R]=e[p]}else{const{message:R,version:T}=g;c.add(`As of v${T}, ${String(p)} is deprecated. ${R??""}`)}const m=e[p];if(m==null||m===!1)return;const y=i[p];let b;if(y)if(typeof y=="function"){const R=y(e,this.gridOptions);if(!R)return;if("objectName"in R){const T=e[p];if(Array.isArray(T)){T.forEach(A=>{this.processOptions(A,R)});return}this.processOptions(e[p],R);return}b=R}else b=y;else return;const{module:w,dependencies:S,validate:x,supportedRowModels:E}=b;if(E){const R=this.gridOptions.rowModelType??"clientSide";if(!E.includes(R)){c.add(`${String(p)} is not supported with the '${R}' row model.`);return}}if(w){const R=Array.isArray(w)?w:[w];let T=!0;if(R.forEach(A=>{this.gos.assertModuleRegistered(A,String(p))||(T=!1,c.add(`${String(p)} is only available when ${A} is loaded.`))}),!T)return}if(S){const R=this.checkForRequiredDependencies(p,S,e);if(R){c.add(R);return}}if(x){const R=x(e,this.gridOptions);if(R){c.add(R);return}}}),c.size>0&&c.forEach(p=>{ue(p)})}checkForRequiredDependencies(e,t,i){const r=Object.entries(t).find(([u,c])=>{const h=i[u];return!c.includes(h)});if(!r)return null;const[s,a]=r;return a.length>1?`'${String(e)}' requires '${s}' to be one of [${a.join(", ")}].`:`'${String(e)}' requires '${s}' to be ${a[0]}.`}checkProperties(e,t,i,n,r){const s=["__ob__","__v_skip","__metadata__"],a=v4(Object.getOwnPropertyNames(e),[...s,...t,...i],i);if(Mn(a,(u,c)=>{let h=`invalid ${n} property '${u}' did you mean any of these: ${c.slice(0,8).join(", ")}.`;i.includes("context")&&(h+=`
If you are trying to annotate ${n} with application data, use the '${n}.context' property instead.`),ue(h)}),Object.keys(a).length>0&&r){const u=this.getFrameworkOverrides().getDocLink(r);ue(`to see all the valid ${n} properties please check: ${u}`)}}};function v4(e,t,i){const n={},r=e.filter(s=>!t.some(a=>a===s));return r.length>0&&r.forEach(s=>n[s]=ON({inputValue:s,allSuggestions:i}).values),n}var y4={version:Ae,moduleName:"@ag-grid-community/core"},C4={version:Ae,moduleName:"@ag-grid-community/core-validations",beans:[m4]},O_={version:Ae,moduleName:"@ag-grid-community/core-community-features",dependantModules:[y4,C4,F3,RU,BK,d5,Sq,r4,OK]},S4=class extends ie{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){var e,t;this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:((e=this.beans.stateService)==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(t=this.beans.ctrlsService.get("gridCtrl"))==null||t.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},Qh=new Set(["gridPreDestroyed","fillStart","pasteStart"]),b4=e=>e==="checkboxSelected"||e==="rowClicked"||e==="spaceKey"||e==="uiSelectAll"||e==="uiSelectAllCurrentPage"||e==="uiSelectAllFiltered",w4=new Map([...hc.BOOLEAN_PROPERTIES.map(e=>[e,jb]),...hc.NUMBER_PROPERTIES.map(e=>[e,XN]),["groupAggFiltering",e=>typeof e=="function"?e:jb(e)],["pageSize",jn(1)],["autoSizePadding",jn(0)],["keepDetailRowsCount",jn(1)],["rowBuffer",jn(0)],["infiniteInitialRowCount",jn(1)],["cacheOverflowSize",jn(1)],["cacheBlockSize",jn(1)],["serverSideInitialRowCount",jn(1)],["viewportRowModelPageSize",jn(1)],["viewportRowModelBufferSize",jn(0)]]);function L_(e,t){const i=w4.get(e);return i?i(t):t}function x4(e){const t={};return Object.entries(e).forEach(([i,n])=>{const r=L_(i,n);t[i]=r}),t}var I_=class N_ extends ie{constructor(){super(...arguments),this.beanName="gos",this.gridReadyFired=!1,this.queueEvents=[],this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new wl,this.globalEventHandlerFactory=t=>(i,n)=>{if(!this.isAlive())return;const r=Qh.has(i);if(r&&!t||!r&&t)return;const s=(a,u)=>{const c=this.gridOptions[fc.getCallbackForEvent(a)];typeof c=="function"&&this.frameworkOverrides.wrapOutgoing(()=>c(u))};if(this.gridReadyFired)s(i,n);else if(i==="gridReady"){s(i,n),this.gridReadyFired=!0;for(const a of this.queueEvents)s(a.eventName,a.event);this.queueEvents=[]}else this.queueEvents.push({eventName:i,event:n})}}wireBeans(t){this.gridOptions=t.gridOptions,this.eGridDiv=t.eGridDiv,this.validationService=t.validationService,this.environment=t.environment,this.api=t.gridApi,this.gridId=t.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:i})=>{this.updateGridOptions({options:i,force:!0,source:"gridOptionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(t){return this.gridOptions[t]??f4[t]}getCallback(t){return this.mergeGridCommonParams(this.gridOptions[t])}exists(t){return pe(this.gridOptions[t])}mergeGridCommonParams(t){return t&&(n=>{const r=n;return r.api=this.api,r.context=this.gridOptionsContext,t(r)})}updateGridOptions({options:t,force:i,source:n="api"}){var a;const r={id:N_.changeSetId++,properties:[]},s=[];Object.entries(t).forEach(([u,c])=>{n==="api"&&$z[u]&&ue(`${u} is an initial property and cannot be updated.`);const h=L_(u,c),p=i||typeof h=="object"&&n==="api",g=this.gridOptions[u];if(p||g!==h){this.gridOptions[u]=h;const m={type:u,currentValue:h,previousValue:g,changeSet:r,source:n};s.push(m)}}),(a=this.validationService)==null||a.processGridOptions(this.gridOptions),r.properties=s.map(u=>u.type),s.forEach(u=>{this.gridOptions.debug&&On(`Updated property ${u.type} from`,u.previousValue," to ",u.currentValue),this.propertyEventService.dispatchEvent(u)})}addPropertyEventListener(t,i){this.propertyEventService.addEventListener(t,i)}removePropertyEventListener(t,i){this.propertyEventService.removeEventListener(t,i)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(t){const i=t;return i.api=this.api,i.context=this.gridOptionsContext,i}assertModuleRegistered(t,i){return Wn.__assertRegistered(t,i,this.gridId)}isModuleRegistered(t){return Wn.__isRegistered(t,this.gridId)}};I_.changeSetId=0;var R4=I_,E4=class extends ie{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,t){let i,n;if(Mt(e.column)?i=this.visibleColsService.getGroupAtDirection(e.column,t):(n=`getCol${t}`,i=this.visibleColsService[n](e.column)),!i)return;const{headerRowIndex:r}=e;if(this.getHeaderRowType(r)!=="filter"){const u=[i];for(;i.getParent();)i=i.getParent(),u.push(i);i=u[u.length-1-r]}const{column:s,headerRowIndex:a}=this.getHeaderIndexToFocus(i,r);return{column:s,headerRowIndex:a}}getHeaderIndexToFocus(e,t){let i;if(Mt(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const n=e;i=n.getLeafColumns()[0];let r=i;for(;r!==n;)t++,r=r.getParent()}return{column:i||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,t){const i=this.getHeaderRowType(t),n=i==="filter",r=i==="column";let s=n?e:e.getParent(),a=t-1,u=a;if(r&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;s&&s.isPadding();)s=s.getParent(),a--;u=a,a<0&&(s=e,a=t,u=void 0)}return{column:s,headerRowIndex:a,headerRowIndexWithoutSpan:u}}getColumnVisibleChild(e,t,i="After"){const n=this.getHeaderRowType(t);let r=e,s=t+1;const a=s;if(n==="group"){const u=e.getDisplayedLeafColumns(),c=i==="After"?u[0]:Ve(u),h=[];let p=c;for(;p.getParent()!==e;)p=p.getParent(),h.push(p);if(r=c,c.isSpanHeaderHeight())for(let g=h.length-1;g>=0;g--){const m=h[g];if(!m.isPadding()){r=m;break}s++}else r=Ve(h),r||(r=c)}return{column:r,headerRowIndex:s,headerRowIndexWithoutSpan:a}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const i=this.visibleColsService.getAllCols(),n=i[t==="start"?0:i.length-1];if(!n)return;const r=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()),s=r==null?void 0:r.getRowType(e);if(s=="group"){const a=this.visibleColsService.getColGroupAtLevel(n,e);return{headerRowIndex:e,column:a}}return{headerRowIndex:s==null?-1:e,column:n}}},A4=class extends ie{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(i,n,r)=>e({key:i,defaultValue:n,variableValues:r});const t=this.gos.get("localeText");return(i,n,r)=>{let s=t&&t[i];if(s&&r&&r.length){let a=0;for(;!(a>=r.length||s.indexOf("${variable}")===-1);)s=s.replace("${variable}",r[a++])}return s??n}}},P4=class extends ie{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new kx(this.getFrameworkOverrides())}addEventListener(e,t){const i=this.frameworkEventWrappingService.wrap(e,t),n=ef(this.gos)&&!Qh.has(e),r=n?this.asyncEventListeners:this.syncEventListeners;r.has(e)||r.set(e,new Set),r.get(e).add(i),this.eventService.addEventListener(e,i,n)}removeEventListener(e,t){var s;const i=this.frameworkEventWrappingService.unwrap(e,t),n=this.asyncEventListeners.get(e),r=!!(n!=null&&n.delete(i));r||(s=this.syncEventListeners.get(e))==null||s.delete(i),this.eventService.removeEventListener(e,i,r)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(ef(this.gos)){const n=(s,a)=>{Qh.has(s)&&t(s,a)},r=(s,a)=>{Qh.has(s)||t(s,a)};this.globalEventListenerPairs.set(e,{syncListener:n,asyncListener:r}),this.eventService.addGlobalListener(n,!1),this.eventService.addGlobalListener(r,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:n,asyncListener:r}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(n,!1),this.eventService.removeGlobalListener(r,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach((i,n)=>{i.forEach(r=>this.eventService.removeEventListener(n,r,t)),i.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(i=>this.eventService.removeGlobalListener(i,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:t})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(t,!0)}),this.globalEventListenerPairs.clear()}},D4=class extends ie{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},T4=class extends ie{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return je(this.topRowBounds)||je(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const e=this.topRowBounds?this.topRowBounds.rowTop:0,t=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:t}}calculateBounds(e,t){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(t),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=t),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=pe(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},M4=class extends ie{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=yi(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){const e=Pt(this.gos),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),pN(t,"polite"),Zz(t,"additions text"),Qz(t,!0),this.eGridDiv.appendChild(t)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50)}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(Xi(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},F4=class extends ie{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e,t){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e(),t();return}const i=n=>{for(;n.length;){const r=n.pop();r&&r()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e(),i(this.executeNextFuncs)},0),window.setTimeout(()=>{t(),i(this.executeLaterFuncs)},200)})}},O4=class extends ie{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},L4=class extends ie{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=vt(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.overlayWrapperComp}isExclusive(){return this.state===1&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos.get("loading");!e&&(e!==void 0||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!(this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay"))&&this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){ue("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.");return}this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp){this.state=0;return}let e=this.gos.get("loading");this.showInitialOverlay&&e===void 0&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?this.state!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?this.state!==2&&this.doShowNoRowsOverlay():this.state!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.overlayWrapperComp&&(this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.overlayWrapperComp&&(this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.overlayWrapperComp&&(this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive())}showOverlay(e,t,i){var r;const n=e.newAgStackInstance();(r=this.overlayWrapperComp)==null||r.showOverlay(n,t,this.isExclusive(),i),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp)return;let e=0;if(this.state===2){const t=this.ctrlsService.get("gridHeaderCtrl");e=(t==null?void 0:t.getHeaderHeight())||0}else this.wrapperPadding!==0&&(e=0);this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},I4=class extends ie{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){const t=[];return pe(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),PD(t,this.processClassesFromGridOptions(e.rowNode)),PD(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],i=s=>{typeof s=="string"?t.push(s):Array.isArray(s)&&s.forEach(a=>t.push(a))},n=this.gos.get("rowClass");if(n){if(typeof n=="function")return ue("rowClass should not be a function, please use getRowClass instead"),[];i(n)}const r=this.gos.getCallback("getRowClass");if(r){const s={data:e.data,node:e,rowIndex:e.rowIndex},a=r(s);i(a)}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,i=>{t.push(i)},()=>{}),t}processRowClassRules(e,t,i){const n=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),n,t,i)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},N4=class extends ie{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=m2(),this.gos.get("debug")&&On("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(t!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=i,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.gos.get("debug")&&On(`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),i=e/t;return this.maxScrollY*i}},_4=class extends ie{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=zn(this.gos),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=zn(this.gos))}doFullSort(e,t){const i=(r,s)=>({currentPos:s,rowNode:r}),n=e.map(i);return n.sort(this.compareRowNodes.bind(this,t)),n.map(r=>r.rowNode)}compareRowNodes(e,t,i){const n=t.rowNode,r=i.rowNode;for(let s=0,a=e.length;s<a;s++){const u=e[s],c=u.sort==="desc",h=this.getValue(n,u.column),p=this.getValue(r,u.column);let g;const m=this.getComparator(u,n);if(m?g=m(h,p,n,r,c):g=az(h,p,this.isAccentedSort),!isNaN(g)&&g!==0)return u.sort==="asc"?g:g*-1}return t.currentPos-i.currentPos}getComparator(e,t){const i=e.column,n=i.getColDef().comparator;if(n!=null)return n;if(!i.getColDef().showRowGroup)return;const r=!t.group&&i.getColDef().field;if(!r)return;const s=this.columnModel.getColDefCol(r);if(s)return s.getColDef().comparator}getValue(e,t){var n,r,s;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(pp(this.gos,this.columnModel.isPivotActive())){const c=(n=e.allLeafChildren)==null?void 0:n[0];return c?this.valueService.getValue(t,c,!1,!1):void 0}const u=(r=this.showRowGroupColsService)==null?void 0:r.getShowRowGroupCol(t.getId());return u?(s=e.groupData)==null?void 0:s[u.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return this.valueService.getValue(t,e,!1,!1)}},bp=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let i=0;i<e.children.length;i++)this.depthFirstSearchChangedPath(e.children[i],t);t(e.rowNode)}depthFirstSearchEverything(e,t,i){if(e.childrenAfterGroup)for(let n=0;n<e.childrenAfterGroup.length;n++){const r=e.childrenAfterGroup[n];r.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],t,i):i&&t(r)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];){const n={rowNode:t,children:null};this.mapToItems[t.id]=n,i++,t=t.parent}return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(n=>this.nodeIdsToColumns[i.id][n.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let n=0;n<t;n++){const r=this.mapToItems[i.id],s=this.mapToItems[i.parent.id];s.children||(s.children=[]),s.children.push(r),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const i=this.nodeIdsToColumns[e.id];return t.filter(r=>i[r.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[e.id];return t.filter(r=>!i[r.getId()])}},__=class extends ie{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new H3,this.rowSelectionMode=void 0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){const{gos:e,rowModel:t,onRowSelected:i}=this;this.selectionCtx.init(t),this.rowSelectionMode=nf(e),this.groupSelectsChildren=Do(e),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{const n=Do(e),r=nf(e);(n!==this.groupSelectsChildren||r!==this.rowSelectionMode)&&(this.groupSelectsChildren=n,this.rowSelectionMode=r,this.deselectAllRowNodes({source:"api"}))}),this.addManagedEventListeners({rowSelected:i.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiSelect(){return this.rowSelectionMode==="multiRow"}overrideSelectionValue(e,t){if(!b4(t))return e;const i=this.selectionCtx.getRoot();return i?i.isSelected()??!1:!0}setNodesSelected(e){var g;const{newValue:t,clearSelection:i,suppressFinishActions:n,rangeSelect:r,nodes:s,event:a,source:u}=e;if(s.length===0)return 0;if(s.length>1&&!this.isMultiSelect())return ue("cannot multi select unless selection mode is 'multiRow'"),0;const c=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,h=s.map(m=>m.footer?m.sibling:m);if(r){if(h.length>1)return ue("cannot range select while selecting multiple rows"),0;const m=h[0],y=this.overrideSelectionValue(t,u);if(this.isMultiSelect()){if(this.selectionCtx.isInRange(m)){const b=this.selectionCtx.truncate(m);return y&&this.selectRange(b.discard,!1,u),this.selectRange(b.keep,y,u)}else if(this.selectionCtx.getRoot()!==m){const S=this.selectionCtx.extend(m,this.groupSelectsChildren);return y&&this.selectRange(S.discard,!1,u),this.selectRange(S.keep,y,u)}}}n||this.selectionCtx.setRoot(h[0]);let p=0;for(let m=0;m<h.length;m++){const y=h[m];c&&y.group||y.selectThisNode(t,a,u)&&p++,this.groupSelectsChildren&&((g=y.childrenAfterGroup)!=null&&g.length)&&(p+=this.selectChildren(y,t,c,u))}return n||(t&&(i||!this.isMultiSelect())&&(p+=this.clearOtherNodes(h[0],u)),p>0&&(this.updateGroupsFromChildrenSelections(u),this.dispatchSelectionChanged(u))),p}selectRange(e,t,i){let n=0;return e.forEach(r=>{if(r.group&&this.groupSelectsChildren)return;r.selectThisNode(t,void 0,i)&&n++}),n>0&&(this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)),n}selectChildren(e,t,i,n){const r=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return je(r)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:n,nodes:r})}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(t=>{t&&e.push(t)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>{t&&t.data&&e.push(t.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((i,n)=>{i&&e(i)&&t.set(n,i)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||!vt(this.gos))return!1;const n=this.rowModel.getRootNode();t||(t=new bp(!0,n),t.setInactive());let r=!1;return t.forEachChangedNodeDepthFirst(s=>{if(s!==n){const a=s.calculateSelectedFromChildren();r=s.selectThisNode(a===null?!1:a,void 0,e)||r}}),r}clearOtherNodes(e,t){const i=new Map;let n=0;return this.selectedNodes.forEach(r=>{if(r&&r.id!==e.id){const s=this.selectedNodes.get(r.id);n+=s.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&r.parent&&i.set(r.parent.id,r.parent)}}),i.forEach(r=>{const s=r.calculateSelectedFromChildren();r.selectThisNode(s===null?!1:s,void 0,t)}),n}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(pe(t)&&e.id!==t.id&&t){const n=t.id;this.selectedNodes.get(n)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){var e;(e=this.selectedNodes)==null||e.clear()}getBestCostNodeSelection(){if(!vt(this.gos))return;const t=this.rowModel.getTopLevelNodes();if(t===null)return;const i=[];function n(r){for(let s=0,a=r.length;s<a;s++){const u=r[s];if(u.isSelected())i.push(u);else{const c=u;c.group&&c.children&&n(c.children)}}}return n(t),i}isEmpty(){let e=0;return this.selectedNodes.forEach(t=>{t&&e++}),e===0}deselectAllRowNodes(e){const t=a=>a.selectThisNode(!1,void 0,n),i=vt(this.gos),{source:n,justFiltered:r,justCurrentPage:s}=e;if(s||r){if(!i){Qe("selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(r,s).forEach(t)}else this.selectedNodes.forEach(a=>{a&&t(a)}),this.reset(n);this.selectionCtx.reset(),i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)}getSelectedCounts(e,t){let i=0,n=0;const r=s=>{this.groupSelectsChildren&&s.group||(s.isSelected()?i++:s.selectable&&n++)};return this.getNodesToSelect(e,t).forEach(r),{selectedCount:i,notSelectedCount:n}}getSelectAllState(e,t){const{selectedCount:i,notSelectedCount:n}=this.getSelectedCounts(e,t);return i===0&&n===0?!1:i>0&&n>0?null:i>0}hasNodesToSelect(e=!1,t=!1){return this.getNodesToSelect(e,t).filter(i=>i.selectable).length>0}getNodesToSelect(e=!1,t=!1){this.validateSelectAllType();const i=[];if(t)return this.forEachNodeOnPage(r=>{if(!r.group){i.push(r);return}if(!r.expanded){const s=a=>{var u;i.push(a),(u=a.childrenAfterFilter)!=null&&u.length&&a.childrenAfterFilter.forEach(s)};s(r);return}this.groupSelectsChildren||i.push(r)}),i;const n=this.rowModel;return e?(n.forEachNodeAfterFilter(r=>{i.push(r)}),i):(n.forEachNode(r=>{i.push(r)}),i)}forEachNodeOnPage(e){const t=this.pageBoundsService.getFirstRow(),i=this.pageBoundsService.getLastRow();for(let n=t;n<=i;n++){const r=this.rowModel.getRow(n);r&&e(r)}}selectAllRowNodes(e){if(dz(this.gos)&&!eN(this.gos))return ue("cannot multi select unless selection mode is 'multiRow'");this.validateSelectAllType();const{source:t,justFiltered:i,justCurrentPage:n}=e,r=this.getNodesToSelect(i,n);r.forEach(s=>s.selectThisNode(!0,void 0,t)),this.selectionCtx.setRoot(r[0]??null),this.selectionCtx.setEndRange(Ve(r)??null),vt(this.gos)&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.dispatchSelectionChanged(t)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t!=null&&t.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return Qe("Invalid selection state. When using client-side row model, the state must conform to `string[]`.");const i=new Set(e),n=[];this.rowModel.forEachNode(r=>{i.has(r.id)&&n.push(r)}),this.setNodesSelected({newValue:!0,nodes:n,source:t})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}validateSelectAllType(){if(!vt(this.gos))throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}},k4=class extends ie{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const{gos:t}=this,i=Jh(t),n=Ix(t);if(!i||!n)return;const r=Do(t),s=vt(t)&&r,a=[],u=c=>{if(e&&!c.group)return;if(s&&c.group){const p=c.childrenAfterGroup.some(g=>g.selectable===!0);c.setRowSelectable(p,!0);return}const h=(n==null?void 0:n(c))??!0;c.setRowSelectable(h,!0),!h&&c.isSelected()&&a.push(c)};if(s){const c=this.rowModel;new bp(!1,c.getRootNode()).forEachChangedNodeDepthFirst(u,!0,!0)}else this.rowModel.forEachNode(u);a.length&&this.selectionService.setNodesSelected({nodes:a,newValue:!1,source:"selectableChanged"}),s&&this.selectionService instanceof __&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},XD=["asc","desc",null],G4=class extends ie{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,t,i){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,i)}setSortForColumn(e,t,i,n){t!=="asc"&&t!=="desc"&&(t=null);const r=zn(this.gos);let s=[e];if(r&&e.getColDef().showRowGroup){const c=this.funcColsService.getSourceColumnsForGroupColumn(e),h=c==null?void 0:c.filter(p=>p.isSortable());h&&(s=[e,...h])}s.forEach(c=>c.setSort(t,n));const a=(i||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),u=[];if(!a){const c=this.clearSortBarTheseColumns(s,n);u.push(...c)}this.updateSortIndex(e),u.push(...s),this.dispatchSortChangedEvents(n,u)}updateSortIndex(e){var u;const t=zn(this.gos),i=(u=this.showRowGroupColsService)==null?void 0:u.getShowRowGroupCol(e.getId()),n=t&&i||e,r=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach(c=>c.setSortIndex(null));const s=r.filter(c=>t&&c.getColDef().showRowGroup?!1:c!==n);(n.getSort()?[...s,n]:s).forEach((c,h)=>{c.setSortIndex(h)})}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.columnModel.getAllCols().filter(i=>!!i.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const i={type:"sortChanged",source:e};t&&(i.columns=t),this.eventService.dispatchEvent(i)}clearSortBarTheseColumns(e,t){const i=[];return this.columnModel.getAllCols().forEach(n=>{e.includes(n)||(n.getSort()&&i.push(n),n.setSort(void 0,t))}),i}getNextSortDirection(e){let t;if(e.getColDef().sortingOrder?t=e.getColDef().sortingOrder:this.gos.get("sortingOrder")?t=this.gos.get("sortingOrder"):t=XD,!Array.isArray(t)||t.length<=0)return ue(`sortingOrder must be an array with at least one element, currently it's ${t}`),null;const i=t.indexOf(e.getSort()),n=i<0,r=i==t.length-1;let s;return n||r?s=t[0]:s=t[i+1],XD.indexOf(s)<0?(ue("invalid sort type ",s),null):s}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter(s=>!!s.getSort());if(this.columnModel.isPivotMode()){const s=zn(this.gos);e=e.filter(a=>{var p;const u=!!a.getAggFunc(),c=!a.isPrimary(),h=s?(p=this.showRowGroupColsService)==null?void 0:p.getShowRowGroupCol(a.getId()):a.getColDef().showRowGroup;return u||c||h})}const t=this.funcColsService.getRowGroupColumns().filter(s=>!!s.getSort()),i={};e.forEach((s,a)=>i[s.getId()]=a),e.sort((s,a)=>{const u=s.getSortIndex(),c=a.getSortIndex();if(u!=null&&c!=null)return u-c;if(u==null&&c==null){const h=i[s.getId()],p=i[a.getId()];return h>p?1:-1}else return c==null?-1:1});const n=zn(this.gos)&&!!t.length;n&&(e=[...new Set(e.map(s=>{var a;return((a=this.showRowGroupColsService)==null?void 0:a.getShowRowGroupCol(s.getId()))??s}))]);const r=new Map;return e.forEach((s,a)=>r.set(s,a)),n&&t.forEach(s=>{const a=this.showRowGroupColsService.getShowRowGroupCol(s.getId());r.set(s,r.get(a))}),r}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[i,n])=>t-n).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=zn(this.gos),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){const t=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const n=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,r=n[0].getSort();return n.every(a=>a.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},B4=class extends ie{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});const e=this.gos.isModuleRegistered("@ag-grid-enterprise/core");this.gos.get("debug")&&On(`initialised successfully, enterprise = ${e}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.columnModel.setColumnDefs(t,oo(e.source))}}},H4="paste",V4=class extends ie{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){vt(this.gos)&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){e.source!==H4&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;const i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const n=this.gos.get("aggregateOnlyChangedColumns"),r=new bp(n,this.clientSideRowModel.getRootNode());r.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(r),r.forEachChangedNodeDepthFirst(s=>{i.push(s)})}this.rowRenderer.refreshCells({rowNodes:i})}},j4=class extends ie{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Qe("value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(i){return On("Processing of the expression failed"),On("Expression = ",e),On("Params = ",t),On("Exception = ",i),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},z4=class extends ie{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=i)}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},W4=class extends ie{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=er(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=i=>this.callColumnCellValueChangedHandler(i),t=ef(this.gos);this.eventService.addEventListener("cellValueChanged",e,t),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",e,t)),this.addManagedPropertyListener("treeData",i=>this.isTreeData=i.currentValue)}getValueForDisplay(e,t){const i=t.leafGroup&&this.columnModel.isPivotMode(),n=t.group&&t.expanded&&!t.footer&&!i,r=this.gos.get("groupSuppressBlankHeader");if(!n||r)return this.getValue(e,t);let s=!1;const a=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");typeof a!="function"?s=!!a:s=!!(this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter"))({node:this});const u=n&&s;return this.getValue(e,t,!1,u)}getValue(e,t,i=!1,n=!1){if(this.initialised||this.init(),!t)return;const r=e.getColDef(),s=r.field,a=e.getColId(),u=t.data;let c;const h=t.groupData&&t.groupData[a]!==void 0,p=!n&&t.aggData&&t.aggData[a]!==void 0,g=this.isSsrm&&n&&!!e.getColDef().aggFunc,m=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(i&&r.filterValueGetter?c=this.executeFilterValueGetter(r.filterValueGetter,u,e,t):this.isTreeData&&p?c=t.aggData[a]:this.isTreeData&&r.valueGetter?c=this.executeValueGetter(r.valueGetter,u,e,t):this.isTreeData&&s&&u?c=Qu(u,s,e.isFieldContainsDots()):h?c=t.groupData[a]:p?c=t.aggData[a]:r.valueGetter?c=this.executeValueGetter(r.valueGetter,u,e,t):m?c=Qu(u,t.field,e.isFieldContainsDots()):s&&u&&!g&&(c=Qu(u,s,e.isFieldContainsDots())),this.cellExpressions&&typeof c=="string"&&c.indexOf("=")===0){const y=c.substring(1);c=this.executeValueGetter(y,u,e,t)}if(c==null){const y=this.getOpenedGroup(t,e);if(y!=null)return y}return c}parseValue(e,t,i,n){const r=e.getColDef(),s=r.valueParser;if(pe(s)){const a=this.gos.addGridCommonParams({node:t,data:t==null?void 0:t.data,oldValue:n,newValue:i,colDef:r,column:e});return typeof s=="function"?s(a):this.expressionService.evaluate(s,a)}return i}getDeleteValue(e,t){return pe(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,i,n,r=!0){let s=null,a;const u=e.getColDef();if(n?a=n:r&&(a=u.valueFormatter),a){const c=this.gos.addGridCommonParams({value:i,node:t,data:t?t.data:null,colDef:u,column:e});typeof a=="function"?s=a(c):s=this.expressionService.evaluate(a,c)}else if(u.refData)return u.refData[i]||"";return s==null&&Array.isArray(i)&&(s=i.join(", ")),s}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const n=t.getColDef().showRowGroup;let r=e.parent;for(;r!=null;){if(r.rowGroupColumn&&(n===!0||n===r.rowGroupColumn.getColId()))return r.key;r=r.parent}}setValue(e,t,i,n){const r=this.columnModel.getColDefCol(t);if(!e||!r)return!1;je(e.data)&&(e.data={});const{field:s,valueSetter:a}=r.getColDef();if(je(s)&&je(a))return ue("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(r,i))return ue("Data type of the new value does not match the cell data type of the column"),!1;const u=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(r,e),newValue:i,colDef:r.getColDef(),column:r});u.newValue=i;let c;if(pe(a)?typeof a=="function"?c=a(u):c=this.expressionService.evaluate(a,u):c=this.setValueUsingField(e.data,s,i,r.isFieldContainsDots()),c===void 0&&(c=!0),!c)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged();const h=this.getValue(r,e);return this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:u.column,colDef:u.colDef,data:e.data,node:e,oldValue:u.oldValue,newValue:h,value:h,source:n}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,i,n){if(!t)return!1;let r=!1;if(!n)r=e[t]===i,r||(e[t]=i);else{const s=t.split(".");let a=e;for(;s.length>0&&a;){const u=s.shift();s.length===0?(r=a[u]===i,r||(a[u]=i)):a=a[u]}}return!r}executeFilterValueGetter(e,t,i,n){const r=this.gos.addGridCommonParams({data:t,node:n,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,n)});return typeof e=="function"?e(r):this.expressionService.evaluate(e,r)}executeValueGetter(e,t,i,n){const r=i.getColId(),s=this.valueCache.getValue(n,r);if(s!==void 0)return s;const a=this.gos.addGridCommonParams({data:t,node:n,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,n)});let u;return typeof e=="function"?u=e(a):u=this.expressionService.evaluate(e,a),this.valueCache.setValue(n,r,u),u}getValueCallback(e,t){const i=this.columnModel.getColDefCol(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){const i=this.getValue(e,t),n=e.getColDef().keyCreator;let r=i;if(n){const s=this.gos.addGridCommonParams({value:i,colDef:e.getColDef(),column:e,node:t,data:t.data});r=n(s)}return typeof r=="string"||r==null||(r=String(r),r==="[object Object]"&&ue("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),r}},a0=class no{static applyGlobalGridOptions(t){if(!no.gridOptions)return t;let i={};return vi(i,no.gridOptions,!0,!0),no.mergeStrategy==="deep"?vi(i,t,!0,!0):i={...i,...t},no.gridOptions.context&&(i.context=no.gridOptions.context),t.context&&(no.mergeStrategy==="deep"&&i.context&&vi(t.context,i.context,!0,!0),i.context=t.context),i}};a0.gridOptions=void 0;a0.mergeStrategy="shallow";var k_=a0;function U4(e){var t;return(t=k_.gridOptions)==null?void 0:t[e]}var $4=1,q4=class{create(e,t,i,n,r){const s=k_.applyGlobalGridOptions(t),a=x4(s),u=a.gridId??String($4++),c=this.getRegisteredModules(r,u),h=this.createBeansList(a.rowModelType,c,u),p=this.createProvidedBeans(e,a,r);if(!h){Qe("Failed to create grid.");return}const g={providedBeanInstances:p,beanClasses:h,gridId:u,beanInitComparator:oq,beanDestroyComparator:aq,derivedBeans:[Q3]},m=new cW(g);return this.registerModuleUserComponents(m,c),this.registerControllers(m,c),this.registerModuleApiFunctions(m,c),i(m),m.getBean("syncService").start(),n&&n(m),m.getBean("gridApi")}registerControllers(e,t){const i=e.getBean("ctrlsFactory");t.forEach(n=>{n.controllers&&n.controllers.forEach(r=>i.register(r))})}getRegisteredModules(e,t){const i=e?e.modules:null,n=Wn.__getRegisteredModules(t),r=[],s={},a=(u,c,h)=>{(g=>{s[g.moduleName]||(s[g.moduleName]=!0,r.push(g),Wn.__register(g,u,h))})(c),c.dependantModules&&c.dependantModules.forEach(g=>a(u,g,h))};return a(!!(i!=null&&i.length)||!Wn.__isPackageBased(),O_,void 0),i&&i.forEach(u=>a(!0,u,t)),n&&n.forEach(u=>a(!Wn.__isPackageBased(),u,void 0)),r}registerModuleUserComponents(e,t){const i=this.extractModuleEntity(t,r=>r.userComponents?r.userComponents:[]),n=e.getBean("userComponentRegistry");i.forEach(({name:r,classImp:s,params:a})=>{n.registerDefaultComponent(r,s,a)})}registerModuleApiFunctions(e,t){const i=e.getBean("apiFunctionService");t.forEach(n=>{const r=n.apiFunctions;r&&Object.keys(r).forEach(a=>{i==null||i.addFunction(a,r[a])})})}createProvidedBeans(e,t,i){let n=i?i.frameworkOverrides:null;je(n)&&(n=new R_);const r={gridOptions:t,eGridDiv:e,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:n};return i&&i.providedBeanInstances&&Object.assign(r,i.providedBeanInstances),r}createBeansList(e="clientSide",t,i){const n=t.filter(c=>!c.rowModel||c.rowModel===e),r={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!r[e]){Qe("Could not find row model for rowModelType = ",e);return}if(!Wn.__assertRegistered(r[e],`rowModelType = '${e}'`,i))return;const s=[hq,cq,E4,S4,X3,W2,nq,rq,U$,LN,N4,z$,A4,_3,pW,zz,gq,R4,$3,__,Oz,EU,T4,D4,I3,j4,Fz,j$,z4,W4,O3,W$,dW,mq,V$,fq,K3,V3,H$,G4,O4,F4,k4,V4,$$,Z3,I4,_4,uq,vq,dq,lq,B4,L4,q$,P4,M4,K$,Nz,J3,_z,Lz,eq,tq,jz,Iz,Hz,iq,Vz,Az],a=this.extractModuleEntity(n,c=>c.beans?c.beans:[]);s.push(...a);const u=[];return s.forEach(c=>{u.indexOf(c)<0&&u.push(c)}),u}extractModuleEntity(e,t){return[].concat(...e.map(t))}},G_=class extends ie{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){const e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function K4(e){e.expansionService.expandAll(!0)}function Y4(e){e.expansionService.expandAll(!1)}function X4(e){var n,r;const t=(n=e.rowModelHelperService)==null?void 0:n.getClientSideRowModel(),i=(r=e.rowModelHelperService)==null?void 0:r.getServerSideRowModel();t?t.onRowHeightChanged():i&&i.onRowHeightChanged()}function Q4(e,t,i){var s,a;const n=(s=e.rowModelHelperService)==null?void 0:s.getServerSideRowModel();if(n){if(e.funcColsService.isRowGroupEmpty()){n.setRowCount(t,i);return}Qe("setRowCount cannot be used while using row grouping.");return}const r=(a=e.rowModelHelperService)==null?void 0:a.getInfiniteRowModel();if(r){r.setRowCount(t,i);return}}function Z4(e){var t;return((t=e.rowNodeBlockLoader)==null?void 0:t.getBlockState())??{}}function J4(e){return e.rowModel.isLastRowIndexKnown()}var e6={version:Ae,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:K4,collapseAll:Y4,onRowHeightChanged:X4}},t6={version:Ae,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:Q4,getCacheBlockState:Z4,isLastRowIndexKnown:J4}},i6=class{wrap(e,t,i=[],n){const r=this.createWrapper(e,n);return t.forEach(s=>{this.createMethod(r,s,!0)}),i.forEach(s=>{this.createMethod(r,s,!1)}),r}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&ue("Framework component is missing the method "+t+"()"),null)}}},Pl=typeof global>"u"?{}:global;Pl.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;Pl.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;Pl.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;Pl.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;Pl.Node=typeof Node>"u"?{}:Node;Pl.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var n6="ROOT_NODE_ID",kv=0,r6=class{constructor(e,t,i,n,r,s){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=t,this.eventService=i,this.funcColsService=n,this.beans=s,this.selectionService=r,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=n6,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return oN(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){ue("rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const t=this.rootNode,i=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map((n,r)=>this.createNode(n,this.rootNode,kv,r)):(t.allLeafChildren=[],t.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=t.childrenAfterFilter,i.childrenAfterGroup=t.childrenAfterGroup,i.childrenAfterAggFilter=t.childrenAfterAggFilter,i.childrenAfterSort=t.childrenAfterSort,i.childrenMapped=t.childrenMapped,i.allLeafChildren=t.allLeafChildren)}updateRowData(e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const t={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[];return this.executeRemove(e,t,i),this.executeUpdate(e,t,i),this.executeAdd(e,t),this.updateSelection(i,"rowDataChanged"),t}updateRowOrderFromRowData(e){const t=this.rootNode.allLeafChildren,i=(t==null?void 0:t.length)??0,n=new Map;let r=-1,s=-1;for(let a=0;a<i;++a){const u=t[a],c=u.data;c!==e[a]&&(s<0&&(r=a),s=a,n.set(c,u))}if(r<0)return!1;for(let a=r;a<=s;++a){const u=n.get(e[a]);u!==void 0&&(t[a]=u,u.sourceRowIndex=a)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}updateSelection(e,t){const i=e.length>0;i&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),i&&this.eventService.dispatchEvent({type:"selectionChanged",source:t})}executeAdd(e,t){const i=e.add;if(Yi(i))return;const n=this.rootNode.allLeafChildren;let r=n.length;if(typeof e.addIndex=="number"&&(r=this.sanitizeAddIndex(e.addIndex),r>0&&this.gos.get("treeData")))for(let c=0;c<n.length;c++){const h=n[c];if((h==null?void 0:h.rowIndex)==r-1){r=c+1;break}}const s=i.map((u,c)=>this.createNode(u,this.rootNode,kv,r+c));if(r<n.length){const u=n.slice(0,r),c=n.slice(r,n.length),h=u.length+s.length;for(let p=0,g=c.length;p<g;++p)c[p].sourceRowIndex=h+p;this.rootNode.allLeafChildren=[...u,...s,...c],t.rowsInserted=!0}else this.rootNode.allLeafChildren=n.concat(s);const a=this.rootNode.sibling;a&&(a.allLeafChildren=n),t.rowNodeTransaction.add=s}sanitizeAddIndex(e){var i;const t=((i=this.rootNode.allLeafChildren)==null?void 0:i.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}executeRemove(e,{rowNodeTransaction:t},i){var a,u;const{remove:n}=e;if(Yi(n))return;const r={};n.forEach(c=>{const h=this.lookupRowNode(c);h&&(h.isSelected()&&i.push(h),h.clearRowTopAndRowIndex(),r[h.id]=!0,delete this.allNodesMap[h.id],t.remove.push(h))}),this.rootNode.allLeafChildren=((a=this.rootNode.allLeafChildren)==null?void 0:a.filter(c=>!r[c.id]))??null,(u=this.rootNode.allLeafChildren)==null||u.forEach((c,h)=>{c.sourceRowIndex=h});const s=this.rootNode.sibling;s&&(s.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,{rowNodeTransaction:t},i){const{update:n}=e;Yi(n)||n.forEach(r=>{const s=this.lookupRowNode(r);s&&(s.updateData(r),!s.selectable&&s.isSelected()&&i.push(s),this.setMasterForRow(s,r,kv,!1),t.update.push(s))})}lookupRowNode(e){var n;const t=xl(this.gos);let i;if(t){const r=t({data:e,level:0});if(i=this.allNodesMap[r],!i)return Qe(`could not find row id=${r}, data item was not found for this id`),null}else if(i=(n=this.rootNode.allLeafChildren)==null?void 0:n.find(r=>r.data===e),!i)return Qe("could not find data item as object was not found",e),Qe("Consider using getRowId to help the Grid find matching row data"),null;return i||null}createNode(e,t,i,n){const r=new Dr(this.beans);return r.sourceRowIndex=n,r.group=!1,this.setMasterForRow(r,e,i,!0),t&&(r.parent=t),r.level=i,r.setDataAndId(e,this.nextId.toString()),this.allNodesMap[r.id]&&ue(`duplicate node id '${r.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[r.id]=r,this.nextId++,r}setMasterForRow(e,t,i,n){if(this.gos.get("treeData"))e.setMaster(!1),n&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){const a=this.gos.get("isRowMaster");a?e.setMaster(a(t)):e.setMaster(!0)}else e.setMaster(!1);if(n){const a=this.funcColsService.getRowGroupColumns(),u=a?a.length:0,c=i+u;e.expanded=e.master?this.isExpanded(c):!1}}}isExpanded(e){const t=this.gos.get("groupDefaultExpanded");return t===-1?!0:e<t}},s6=class extends ie{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=yi(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){const e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedEventListeners({newColumnsLoaded:i,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new Dr(this.beans),this.nodeManager=new r6(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),i=new Set(["excludeChildrenWhenTreeDataFiltering"]),n=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),r=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),s=new Set(["postSortRows","groupDisplayType","accentedSort"]),a=new Set([]),u=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),c=[...e,...t,...i,...n,...n,...r,...s,...a,...u];this.addManagedPropertyListeners(c,h=>{var m;const p=(m=h.changeSet)==null?void 0:m.properties;if(!p)return;const g=y=>p.some(b=>y.has(b));if(g(e)){this.setRowData(this.rootNode.allLeafChildren.map(y=>y.data));return}if(g(t)){this.refreshModel({step:"group"});return}if(g(i)){this.refreshModel({step:"filter"});return}if(g(n)){this.refreshModel({step:"pivot"});return}if(g(r)){this.refreshModel({step:"aggregate"});return}if(g(s)){this.refreshModel({step:"sort"});return}if(g(a)){this.refreshModel({step:"filter_aggregates"});return}g(u)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,i,n){let r,s=!1;do{r=!1;const a=this.getRowIndexAtPixel(e),u=this.getRowIndexAtPixel(t),c=Math.max(a,i),h=Math.min(u,n);for(let p=c;p<=h;p++){const g=this.getRow(p);if(g.rowHeightEstimated){const m=Rs(this.gos,g);g.setRowHeight(m.height),r=!0,s=!0}}r&&this.setRowTopAndRowIndex()}while(r);return s}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const i=new Set,n=ri(this.gos,"normal");for(let r=0;r<this.rowsToDisplay.length;r++){const s=this.rowsToDisplay[r];if(s.id!=null&&i.add(s.id),s.rowHeight==null){const a=Rs(this.gos,s,n,e);s.setRowHeight(a.height,a.estimated)}s.setRowTop(t),s.setRowIndex(r),t+=s.rowHeight}return i}clearRowTopAndRowIndex(e,t){const i=e.isActive(),n=s=>{s&&s.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},r=s=>{if(n(s),n(s.detailNode),n(s.sibling),s.hasChildren()&&s.childrenAfterGroup){const a=s.level==-1;i&&!a&&!s.expanded||s.childrenAfterGroup.forEach(r)}};r(this.rootNode)}ensureRowsAtPixel(e,t,i=0){const n=this.getRowIndexAtPixel(t),r=this.getRow(n),s=!this.gos.get("suppressAnimationFrame");if(r===e[0])return!1;const a=this.rootNode.allLeafChildren;return e.forEach(u=>{Ci(a,u)}),e.forEach((u,c)=>{rf(a,u,Math.max(n+i,0)+c)}),e.forEach((u,c)=>{u.sourceRowIndex=c}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:s,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(e,t){const i=t!=null?this.getRowIndexAtPixel(t):null,n=i!=null?this.getRow(i):null;if(!n||!e||t==null){this.clearHighlightedRow();return}const r=this.getHighlightPosition(t,n),s=this.isHighlightingCurrentPosition(e,n,r),a=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==n;(s||a)&&(this.clearHighlightedRow(),s)||(n.setHighlighted(r),this.lastHighlightedRow=n)}getHighlightPosition(e,t){if(!t){const r=this.getRowIndexAtPixel(e);if(t=this.getRow(r||0),!t)return 1}const{rowTop:i,rowHeight:n}=t;return e-i<n/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,i){if(e===t)return!0;const n=i===0?-1:1;return this.getRow(t.rowIndex+n)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.childrenAfterAggFilter,i=this.rootNode.sibling?1:0;return(t?t.length:0)+i}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let i=e;if(this.rowsToDisplay[0].footer){if(e===0)return 0;i-=1}const n=this.rowsToDisplay[this.rowsToDisplay.length-1],r=i>=this.rootNode.childrenAfterSort.length;if(n.footer&&r)return n.rowIndex;let s=this.rootNode.childrenAfterSort[i];if(this.gos.get("groupHideOpenParents"))for(;s.expanded&&s.childrenAfterSort&&s.childrenAfterSort.length>0;)s=s.childrenAfterSort[0];return s.rowIndex}getRowBounds(e){if(je(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=Ba(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=Ba(this.gos),n=e.columns.length===0||e.columns.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:n,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=Ba(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const t=Yi(e),i=new bp(!1,this.rootNode);return t&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;const t=e.rowNodeTransactions.filter(n=>n.add!=null&&n.add.length>0||n.remove!=null&&n.remove.length>0);return t==null||t.length==0}buildRefreshModelParams(e){let t="group";const i={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",filter_aggregates:"filter_aggregates",sort:"sort",pivot:"pivot",nothing:"nothing"};if(pe(e)&&(t=i[e]),je(t)){Qe(`invalid step ${e}, available steps are ${Object.keys(i).join(", ")}`);return}const n=!this.gos.get("suppressAnimationFrame");return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:n}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const t=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const i=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,i,!!t.rowNodesOrderChanged,!!t.afterColumnsChanged);case"filter":this.doFilter(i);case"pivot":this.doPivot(i);case"aggregate":this.doAggregate(i);case"filter_aggregates":this.doFilterAggregates(i);case"sort":this.doSort(t.rowNodeTransactions,i);case"map":this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,n),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){const e=je(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return je(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return pe(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!1,n=!1;const r=[],s=Do(this.gos);return this.forEachNodeAfterFilterAndSort(a=>{if(n)return;if(i&&(a===t||a===e)&&(n=!0,a.group&&s)){r.push(...a.allLeafChildren);return}if(!i){if(a!==t&&a!==e)return;i=!0}if(!a.group||!s){r.push(a);return}}),r}setDatasource(e){Qe("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let t=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if(Ve(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let r=-1,s=-1;for(;;){const a=Math.floor((t+i)/2),u=this.rowsToDisplay[a];if(this.isRowInPixel(u,e)||(u.rowTop<e?t=a+1:u.rowTop>e&&(i=a-1),r===t&&s===i))return a;r=t,s=i}}isRowInPixel(e,t){const i=e.rowTop,n=e.rowTop+e.rowHeight;return i<=t&&n>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,i)=>e(t,i))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:i,recursionType:n,includeFooterNodes:r}=e;let{index:s}=e;const a=u=>{var y;const c=(y=t[0])==null?void 0:y.parent;if(!c)return;const h=r&&XI(this.gos),p=QI(this.gos),g=r&&p({node:c});if(c===this.rootNode){h===u&&(c.createFooter(),i(c.sibling,s++));return}g===u&&(c.createFooter(),i(c.sibling,s++))};a("top");for(let u=0;u<t.length;u++){const c=t[u];if(i(c,s++),c.hasChildren()&&!c.footer){let h=null;switch(n){case 0:h=c.childrenAfterGroup;break;case 1:h=c.childrenAfterAggFilter;break;case 2:h=c.childrenAfterSort;break;case 3:h=c.leafGroup?null:c.childrenAfterSort;break}h&&(s=this.recursivelyWalkNodesAndCallback({nodes:[...h],callback:i,recursionType:n,index:s,includeFooterNodes:r}))}}return a("bottom"),s}doAggregate(e){var t;(t=this.aggregationStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gos.get("treeData"),i=this.columnModel.isPivotActive(),n=r=>{r&&r.forEach(s=>{const a=()=>{s.expanded=e,n(s.childrenAfterGroup)};if(t){pe(s.childrenAfterGroup)&&a();return}if(i){!s.leafGroup&&a();return}s.group&&a()})};this.rootNode&&n(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,i,n){if(this.groupStage)e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodesOrderChanged:i,changedPath:t}):this.groupStage.execute({rowNode:this.rootNode,changedPath:t,afterColumnsChanged:n}),Do(this.gos)&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",t)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"});else{const r=this.rootNode,s=r.sibling;r.childrenAfterGroup=r.allLeafChildren,s&&(s.childrenAfterGroup=r.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getNodeManager(){return this.nodeManager}getRowNode(e){if(typeof e=="string"&&e.indexOf(Dr.ID_PREFIX_ROW_GROUP)==0){let i;return this.forEachNode(n=>{n.id===e&&(i=n)}),i}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const i=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var n;this.valueCache.onDataChanged();const e=[],t=[];let i=!1;(n=this.rowDataTransactionBatch)==null||n.forEach(r=>{const{rowNodeTransaction:s,rowsInserted:a}=this.nodeManager.updateRowData(r.rowDataTransaction);a&&(i=!0),t.push(s),r.callback&&e.push(r.callback.bind(null,s))}),this.commonUpdateRowData(t,i),e.length>0&&window.setTimeout(()=>{e.forEach(r=>r())},0),t.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache.onDataChanged();const{rowNodeTransaction:t,rowsInserted:i}=this.nodeManager.updateRowData(e);return this.commonUpdateRowData([t],i),t}afterImmutableDataChange(e,t){this.commonUpdateRowData([e],t)}commonUpdateRowData(e,t){if(!this.hasStarted)return;const i=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodesOrderChanged:t,keepRenderedRows:!0,keepEditingRows:!0,animate:i})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow()}};function o6(e){e.expansionService.onGroupExpandedOrCollapsed()}function a6(e,t){var i,n;(n=(i=e.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null||n.refreshModel(t)}function l6(e){var t,i;return((i=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null?void 0:i.isEmpty())??!0}function u6(e,t){var i,n;(n=(i=e.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null||n.forEachLeafNode(t)}function c6(e,t){var i,n;(n=(i=e.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null||n.forEachNodeAfterFilter(t)}function d6(e,t){var i,n;(n=(i=e.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null||n.forEachNodeAfterFilterAndSort(t)}function h6(e){var t,i;if(e.columnModel.isAutoRowHeightActive()){ue("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}(i=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null||i.resetRowHeights()}function f6(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var i,n;return(n=(i=e.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null?void 0:n.updateRowData(t)})}function p6(e,t,i){e.frameworkOverrides.wrapIncoming(()=>{var n,r;return(r=(n=e.rowModelHelperService)==null?void 0:n.getClientSideRowModel())==null?void 0:r.batchUpdateRowData(t,i)})}function g6(e){e.frameworkOverrides.wrapIncoming(()=>{var t,i;return(i=(t=e.rowModelHelperService)==null?void 0:t.getClientSideRowModel())==null?void 0:i.flushAsyncTransactions()})}function m6(e){return e.selectionService.getBestCostNodeSelection()}var v6=class extends ie{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var i;const t=!!((i=this.filterManager)!=null&&i.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const i=(n,r)=>{n.hasChildren()&&e&&!r?n.childrenAfterFilter=n.childrenAfterGroup.filter(s=>{const a=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,u=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return a||u}):n.childrenAfterFilter=n.childrenAfterGroup,n.sibling&&(n.sibling.childrenAfterFilter=n.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const n=(s,a)=>{if(s.childrenAfterGroup)for(let u=0;u<s.childrenAfterGroup.length;u++){const c=s.childrenAfterGroup[u],h=a||this.filterManager.doesRowPassFilter({rowNode:c});c.childrenAfterGroup?n(s.childrenAfterGroup[u],h):i(c,h)}i(s,a)},r=s=>n(s,!1);t.executeFromRootNode(r)}else{const n=r=>i(r,!1);t.forEachChangedNodeDepthFirst(n,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},y6=class extends ie{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){const t=e.rowNode,i=[],n=this.columnModel.isPivotMode(),r=n&&t.leafGroup,s=r?[t]:t.childrenAfterSort,a=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(a,s,i,n,0);const u=i.length>0;if(!r&&u&&a.grandTotalRow){t.createFooter();const h=a.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(a,t.sibling,i,0,h)}return i}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:ZI(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:XI(this.gos),groupTotalRow:QI(this.gos)}}recursivelyAddToRowsToDisplay(e,t,i,n,r){if(!Yi(t))for(let s=0;s<t.length;s++){const a=t[s],u=a.hasChildren(),c=n&&!u,h=e.groupRemoveSingleChildren&&u&&a.childrenAfterGroup.length===1,p=e.groupRemoveLowestSingleChildren&&u&&a.leafGroup&&a.childrenAfterGroup.length===1,g=n&&a.leafGroup,m=e.hideOpenParents&&a.expanded&&!a.master&&!g;if(!c&&!m&&!h&&!p&&this.addRowNodeToRowsToDisplay(e,a,i,r),!(n&&a.leafGroup)){if(u){const b=h||p;if(a.expanded||b){const w=e.groupTotalRow({node:a});w||a.destroyFooter();const S=b?r:r+1;w==="top"&&(a.createFooter(),this.addRowNodeToRowsToDisplay(e,a.sibling,i,S)),this.recursivelyAddToRowsToDisplay(e,a.childrenAfterSort,i,n,S),w==="bottom"&&(a.createFooter(),this.addRowNodeToRowsToDisplay(e,a.sibling,i,S))}}else if(a.master&&a.expanded){const b=this.createDetailNode(a);this.addRowNodeToRowsToDisplay(e,b,i,r)}}}}addRowNodeToRowsToDisplay(e,t,i,n,r){r?i.unshift(t):i.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:n)}createDetailNode(e){if(pe(e.detailNode))return e.detailNode;const t=new Dr(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,pe(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}},C6=class extends ie{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){vt(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const e=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const i=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:n,rowsInserted:r}=i.updateRowData(t);let s=!1;this.gos.get("suppressMaintainUnsortedOrder")||(s=i.updateRowOrderFromRowData(e)),this.clientSideRowModel.afterImmutableDataChange(n,s||r)}createTransactionForRowData(e){if(!vt(this.gos))return Qe("ImmutableService only works with ClientSideRowModel"),null;const t=xl(this.gos);if(t==null)return Qe("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;const i=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),n=[],r=[],s=[];return pe(e)&&e.forEach(a=>{const u=t({data:a,level:0}),c=i[u];c?(c.data!==a&&r.push(a),i[u]=void 0):s.push(a)}),Mn(i,(a,u)=>{u&&n.push(u.data)}),{remove:n,update:r,add:s}}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}},S6=class extends ie{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,t,i,n,r,s){const a=this.gos.get("groupMaintainOrder"),u=this.columnModel.getCols().some(m=>m.isRowGroupActive());let c={};i&&n&&(c=this.calculateDirtyNodes(n));const h=this.columnModel.isPivotMode(),p=this.gos.getCallback("postSortRows"),g=m=>{var w;this.pullDownGroupDataForHideOpenParents(m.childrenAfterAggFilter,!0);const y=h&&m.leafGroup;if(a&&u&&!m.leafGroup&&!s){const S=(w=this.funcColsService.getRowGroupColumns())==null?void 0:w[m.level+1],x=(S==null?void 0:S.getSort())===null,E=m.childrenAfterAggFilter.slice(0);if(m.childrenAfterSort&&!x){const R={};m.childrenAfterSort.forEach((T,A)=>{R[T.id]=A}),E.sort((T,A)=>(R[T.id]??0)-(R[A.id]??0))}m.childrenAfterSort=E}else!t||y?m.childrenAfterSort=m.childrenAfterAggFilter.slice(0):i?m.childrenAfterSort=this.doDeltaSort(m,c,r,e):m.childrenAfterSort=this.rowNodeSorter.doFullSort(m.childrenAfterAggFilter,e);if(m.sibling&&(m.sibling.childrenAfterSort=m.childrenAfterSort),this.updateChildIndexes(m),p){const S={nodes:m.childrenAfterSort};p(S)}};r&&r.forEachChangedNodeDepthFirst(g),this.updateGroupDataForHideOpenParents(r)}calculateDirtyNodes(e){const t={},i=n=>{n&&n.forEach(r=>t[r.id]=!0)};return e&&e.forEach(n=>{i(n.add),i(n.update),i(n.remove)}),t}doDeltaSort(e,t,i,n){const r=e.childrenAfterAggFilter,s=e.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(r,n);const a={},u=[];r.forEach(g=>{t[g.id]||!i.canSkip(g)?u.push(g):a[g.id]=!0});const c=s.filter(g=>a[g.id]),h=(g,m)=>({currentPos:m,rowNode:g}),p=u.map(h).sort((g,m)=>this.rowNodeSorter.compareRowNodes(n,g,m));return this.mergeSortedArrays(n,p,c.map(h)).map(({rowNode:g})=>g)}mergeSortedArrays(e,t,i){const n=[];let r=0,s=0;for(;r<t.length&&s<i.length;)this.rowNodeSorter.compareRowNodes(e,t[r],i[s])<0?n.push(t[r++]):n.push(i[s++]);for(;r<t.length;)n.push(t[r++]);for(;s<i.length;)n.push(i[s++]);return n}updateChildIndexes(e){if(je(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let i=0;i<t.length;i++){const n=t[i],r=i===0,s=i===e.childrenAfterSort.length-1;n.setFirstChild(r),n.setLastChild(s),n.setChildIndex(i)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return ue("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=i=>{this.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach(n=>{n.hasChildren()&&t(n)})};e&&e.executeFromRootNode(i=>t(i))}pullDownGroupDataForHideOpenParents(e,t){!this.gos.get("groupHideOpenParents")||je(e)||e.forEach(i=>{var r;(((r=this.showRowGroupColsService)==null?void 0:r.getShowRowGroupCols())??[]).forEach(s=>{const a=s.getColDef().showRowGroup;if(typeof a!="string"){Qe("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const u=a,c=this.columnModel.getColDefCol(u);if(c!==i.rowGroupColumn)if(t)i.setGroupValue(s.getId(),void 0);else{const p=this.getFirstChildOfFirstChild(i,c);p&&i.setGroupValue(s.getId(),p.key)}})})}getFirstChildOfFirstChild(e,t){let i=e;for(;i;){const n=i.parent;if(n&&i.firstChild){if(n.rowGroupColumn===t)return n}else return null;i=n}return null}},b6=class extends ie{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){const t=this.sortController.getSortOptions(),i=pe(t)&&t.length>0,n=i&&pe(e.rowNodeTransactions)&&this.gos.get("deltaSort"),r=t.some(s=>zn(this.gos)?s.column.isPrimary()&&s.column.isRowGroupActive():!!s.column.getColDef().showRowGroup);this.sortService.sort(t,i,n,e.rowNodeTransactions,e.changedPath,r)}},l0="32.3.9",B_={version:l0,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[s6,v6,b6,y6,S6,C6]},w6={version:l0,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[G_],apiFunctions:{onGroupExpandedOrCollapsed:o6,refreshClientSideRowModel:a6,isRowDataEmpty:l6,forEachLeafNode:u6,forEachNodeAfterFilter:c6,forEachNodeAfterFilterAndSort:d6,resetRowHeights:h6,applyTransaction:f6,applyTransactionAsync:p6,flushAsyncTransactions:g6,getBestCostNodeSelection:m6},dependantModules:[B_,e6]},x6={version:l0,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[B_,w6]},R6=class extends ie{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},E6=class{constructor(e){this.groupColumns=[];const{columnModel:t,funcColsService:i,columnNameService:n,valueService:r,gos:s,processCellCallback:a,processHeaderCallback:u,processGroupHeaderCallback:c,processRowGroupCallback:h}=e;this.columnModel=t,this.funcColsService=i,this.columnNameService=n,this.valueService=r,this.gos=s,this.processCellCallback=a,this.processHeaderCallback=u,this.processGroupHeaderCallback=c,this.processRowGroupCallback=h}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,i,n,r){const a=(!this.gos.get("groupHideOpenParents")||r.footer)&&this.shouldRenderGroupSummaryCell(r,e,t)?this.createValueForGroupNode(e,r):this.valueService.getValue(e,r);return this.processCell({accumulatedRowIndex:i,rowNode:r,column:e,value:a,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,t,i){var a;if(!(e&&e.group))return!1;if(this.groupColumns.indexOf(t)!==-1){const u=(a=e.groupData)==null?void 0:a[t.getId()],c=this.gos.get("suppressGroupMaintainValueType");if(c&&u!=null||!c&&u!==void 0||er(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){const h=t.getColDef();return h==null||h.showRowGroup===!0||h.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}const s=pp(this.gos,this.columnModel.isPivotMode());return i===0&&s}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnNameService.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));const i=this.gos.get("treeData"),n=this.gos.get("suppressGroupMaintainValueType"),r=c=>{var p;if(i||n)return c.key;const h=(p=c.groupData)==null?void 0:p[e.getId()];return!h||!c.rowGroupColumn||c.rowGroupColumn.getColDef().useValueFormatterForExport===!1?h:this.valueService.formatValue(c.rowGroupColumn,c,h)??h},s=t.footer,a=[r(t)];if(!ZI(this.gos))for(;t.parent;)t=t.parent,a.push(r(t));const u=a.reverse().join(" -> ");return s?`Total ${u}`:u}processCell(e){const{accumulatedRowIndex:t,rowNode:i,column:n,value:r,processCellCallback:s,type:a}=e;return s?{value:s(this.gos.addGridCommonParams({accumulatedRowIndex:t,column:n,node:i,value:r,type:a,parseValue:u=>this.valueService.parseValue(n,i,u,this.valueService.getValue(n,i)),formatValue:u=>this.valueService.formatValue(n,i,u)??u}))??""}:n.getColDef().useValueFormatterForExport!==!1?{value:r??"",valueFormatted:this.valueService.formatValue(n,i,r)}:{value:r??""}}},A6=class{static download(e,t){const i=document.defaultView||window;if(!i){ue("There is no `window` associated with the current `document`");return}const n=document.createElement("a"),r=i.URL.createObjectURL(t);n.setAttribute("href",r),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(n),i.setTimeout(()=>{i.URL.revokeObjectURL(r)},0)}},QD=`\r
`,P6=class extends E6{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:i}=e;this.suppressQuotes=t,this.columnSeparator=i}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,QD),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((i,n)=>{n!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i.data.value||""),i.mergeAcross&&this.appendEmptyCells(i.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,i,n){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,i){t!=0&&(this.result+=this.columnSeparator);const n=this.extractRowCellValue(e,t,t,"csv",i);this.result+=this.putInQuotes(n.valueFormatted??n.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(ue("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=QD),this.isFirstLine=!1}},D6=class extends R6{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){ue("Export cancelled. Export is not allowed as per your configuration.");return}const t=this.getMergedParams(e),i=this.getData(t),n=new Blob(["\uFEFF",i],{type:"text/plain"}),r=typeof t.fileName=="function"?t.fileName(this.gos.getGridCommonParams()):t.fileName;A6.download(this.getFileName(r),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const i=t?Object.assign({},e):this.getMergedParams(e);return this.getData(i)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,columnNameService:i,funcColsService:n,valueService:r,gos:s}=this,{processCellCallback:a,processHeaderCallback:u,processGroupHeaderCallback:c,processRowGroupCallback:h,suppressQuotes:p,columnSeparator:g}=e;return new P6({columnModel:t,columnNameService:i,funcColsService:n,valueService:r,gos:s,processCellCallback:a||void 0,processHeaderCallback:u||void 0,processGroupHeaderCallback:c||void 0,processRowGroupCallback:h||void 0,suppressQuotes:p||!1,columnSeparator:g||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function T6(e,t){var i;return(i=e.csvCreator)==null?void 0:i.getDataAsCsv(t)}function M6(e,t){var i;(i=e.csvCreator)==null||i.exportDataAsCsv(t)}var F6=class extends ie{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e,t={}){const{allColumns:i,columnKeys:n,skipRowGroups:r}=t,s=this.getColumnsToExport(i,r,n);return oz(this.prepareSession(s),this.prependContent(t),this.exportColumnGroups(t,s),this.exportHeaders(t,s),this.processPinnedTopRows(t,s),this.processRows(t,s),this.processPinnedBottomRows(t,s),this.appendContent(t))(e).parse()}processRow(e,t,i,n){var x;const r=t.shouldRowBeSkipped||(()=>!1),s=this.gos.get("groupRemoveSingleChildren"),a=this.gos.get("groupRemoveLowestSingleChildren"),c=t.rowPositions!=null||!!t.onlySelected,h=this.gos.get("groupHideOpenParents")&&!c,p=this.columnModel.isPivotMode()?n.leafGroup:!n.group,g=!!n.footer,m=a&&n.leafGroup,y=n.allChildrenCount===1&&((x=n.childrenAfterGroup)==null?void 0:x.length)===1&&(s||m);if(!p&&!g&&(t.skipRowGroups||y||h)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&n.rowPinned==="top"||t.skipPinnedBottom&&n.rowPinned==="bottom"||n.level===-1&&!p&&!g||r(this.gos.addGridCommonParams({node:n})))return;const S=e.onNewBodyRow(n);if(i.forEach((E,R)=>{S.onColumn(E,R,n)}),t.getCustomContentBelowRow){const E=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:n}));E&&e.addCustomContent(E)}}appendContent(e){return t=>{const i=e.appendContent;return i&&t.addCustomContent(i),t}}prependContent(e){return t=>{const i=e.prependContent;return i&&t.addCustomContent(i),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return i=>{if(!e.skipColumnGroupHeaders){const n=new cN,r=this.visibleColsService.createGroups({columns:t,idCreator:n,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(r,i,e.processGroupHeaderCallback)}return i}}exportHeaders(e,t){return i=>{if(!e.skipColumnHeaders){const n=i.onNewHeaderRow();t.forEach((r,s)=>{n.onColumn(r,s,void 0)})}return i}}processPinnedTopRows(e,t){return i=>{const n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="top").sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel.getPinnedTopRow(r.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("top",n),i}}processRows(e,t){return i=>{const n=this.rowModel,r=vt(this.gos),s=er(this.gos),a=!r&&e.onlySelected,u=this.processRow.bind(this,i,e,t),{exportedRows:c="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(h=>h.rowPinned==null).sort((h,p)=>h.rowIndex-p.rowIndex).map(h=>n.getRow(h.rowIndex)).forEach(u);else if(this.columnModel.isPivotMode())r?n.forEachPivotNode(u,!0):s?n.forEachNodeAfterFilterAndSort(u,!0):n.forEachNode(u);else if(e.onlySelectedAllPages||a){const h=this.selectionService.getSelectedNodes();this.replicateSortedOrder(h),h.forEach(u)}else c==="all"?n.forEachNode(u):r||s?n.forEachNodeAfterFilterAndSort(u,!0):n.forEachNode(u);return i}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),i=(n,r)=>{var s,a;return n.rowIndex!=null&&r.rowIndex!=null?n.rowIndex-r.rowIndex:n.level===r.level?((s=n.parent)==null?void 0:s.id)===((a=r.parent)==null?void 0:a.id)?this.rowNodeSorter.compareRowNodes(t,{rowNode:n,currentPos:n.rowIndex??-1},{rowNode:r,currentPos:r.rowIndex??-1}):i(n.parent,r.parent):n.level>r.level?i(n.parent,r):i(n,r.parent)};e.sort(i)}processPinnedBottomRows(e,t){return i=>{const n=this.processRow.bind(this,i,e,t);return e.rowPositions?e.rowPositions.filter(r=>r.rowPinned==="bottom").sort((r,s)=>r.rowIndex-s.rowIndex).map(r=>this.pinnedRowModel.getPinnedBottomRow(r.rowIndex)).forEach(n):this.pinnedRowModel.forEachPinnedRow("bottom",n),i}}getColumnsToExport(e=!1,t=!1,i){const n=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getColsForKeys(i);const r=this.gos.get("treeData");let s=[];return e&&!n?s=this.columnModel.getCols():s=this.visibleColsService.getAllCols(),t&&!r&&(s=s.filter(a=>!$b(a)&&!qa(a))),s}recursivelyAddHeaderGroups(e,t,i){const n=[];e.forEach(r=>{const s=r;s.getChildren&&s.getChildren().forEach(a=>n.push(a))}),e.length>0&&Mt(e[0])&&this.doAddHeaderHeader(t,e,i),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,i)}doAddHeaderHeader(e,t,i){const n=e.onNewHeaderGroupingRow();let r=0;t.forEach(s=>{const a=s;let u;i?u=i(this.gos.addGridCommonParams({columnGroup:a})):u=this.columnNameService.getDisplayNameForColumnGroup(a,"header");const c=a.getLeafColumns().reduce((h,p,g,m)=>{let y=Ve(h);return p.getColumnGroupShow()==="open"?(!y||y[1]!=null)&&(y=[g],h.push(y)):y&&y[1]==null&&(y[1]=g-1),g===m.length-1&&y&&y[1]==null&&(y[1]=g),h},[]);n.onColumn(a,u||"",r++,a.getLeafColumns().length-1,c)})}},u0="32.3.9",H_={version:u0,moduleName:"@ag-grid-community/csv-export-core",beans:[D6,F6]},O6={version:u0,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:T6,exportDataAsCsv:M6},dependantModules:[H_]},L6={version:u0,moduleName:"@ag-grid-community/csv-export",dependantModules:[H_,O6]},I6=class extends k3{wireBeans(e){this.beans=e}constructor(e,t,i){super(e),this.parentCache=t,this.params=i,this.startRow=e*i.blockSize,this.endRow=this.startRow+i.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,i){pe(t)?e.setDataAndId(t,i.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(je(this.params.datasource.getRows)){ue("datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,i){this.rowNodes.forEach((n,r)=>{this.startRow+r<i&&e(n,t.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.next());const i=e-this.startRow;return this.rowNodes[i]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,i=new Dr(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(t),i.setRowTop(this.params.rowHeight*t),this.rowNodes.push(i)}}processServerResult(e){this.rowNodes.forEach((i,n)=>{const r=e.rowData?e.rowData[n]:void 0;!i.id&&i.alreadyRendered&&r&&(this.rowNodes[n]=new Dr(this.beans),this.rowNodes[n].setRowIndex(i.rowIndex),this.rowNodes[n].setRowTop(i.rowTop),this.rowNodes[n].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[n],r,this.startRow+n)});const t=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,t)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},N6=2,_6=class extends ie{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e,t=!1){const i=Math.floor(e/this.params.blockSize);let n=this.blocks[i];if(!n){if(t)return;n=this.createBlock(i)}return n.getRow(e)}createBlock(e){const t=this.createBean(new I6(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(this.gos.get("debug")&&On(`InfiniteCache - onPageLoaded: page = ${e.getId()}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(a=>a!=e),i=(a,u)=>u.getLastAccessed()-a.getLastAccessed();t.sort(i);const n=this.params.maxBlocksInCache>0,r=n?this.params.maxBlocksInCache-1:null,s=N6-1;t.forEach((a,u)=>{const c=a.getState()==="needsLoading"&&u>=s,h=n?u>=r:!1;if(c||h){if(this.isBlockCurrentlyDisplayed(a)||this.isBlockFocused(a))return;this.removeBlockFromCache(a)}})}isBlockFocused(e){const t=this.focusService.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const i=e.getStartRow(),n=e.getEndRow();return t.rowIndex>=i&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){const t=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,i)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const n=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}}setRowCount(e,t){this.rowCount=e,pe(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t=new Ya;this.getBlocksInOrder().forEach(i=>i.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(i,n)=>i.getId()-n.getId();return Kb(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.getId()*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const i=[];let n=-1,r=!1;const s=new Ya;let a=!1;return this.getBlocksInOrder().forEach(c=>{if(!a){if(r&&n+1!==c.getId()){a=!0;return}n=c.getId(),c.forEachNode(h=>{const p=h===e||h===t;(r||p)&&i.push(h),p&&(r=!r)},s,this.rowCount)}}),a||r?[]:i}},k6=class extends ie{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=vo(this.gos),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&ue("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=vo(this.gos),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()}isSortModelDifferent(){return!uc(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){if(!this.datasource)return;xl(this.gos)!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){var e;this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:((e=this.filterManager)==null?void 0:e.getFilterModel())??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:vo(this.gos),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new Ya},this.infiniteCache=this.createBean(new _6(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode(i=>{i.id===e&&(t=i)}),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return t>i?i:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}};function G6(e){var t,i;(i=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null||i.refreshCache()}function B6(e){var t,i;(i=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null||i.purgeCache()}function H6(e){var t,i;return(i=(t=e.rowModelHelperService)==null?void 0:t.getInfiniteRowModel())==null?void 0:i.getRowCount()}var c0="32.3.9",V_={version:c0,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[k6],dependantModules:[B3]},V6={version:c0,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[G_],apiFunctions:{refreshInfiniteCache:G6,purgeInfiniteCache:B6,getInfiniteRowCount:H6},dependantModules:[V_,t6]},j6={version:c0,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[V_,V6]};Wn.__registerModules([O_,x6,j6,L6],!1,void 0);var d0=WI();const z6=ut(d0);var hi=N.createContext({}),nd=(e,t,i,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const s=e.newAgStackInstance();if(s==null)return;let a,u,c=!1;return s.then(h=>{if(c){t.destroyBean(h);return}a=h,u=a.getGui(),i.appendChild(u),ZD(n,a)}),()=>{var h;c=!0,a&&((h=u==null?void 0:u.parentElement)==null||h.removeChild(u),t.destroyBean(a),n&&ZD(n,void 0))}},ZD=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const i=e;i.current=t}},An=(...e)=>e.filter(i=>i!=null&&i!=="").join(" "),fn=class j_{constructor(...t){this.classesMap={},t.forEach(i=>{this.classesMap[i]=!0})}setClass(t,i){if(!!this.classesMap[t]==i)return this;const r=new j_;return r.classesMap={...this.classesMap},r.classesMap[t]=i,r}toString(){return Object.keys(this.classesMap).filter(i=>this.classesMap[i]).join(" ")}},Dl=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,i=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===i()},zI,lw=(zI=N.version)==null?void 0:zI.split(".")[0],W6=lw==="16"||lw==="17";function U6(){return lw==="19"}var Zh=!1;function $6(e){return Zh||setTimeout(()=>Zh=!1,0),Zh=!0,e()}var h0=(e,t)=>{!W6&&e&&!Zh?z6.flushSync(t):t()};function f0(e,t,i){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(i||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const n=[],r=[],s=new Map,a=new Map;for(let u=0;u<t.length;u++){const c=t[u];a.set(c.instanceId,c)}for(let u=0;u<e.length;u++){const c=e[u];s.set(c.instanceId,c),a.has(c.instanceId)&&n.push(c)}for(let u=0;u<t.length;u++){const c=t[u],h=c.instanceId;s.has(h)||r.push(c)}return n.length===e.length&&r.length===0?e:n.length===0&&r.length===t.length?t:n.length===0?r:r.length===0?n:[...n,...r]}var z_=M.forwardRef((e,t)=>{var U;const{ctrlsFactory:i,context:n}=M.useContext(hi),r=M.useRef(null),s=M.useRef(null),a=M.useRef(null),u=M.useRef(null),c=M.useRef(null),h=M.useRef(),[p,g]=M.useState(),[m,y]=M.useState(),[b,w]=M.useState(),[S,x]=M.useState(()=>new fn),[E,R]=M.useState(()=>new fn("ag-hidden")),[T,A]=M.useState(()=>new fn("ag-hidden")),[P,F]=M.useState(()=>new fn("ag-invisible"));M.useImperativeHandle(t,()=>({refresh(){return!1}})),M.useLayoutEffect(()=>nd(p,n,s.current),[p]);const I=M.useCallback(Q=>{if(r.current=Q,!Q){h.current=n.destroyBean(h.current);return}const ae={setInnerRenderer:(G,z)=>{g(G),w(z)},setChildCount:G=>y(G),addOrRemoveCssClass:(G,z)=>x(re=>re.setClass(G,z)),setContractedDisplayed:G=>A(z=>z.setClass("ag-hidden",!G)),setExpandedDisplayed:G=>R(z=>z.setClass("ag-hidden",!G)),setCheckboxVisible:G=>F(z=>z.setClass("ag-invisible",!G))},de=i.getInstance("groupCellRendererCtrl");de&&(h.current=n.createBean(de),h.current.init(ae,Q,a.current,u.current,c.current,z_,e))},[]),k=M.useMemo(()=>`ag-cell-wrapper ${S.toString()}`,[S]),W=M.useMemo(()=>`ag-group-expanded ${E.toString()}`,[E]),V=M.useMemo(()=>`ag-group-contracted ${T.toString()}`,[T]),B=M.useMemo(()=>`ag-group-checkbox ${P.toString()}`,[P]),K=p&&p.componentFromFramework,Y=K?p.componentClass:void 0,H=p==null&&b!=null,_=qn(b,!0);return N.createElement("span",{className:k,ref:I,...e.colDef?{}:{role:(U=h.current)==null?void 0:U.getCellAriaRole()}},N.createElement("span",{className:W,ref:u}),N.createElement("span",{className:V,ref:c}),N.createElement("span",{className:B,ref:a}),N.createElement("span",{className:"ag-group-value",ref:s},H&&N.createElement(N.Fragment,null,_),K&&N.createElement(Y,{...p.params})),N.createElement("span",{className:"ag-group-child-count"},m))}),JD=z_,p0=M.createContext({setMethods:()=>{}}),q6=e=>{const{initialProps:t,addUpdateCallback:i,CustomComponentClass:n,setMethods:r}=e,[{key:s,...a},u]=M.useState(t);return M.useEffect(()=>{i(c=>u(c))},[]),N.createElement(p0.Provider,{value:{setMethods:r}},N.createElement(n,{key:s,...a}))},K6=M.memo(q6),Y6=0;function eT(){return`agPortalKey_${++Y6}`}var W_=class{constructor(e,t,i,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=i,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=eT(),this.portalKey=eT(),this.instanceCreated=this.isStatelessComponent()?At.resolve(!1):new At(r=>{this.resolveInstanceCreated=r})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),i=document.createElement(t||"div");return i.classList.add("ag-react-container"),e.reactContainer=i,i}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(ue('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(ue('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(t=>this.eParentElement.classList.add(t))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const i=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!i){setTimeout(()=>this.callMethod(e,t));return}const n=i[e];if(n)return n.apply(i,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new At(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var i;this.componentInstance=t,this.addParentContainerStyleAndClasses(),(i=this.resolveInstanceCreated)==null||i.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=d0.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return M.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const i=this[`${e}Component`];if(!this.suppressFallbackMethods&&i)return i.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function g0(e,t,i){e.forEach(n=>{const r=t[n];r&&(i[n]=r)})}var ir=class extends W_{constructor(){super(...arguments),this.awaitUpdateCallback=new At(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=K6}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:i=>this.setMethods(i),addUpdateCallback:i=>{this.updateCallback=()=>(i(this.getProps()),new At(n=>{setTimeout(()=>{n()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,g0(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new At(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},X6=class extends ir{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Q6=class extends ir{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Z6=class extends ir{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:i,shake:n}=this;return e.label=t,e.icon=i,e.shake=n,e}},J6=class extends ir{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;this.expectingNewMethods===!1&&this.hasBeenActive&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function U_(e,t){e.parentFilterInstance(i=>{(i.setModel(t)||At.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var e8=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=i=>this.updateModel(i)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){g0(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),U_(this.floatingFilterParams,e)}},t8=class extends ir{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),U_(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},i8=class extends ir{refresh(e){this.sourceParams=e,this.refreshProps()}},n8=class extends ir{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},r8=class extends ir{refresh(e){this.sourceParams=e,this.refreshProps()}},s8=class extends ir{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},o8=class extends ir{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function m0(){ue("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var a8=1e3,l8=class{constructor(e,t,i){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=i||a8}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,i){this.portals=[...this.portals,e],this.waitForInstance(t,i),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,i=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-i>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,i)})}}},u8=({ctrl:e})=>{const t=e.isAlive(),{context:i}=M.useContext(hi),n=t?e.getColId():void 0,[r,s]=M.useState(),a=M.useRef(),u=M.useRef(null),c=M.useRef(null),h=M.useRef(null),p=M.useRef(),g=M.useRef();t&&!g.current&&(g.current=new ed(()=>u.current));const m=M.useCallback(S=>{var R;if(u.current=S,a.current=S?i.createBean(new Rl):i.destroyBean(a.current),!S||!t)return;const x={setWidth:T=>{u.current&&(u.current.style.width=T)},addOrRemoveCssClass:(T,A)=>g.current.addOrRemoveCssClass(T,A),setAriaSort:T=>{u.current&&(T?o2(u.current,T):a2(u.current))},setUserCompDetails:T=>s(T),getUserCompInstance:()=>p.current||void 0};e.setComp(x,S,c.current,h.current,a.current);const E=e.getSelectAllGui();(R=c.current)==null||R.insertAdjacentElement("afterend",E),a.current.addDestroyFunc(()=>E.remove())},[]);M.useLayoutEffect(()=>nd(r,i,h.current,p),[r]),M.useEffect(()=>{e.setDragSource(u.current)},[r]);const y=M.useMemo(()=>!!((r==null?void 0:r.componentFromFramework)&&Dl(r.componentClass)),[r]),b=r&&r.componentFromFramework,w=r&&r.componentClass;return N.createElement("div",{ref:m,className:"ag-header-cell","col-id":n,role:"columnheader"},N.createElement("div",{ref:c,className:"ag-header-cell-resize",role:"presentation"}),N.createElement("div",{ref:h,className:"ag-header-cell-comp-wrapper",role:"presentation"},b&&y&&N.createElement(w,{...r.params}),b&&!y&&N.createElement(w,{...r.params,ref:p})))},c8=M.memo(u8),d8=({ctrl:e})=>{const{context:t,gos:i}=M.useContext(hi),[n,r]=M.useState(()=>new fn("ag-header-cell","ag-floating-filter")),[s,a]=M.useState(()=>new fn),[u,c]=M.useState(()=>new fn("ag-floating-filter-button","ag-hidden")),[h,p]=M.useState("false"),[g,m]=M.useState(),[,y]=M.useState(1),b=M.useRef(),w=M.useRef(null),S=M.useRef(null),x=M.useRef(null),E=M.useRef(null),R=M.useRef(),T=M.useRef(),A=_=>{_!=null&&R.current&&R.current(_)},P=M.useCallback(_=>{if(w.current=_,b.current=_?t.createBean(new Rl):t.destroyBean(b.current),!_)return;T.current=new At(Q=>{R.current=Q});const U={addOrRemoveCssClass:(Q,ae)=>r(de=>de.setClass(Q,ae)),addOrRemoveBodyCssClass:(Q,ae)=>a(de=>de.setClass(Q,ae)),setButtonWrapperDisplayed:Q=>{c(ae=>ae.setClass("ag-hidden",!Q)),p(Q?"false":"true")},setWidth:Q=>{w.current&&(w.current.style.width=Q)},setCompDetails:Q=>m(Q),getFloatingFilterComp:()=>T.current?T.current:null,setMenuIcon:Q=>{var ae;return(ae=E.current)==null?void 0:ae.appendChild(Q)}};e.setComp(U,_,E.current,S.current,b.current)},[]);M.useLayoutEffect(()=>nd(g,t,S.current,A),[g]);const F=M.useMemo(()=>n.toString(),[n]),I=M.useMemo(()=>s.toString(),[s]),k=M.useMemo(()=>u.toString(),[u]),W=M.useMemo(()=>!!(g&&g.componentFromFramework&&Dl(g.componentClass)),[g]),V=M.useMemo(()=>i.get("reactiveCustomComponents"),[]),B=M.useMemo(()=>{if(g)if(V){const _=new e8(g.params,()=>y(U=>U+1));return A(_),_}else g.componentFromFramework&&m0()},[g]),K=B==null?void 0:B.getProps(),Y=g&&g.componentFromFramework,H=g&&g.componentClass;return N.createElement("div",{ref:P,className:F,role:"gridcell"},N.createElement("div",{ref:S,className:I,role:"presentation"},Y&&!V&&N.createElement(H,{...g.params,ref:W?()=>{}:A}),Y&&V&&N.createElement(p0.Provider,{value:{setMethods:_=>B.setMethods(_)}},N.createElement(H,{...K}))),N.createElement("div",{ref:x,"aria-hidden":h,className:k,role:"presentation"},N.createElement("button",{ref:E,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},h8=M.memo(d8),f8=({ctrl:e})=>{const{context:t}=M.useContext(hi),[i,n]=M.useState(()=>new fn),[r,s]=M.useState(()=>new fn),[a,u]=M.useState("false"),[c,h]=M.useState(),[p,g]=M.useState(),m=M.useMemo(()=>e.getColId(),[]),y=M.useRef(),b=M.useRef(null),w=M.useRef(null),S=M.useRef(null),x=M.useRef(),E=M.useCallback(I=>{if(b.current=I,y.current=I?t.createBean(new Rl):t.destroyBean(y.current),!I)return;const k={setWidth:W=>{b.current&&(b.current.style.width=W)},addOrRemoveCssClass:(W,V)=>n(B=>B.setClass(W,V)),setHeaderWrapperHidden:W=>{const V=S.current;V&&(W?V.style.setProperty("display","none"):V.style.removeProperty("display"))},setHeaderWrapperMaxHeight:W=>{const V=S.current;V&&(W!=null?V.style.setProperty("max-height",`${W}px`):V.style.removeProperty("max-height"),V.classList.toggle("ag-header-cell-comp-wrapper-limited-height",W!=null))},setUserCompDetails:W=>g(W),setResizableDisplayed:W=>{s(V=>V.setClass("ag-hidden",!W)),u(W?"false":"true")},setAriaExpanded:W=>h(W),getUserCompInstance:()=>x.current||void 0};e.setComp(k,I,w.current,S.current,y.current)},[]);M.useLayoutEffect(()=>nd(p,t,S.current),[p]),M.useEffect(()=>{b.current&&e.setDragSource(b.current)},[p]);const R=M.useMemo(()=>!!((p==null?void 0:p.componentFromFramework)&&Dl(p.componentClass)),[p]),T=M.useMemo(()=>"ag-header-group-cell "+i.toString(),[i]),A=M.useMemo(()=>"ag-header-cell-resize "+r.toString(),[r]),P=p&&p.componentFromFramework,F=p&&p.componentClass;return N.createElement("div",{ref:E,className:T,"col-id":m,role:"columnheader","aria-expanded":c},N.createElement("div",{ref:S,className:"ag-header-cell-comp-wrapper",role:"presentation"},P&&R&&N.createElement(F,{...p.params}),P&&!R&&N.createElement(F,{...p.params,ref:x})),N.createElement("div",{ref:w,"aria-hidden":a,className:A}))},p8=M.memo(f8),g8=({ctrl:e})=>{const{context:t}=M.useContext(hi),{topOffset:i,rowHeight:n}=M.useMemo(()=>e.getTopAndHeight(),[]),r=e.getAriaRowIndex(),s=e.getHeaderRowClass(),[a,u]=M.useState(()=>n+"px"),[c,h]=M.useState(()=>i+"px"),p=M.useRef(null),g=M.useRef(null),[m,y]=M.useState(()=>e.getHeaderCtrls()),b=M.useRef(),w=M.useRef(null),S=M.useCallback(R=>{if(w.current=R,b.current=R?t.createBean(new Rl):t.destroyBean(b.current),!R)return;const T={setHeight:A=>u(A),setTop:A=>h(A),setHeaderCtrls:(A,P,F)=>{g.current=p.current,p.current=A;const I=f0(g.current,A,P);I!==g.current&&h0(F,()=>y(I))},setWidth:A=>{w.current&&(w.current.style.width=A)}};e.setComp(T,b.current,!1)},[]),x=M.useMemo(()=>({height:a,top:c}),[a,c]),E=M.useCallback(R=>{switch(e.getType()){case nw.COLUMN_GROUP:return N.createElement(p8,{ctrl:R,key:R.instanceId});case nw.FLOATING_FILTER:return N.createElement(h8,{ctrl:R,key:R.instanceId});default:return N.createElement(c8,{ctrl:R,key:R.instanceId})}},[]);return N.createElement("div",{ref:S,className:s,role:"row",style:x,"aria-rowindex":r},m.map(E))},m8=M.memo(g8),v8=({pinned:e})=>{const[t,i]=M.useState(!0),[n,r]=M.useState([]),{context:s}=M.useContext(hi),a=M.useRef(null),u=M.useRef(null),c=M.useRef(),h=e==="left",p=e==="right",g=!h&&!p,m=M.useCallback(w=>{if(a.current=w,c.current=w?s.createBean(new zU(e)):s.destroyBean(c.current),!w)return;const S={setDisplayed:i,setCtrls:x=>r(x),setCenterWidth:x=>{u.current&&(u.current.style.width=x)},setViewportScrollLeft:x=>{a.current&&(a.current.scrollLeft=x)},setPinnedContainerWidth:x=>{a.current&&(a.current.style.width=x,a.current.style.minWidth=x,a.current.style.maxWidth=x)}};c.current.setComp(S,a.current)},[]),y=t?"":"ag-hidden",b=()=>n.map(w=>N.createElement(m8,{ctrl:w,key:w.instanceId}));return N.createElement(N.Fragment,null,h&&N.createElement("div",{ref:m,className:"ag-pinned-left-header "+y,"aria-hidden":!t,role:"rowgroup"},b()),p&&N.createElement("div",{ref:m,className:"ag-pinned-right-header "+y,"aria-hidden":!t,role:"rowgroup"},b()),g&&N.createElement("div",{ref:m,className:"ag-header-viewport "+y,role:"presentation"},N.createElement("div",{ref:u,className:"ag-header-container",role:"rowgroup"},b())))},Gv=M.memo(v8),y8=()=>{const[e,t]=M.useState(()=>new fn),[i,n]=M.useState(),{context:r}=M.useContext(hi),s=M.useRef(null),a=M.useRef(),u=M.useCallback(p=>{if(s.current=p,a.current=p?r.createBean(new AU):r.destroyBean(a.current),!p)return;const g={addOrRemoveCssClass:(m,y)=>t(b=>b.setClass(m,y)),setHeightAndMinHeight:m=>n(m)};a.current.setComp(g,p,p)},[]),c=M.useMemo(()=>"ag-header "+e.toString(),[e]),h=M.useMemo(()=>({height:i,minHeight:i}),[i]);return N.createElement("div",{ref:u,className:c,style:h,role:"presentation"},N.createElement(Gv,{pinned:"left"}),N.createElement(Gv,{pinned:null}),N.createElement(Gv,{pinned:"right"}))},C8=M.memo(y8),S8=(e,t)=>{M.useEffect(()=>{const i=t.current;if(i){const n=i.parentElement;if(n){const r=document.createComment(e);return n.insertBefore(r,i),()=>{n.removeChild(r)}}}},[e])},lo=S8,b8=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new At(i=>{this.resolveInstanceCreated=i}),this.onValueChange=i=>this.updateValue(i),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){g0(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},w8=e=>{const t=M.useRef(e),i=M.useRef(),n=M.useRef(!1),r=M.useRef(!1),[,s]=M.useState(0);n.current&&(r.current=!0),M.useEffect(()=>(n.current||(i.current=t.current(),n.current=!0),s(a=>a+1),()=>{var a;r.current&&((a=i.current)==null||a.call(i))}),[])},x8=e=>{const[t,i]=M.useState(),{context:n,popupService:r,localeService:s,gos:a,editService:u}=M.useContext(hi);return w8(()=>{var T,A;const{editDetails:c,cellCtrl:h,eParentCell:p}=e,{compDetails:g}=c,m=a.get("stopEditingWhenCellsLoseFocus"),y=n.createBean(u.createPopupEditorWrapper(g.params)),b=y.getGui();if(e.jsChildComp){const P=e.jsChildComp.getGui();P&&b.appendChild(P)}const w={column:h.getColumn(),rowNode:h.getRowNode(),type:"popupCellEditor",eventSource:p,ePopup:b,position:c.popupPosition,keepWithinBounds:!0},S=r.positionPopupByComponent.bind(r,w),x=s.getLocaleTextFunc(),E=r.addPopup({modal:m,eChild:b,closeOnEsc:!0,closedCallback:()=>{h.onPopupEditorClosed()},anchorToElement:p,positionCallback:S,ariaLabel:x("ariaLabelCellEditor","Cell Editor")}),R=E?E.hideFunc:void 0;return i(y),(A=(T=e.jsChildComp)==null?void 0:T.afterGuiAttached)==null||A.call(T),()=>{R==null||R(),n.destroyBean(y)}}),N.createElement(N.Fragment,null,t&&e.wrappedContent&&d0.createPortal(e.wrappedContent,t.getGui()))},tT=M.memo(x8),R8=(e,t,i,n,r,s)=>{const{context:a}=M.useContext(hi),u=M.useCallback(()=>{const c=r.current;if(!c)return;const h=c.getGui();h&&h.parentElement&&h.parentElement.removeChild(h),a.destroyBean(c),r.current=void 0},[]);M.useEffect(()=>{const c=e!=null,h=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,p=t&&i==null;if(!(c&&h&&!p)){u();return}const m=e.compDetails;if(r.current){const b=r.current,S=b.refresh!=null&&e.force==!1?b.refresh(m.params):!1;if(S===!0||S===void 0)return;u()}const y=m.newAgStackInstance();y!=null&&y.then(b=>{if(!b)return;const w=b.getGui();if(!w)return;(t?i:s.current).appendChild(w),r.current=b})},[e,t,n]),M.useEffect(()=>u,[])},E8=R8,A8=(e,t,i)=>{const{compProxy:n}=e;i(n);const r=n.getProps(),s=Dl(t);return N.createElement(p0.Provider,{value:{setMethods:a=>n.setMethods(a)}},s?N.createElement(t,{...r}):N.createElement(t,{...r,ref:a=>n.setRef(a)}))},iT=(e,t,i)=>{const n=e.compProxy;return N.createElement(N.Fragment,null,n?A8(e,t,i):N.createElement(t,{...e.compDetails.params,ref:i}))},P8=(e,t,i,n,r)=>{const s=e.compDetails,a=s.componentClass,u=s.componentFromFramework&&!e.popup,c=s.componentFromFramework&&e.popup,h=!s.componentFromFramework&&e.popup;return N.createElement(N.Fragment,null,u&&iT(e,a,t),c&&N.createElement(tT,{editDetails:e,cellCtrl:n,eParentCell:i,wrappedContent:iT(e,a,t)}),h&&r&&N.createElement(tT,{editDetails:e,cellCtrl:n,eParentCell:i,jsChildComp:r}))},D8=(e,t,i,n,r,s,a)=>{const{compDetails:u,value:c}=e,h=!u,p=u&&u.componentFromFramework,g=u&&u.componentClass,m=c!=null&&c.toString?c.toString():c,y=()=>N.createElement(N.Fragment,null,h&&N.createElement(N.Fragment,null,m),p&&!s&&N.createElement(g,{...u.params,key:t,ref:n}),p&&s&&N.createElement(g,{...u.params,key:t}));return N.createElement(N.Fragment,null,r?N.createElement("span",{role:"presentation",id:`cell-${i}`,className:"ag-cell-value",ref:a},y()):y())},T8=({cellCtrl:e,printLayout:t,editingRow:i})=>{const{context:n}=M.useContext(hi),{colIdSanitised:r,instanceId:s}=e,a=M.useRef(),[u,c]=M.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[h,p]=M.useState(),[g,m]=M.useState(1),[y,b]=M.useState(),[w,S]=M.useState(!1),[x,E]=M.useState(!1),[R,T]=M.useState(!1),[A,P]=M.useState(),F=M.useMemo(()=>e.isForceWrapper(),[e]),I=M.useMemo(()=>e.getCellAriaRole(),[e]),k=M.useRef(null),W=M.useRef(null),V=M.useRef(),B=M.useRef(),K=M.useRef(),Y=M.useRef([]),H=M.useRef(),[_,U]=M.useState(0),Q=M.useCallback(q=>{H.current=q,U(ve=>ve+1)},[]),ae=u!=null&&(w||R||x),de=F||ae,G=M.useCallback(q=>{if(B.current=q,q){const ve=q.isCancelBeforeStart&&q.isCancelBeforeStart();setTimeout(()=>{ve?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),z=M.useRef();z.current||(z.current=new ed(()=>k.current)),E8(u,de,H.current,_,V,k);const re=M.useRef();M.useLayoutEffect(()=>{var Re;const q=re.current,ve=u;if(re.current=u,q==null||q.compDetails==null||ve==null||ve.compDetails==null)return;const Ce=q.compDetails,oe=ve.compDetails;if(Ce.componentClass!=oe.componentClass||((Re=W.current)==null?void 0:Re.refresh)==null)return;W.current.refresh(oe.params)!=!0&&m(Fe=>Fe+1)},[u]),M.useLayoutEffect(()=>{if(!(h&&!h.compDetails.componentFromFramework))return;const ve=h.compDetails,Ce=h.popup===!0,oe=ve.newAgStackInstance();return oe.then(Me=>{if(!Me)return;const Re=Me.getGui();if(G(Me),!Ce){const Fe=(F?K:k).current;Fe==null||Fe.appendChild(Re),Me.afterGuiAttached&&Me.afterGuiAttached()}P(Me)}),()=>{oe.then(Me=>{var Fe;const Re=Me.getGui();n.destroyBean(Me),G(void 0),P(void 0),(Fe=Re==null?void 0:Re.parentElement)==null||Fe.removeChild(Re)})}},[h]);const se=M.useCallback(q=>{if(K.current=q,!q){Y.current.forEach(Ce=>Ce()),Y.current=[];return}const ve=Ce=>{if(Ce){const oe=Ce.getGui();q.insertAdjacentElement("afterbegin",oe),Y.current.push(()=>{n.destroyBean(Ce),To(oe)})}return Ce};if(w){const Ce=e.createSelectionCheckbox();ve(Ce)}R&&ve(e.createDndSource()),x&&ve(e.createRowDragComp())},[e,n,R,x,w]),ge=M.useCallback(q=>{if(k.current=q,a.current=q?n.createBean(new Rl):n.destroyBean(a.current),!q||!e)return;const ve={addOrRemoveCssClass:(oe,Me)=>z.current.addOrRemoveCssClass(oe,Me),setUserStyles:oe=>b(oe),getFocusableElement:()=>k.current,setIncludeSelection:oe=>S(oe),setIncludeRowDrag:oe=>E(oe),setIncludeDndSource:oe=>T(oe),getCellEditor:()=>B.current||null,getCellRenderer:()=>W.current??V.current,getParentOfValue:()=>H.current??K.current??k.current,setRenderDetails:(oe,Me,Re)=>{c(Fe=>(Fe==null?void 0:Fe.compDetails)!==oe||(Fe==null?void 0:Fe.value)!==Me||(Fe==null?void 0:Fe.force)!==Re?{value:Me,compDetails:oe,force:Re}:Fe)},setEditDetails:(oe,Me,Re,Fe)=>{if(oe){let qe;Fe?qe=new b8(oe.params,()=>m(Ot=>Ot+1)):oe.componentFromFramework&&m0(),p({compDetails:oe,popup:Me,popupPosition:Re,compProxy:qe}),Me||c(void 0)}else p(qe=>{qe!=null&&qe.compProxy&&(B.current=void 0)})}},Ce=K.current||void 0;e.setComp(ve,q,Ce,t,i,a.current)},[]),ye=M.useMemo(()=>{var ve;return!!(((ve=u==null?void 0:u.compDetails)==null?void 0:ve.componentFromFramework)&&Dl(u.compDetails.componentClass))},[u]);M.useLayoutEffect(()=>{var q;k.current&&(z.current.addOrRemoveCssClass("ag-cell-value",!de),z.current.addOrRemoveCssClass("ag-cell-inline-editing",!!h&&!h.popup),z.current.addOrRemoveCssClass("ag-cell-popup-editing",!!h&&!!h.popup),z.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!h||!!h.popup),(q=e.getRowCtrl())==null||q.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.isEditing()&&k.current.focus({preventScroll:!0}))});const Pe=()=>N.createElement(N.Fragment,null,u!=null&&D8(u,g,s,W,de,ye,Q),h!=null&&P8(h,G,k.current,e,A)),_e=M.useCallback(()=>e.onFocusOut(),[]);return N.createElement("div",{ref:ge,style:y,role:I,"col-id":r,onBlur:_e},de?N.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:se},Pe()):Pe())},M8=M.memo(T8),F8=({rowCtrl:e,containerType:t})=>{const{context:i,gos:n}=M.useContext(hi),r=M.useRef(),s=M.useRef(e.getDomOrder()),a=e.isFullWidth(),u=e.getRowNode().displayed,[c,h]=M.useState(()=>u?e.getRowIndex():null),[p,g]=M.useState(()=>e.getRowId()),[m,y]=M.useState(()=>e.getBusinessKey()),[b,w]=M.useState(()=>e.getRowStyles()),S=M.useRef(null),x=M.useRef(null),[E,R]=M.useState(()=>null),[T,A]=M.useState(),[P,F]=M.useState(()=>u?e.getInitialRowTop(t):void 0),[I,k]=M.useState(()=>u?e.getInitialTransform(t):void 0),W=M.useRef(null),V=M.useRef(),B=M.useRef(!1),[K,Y]=M.useState(0);M.useEffect(()=>{var ge;if(B.current||!T||K>10)return;const se=(ge=W.current)==null?void 0:ge.firstChild;se?(e.setupDetailRowAutoHeight(se),B.current=!0):Y(ye=>ye+1)},[T,K]);const H=M.useRef();H.current||(H.current=new ed(()=>W.current));const _=M.useCallback(se=>{if(W.current=se,r.current=se?i.createBean(new Rl):i.destroyBean(r.current),!se){e.unsetComp(t);return}if(!e.isAlive())return;const ge={setTop:F,setTransform:k,addOrRemoveCssClass:(ye,Pe)=>H.current.addOrRemoveCssClass(ye,Pe),setDomOrder:ye=>s.current=ye,setRowIndex:h,setRowId:g,setRowBusinessKey:y,setUserStyles:w,setCellCtrls:(ye,Pe)=>{x.current=S.current;const _e=f0(x.current,ye,s.current);_e!==x.current&&(S.current=_e,h0(Pe,()=>R(_e)))},showFullWidth:ye=>A(ye),getFullWidthCellRenderer:()=>V.current,refreshFullWidth:ye=>G.current?(A(Pe=>({...Pe,params:ye()})),!0):!V.current||!V.current.refresh?!1:V.current.refresh(ye())};e.setComp(ge,se,t,r.current)},[]);M.useLayoutEffect(()=>nd(T,i,W.current,V),[T]);const U=M.useMemo(()=>{const se={top:P,transform:I};return Object.assign(se,b),se},[P,I,b]),Q=a&&(T==null?void 0:T.componentFromFramework),ae=!a&&E!=null,de=M.useMemo(()=>!!((T==null?void 0:T.componentFromFramework)&&Dl(T.componentClass)),[T]),G=M.useRef(!1);M.useEffect(()=>{G.current=de&&!!T&&!!n.get("reactiveCustomComponents")},[de,T]);const z=()=>E==null?void 0:E.map(se=>N.createElement(M8,{cellCtrl:se,editingRow:e.isEditing(),printLayout:e.isPrintLayout(),key:se.instanceId})),re=()=>{const se=T.componentClass;return N.createElement(N.Fragment,null,de?N.createElement(se,{...T.params}):N.createElement(se,{...T.params,ref:V}))};return N.createElement("div",{ref:_,role:"row",style:U,"row-index":c,"row-id":p,"row-business-key":m},ae&&z(),Q&&re())},O8=M.memo(F8),L8=({name:e})=>{const{context:t}=M.useContext(hi),i=M.useMemo(()=>Na(e),[e]),n=M.useRef(null),r=M.useRef(null),s=M.useRef([]),a=M.useRef([]),[u,c]=M.useState(()=>[]),h=M.useRef(!1),p=M.useRef(),g=M.useMemo(()=>An(i.viewport),[i]),m=M.useMemo(()=>An(i.container),[i]),y=i.type==="center",b=y?n:r;lo(" AG Row Container "+e+" ",b);const w=M.useCallback(()=>y?n.current!=null&&r.current!=null:r.current!=null,[]),S=M.useCallback(()=>y?n.current==null&&r.current==null:r.current==null,[]),x=M.useCallback(()=>{if(S()&&(p.current=t.destroyBean(p.current)),w()){const A=F=>{const I=f0(a.current,s.current,h.current);I!==a.current&&(a.current=I,h0(F,()=>c(I)))},P={setHorizontalScroll:F=>{n.current&&(n.current.scrollLeft=F)},setViewportHeight:F=>{n.current&&(n.current.style.height=F)},setRowCtrls:({rowCtrls:F,useFlushSync:I})=>{const k=!!I&&s.current.length>0&&F.length>0;s.current=F,A(k)},setDomOrder:F=>{h.current!=F&&(h.current=F,A(!1))},setContainerWidth:F=>{r.current&&(r.current.style.width=F)},setOffsetTop:F=>{r.current&&(r.current.style.transform=`translateY(${F})`)}};p.current=t.createBean(new N$(e)),p.current.setComp(P,r.current,n.current)}},[w,S]),E=M.useCallback(A=>{r.current=A,x()},[x]),R=M.useCallback(A=>{n.current=A,x()},[x]),T=()=>N.createElement("div",{className:m,ref:E,role:"rowgroup"},u.map(A=>N.createElement(O8,{rowCtrl:A,containerType:i.type,key:A.instanceId})));return N.createElement(N.Fragment,null,y?N.createElement("div",{className:g,ref:R,role:"presentation"},T()):T())},I8=M.memo(L8),N8=()=>{const{context:e,resizeObserverService:t}=M.useContext(hi),[i,n]=M.useState(""),[r,s]=M.useState(0),[a,u]=M.useState(0),[c,h]=M.useState("0px"),[p,g]=M.useState("0px"),[m,y]=M.useState("100%"),[b,w]=M.useState("0px"),[S,x]=M.useState("0px"),[E,R]=M.useState("100%"),[T,A]=M.useState(""),[P,F]=M.useState(""),[I,k]=M.useState(null),[W,V]=M.useState(""),[B,K]=M.useState(null),[Y,H]=M.useState("ag-layout-normal"),_=M.useRef();_.current||(_.current=new ed(()=>U.current));const U=M.useRef(null),Q=M.useRef(null),ae=M.useRef(null),de=M.useRef(null),G=M.useRef(null),z=M.useRef(null),re=M.useRef(null),se=M.useRef([]),ge=M.useRef([]);lo(" AG Grid Body ",U),lo(" AG Pinned Top ",Q),lo(" AG Sticky Top ",ae),lo(" AG Middle ",z),lo(" AG Pinned Bottom ",re);const ye=M.useCallback(Bt=>{if(U.current=Bt,!Bt){se.current=e.destroyBeans(se.current),ge.current.forEach(yt=>yt()),ge.current=[];return}if(!e)return;const oi=(yt,ai)=>{yt.appendChild(ai),ge.current.push(()=>yt.removeChild(ai))},Ii=yt=>{const ai=e.createBean(new yt);return se.current.push(ai),ai},bn=(yt,ai,Wo)=>{oi(yt,document.createComment(Wo)),oi(yt,Ii(ai).getGui())};bn(Bt,UU," AG Fake Horizontal Scroll "),bn(Bt,WU," AG Overlay Wrapper "),G.current&&bn(G.current,$U," AG Fake Vertical Scroll ");const $t={setRowAnimationCssOnBodyViewport:n,setColumnCount:yt=>{U.current&&r2(U.current,yt)},setRowCount:yt=>{U.current&&i2(U.current,yt)},setTopHeight:s,setBottomHeight:u,setStickyTopHeight:h,setStickyTopTop:g,setStickyTopWidth:y,setTopDisplay:A,setBottomDisplay:F,setColumnMovingCss:(yt,ai)=>_.current.addOrRemoveCssClass(yt,ai),updateLayoutClasses:H,setAlwaysVerticalScrollClass:k,setPinnedTopBottomOverflowY:V,setCellSelectableCss:(yt,ai)=>K(ai?yt:null),setBodyViewportWidth:yt=>{z.current&&(z.current.style.width=yt)},registerBodyViewportResizeListener:yt=>{if(z.current){const ai=t.observeResize(z.current,yt);ge.current.push(()=>ai())}},setStickyBottomHeight:w,setStickyBottomBottom:x,setStickyBottomWidth:R},_s=e.createBean(new B$);se.current.push(_s),_s.setComp($t,Bt,z.current,Q.current,re.current,ae.current,de.current)},[]),Pe=M.useMemo(()=>An("ag-root","ag-unselectable",Y),[Y]),_e=M.useMemo(()=>An("ag-body-viewport",i,Y,I,B),[i,Y,I,B]),q=M.useMemo(()=>An("ag-body",Y),[Y]),ve=M.useMemo(()=>An("ag-floating-top",B),[B]),Ce=M.useMemo(()=>An("ag-sticky-top",B),[B]),oe=M.useMemo(()=>An("ag-sticky-bottom",b==="0px"?"ag-hidden":null,B),[B,b]),Me=M.useMemo(()=>An("ag-floating-bottom",B),[B]),Re=M.useMemo(()=>({height:r,minHeight:r,display:T,overflowY:W}),[r,T,W]),Fe=M.useMemo(()=>({height:c,top:p,width:m}),[c,p,m]),qe=M.useMemo(()=>({height:b,bottom:S,width:E}),[b,S,E]),Ot=M.useMemo(()=>({height:a,minHeight:a,display:P,overflowY:W}),[a,P,W]),Li=Bt=>N.createElement(I8,{name:Bt,key:`${Bt}-container`}),si=({section:Bt,children:oi,className:Ii,style:bn})=>N.createElement("div",{ref:Bt,className:Ii,role:"presentation",style:bn},oi.map(Li));return N.createElement("div",{ref:ye,className:Pe,role:"treegrid"},N.createElement(C8,null),si({section:Q,className:ve,style:Re,children:["topLeft","topCenter","topRight","topFullWidth"]}),N.createElement("div",{className:q,ref:G,role:"presentation"},si({section:z,className:_e,children:["left","center","right","fullWidth"]})),si({section:ae,className:Ce,style:Fe,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),si({section:de,className:oe,style:qe,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),si({section:re,className:Me,style:Ot,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},_8=M.memo(N8),k8=(e,t)=>{const{children:i,eFocusableElement:n,onTabKeyDown:r,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:a}=e,{context:u}=M.useContext(hi),c=M.useRef(null),h=M.useRef(null),p=M.useRef(),g=S=>{const x=S==null?void 0:parseInt(S,10).toString();[c,h].forEach(E=>{var R,T;x===void 0?(R=E.current)==null||R.removeAttribute("tabindex"):(T=E.current)==null||T.setAttribute("tabindex",x)})};M.useImperativeHandle(t,()=>({forceFocusOutOfContainer(S){var x;(x=p.current)==null||x.forceFocusOutOfContainer(S)}}));const m=M.useCallback(()=>{const S=c.current,x=h.current;if(!S&&!x){p.current=u.destroyBean(p.current);return}if(S&&x){const E={setTabIndex:g};p.current=u.createBean(new x_({comp:E,eTopGuard:S,eBottomGuard:x,eFocusableElement:n,onTabKeyDown:r,forceFocusOutWhenTabGuardsAreEmpty:a,focusInnerElement:R=>s.focusInnerElement(R)}))}},[]),y=M.useCallback(S=>{c.current=S,m()},[m]),b=M.useCallback(S=>{h.current=S,m()},[m]),w=S=>{const x=S==="top"?Xh.TAB_GUARD_TOP:Xh.TAB_GUARD_BOTTOM;return N.createElement("div",{className:`${Xh.TAB_GUARD} ${x}`,role:"presentation",ref:S==="top"?y:b})};return N.createElement(N.Fragment,null,w("top"),i,w("bottom"))},G8=M.forwardRef(k8),B8=M.memo(G8),H8=({context:e})=>{const[t,i]=M.useState(""),[n,r]=M.useState(""),[s,a]=M.useState(""),[u,c]=M.useState(null),[h,p]=M.useState(null),[g,m]=M.useState(!1),[y,b]=M.useState(),w=M.useRef(),S=M.useRef(null),x=M.useRef(),[E,R]=M.useState(null),T=M.useRef(()=>{}),A=M.useRef(),P=M.useRef([]),F=M.useCallback(()=>{},[]),I=M.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);lo(" AG Grid ",S);const k=M.useCallback(Y=>{if(S.current=Y,w.current=Y?e.createBean(new yq):e.destroyBean(w.current),!Y||e.isDestroyed())return;const H=w.current;T.current=H.focusInnerElement.bind(H);const _={destroyGridUi:()=>{},setRtlClass:i,setGridThemeClass:r,forceFocusOutOfContainer:U=>{var Q,ae;if(!U&&((Q=A.current)!=null&&Q.isDisplayed())){A.current.forceFocusOutOfContainer(U);return}(ae=x.current)==null||ae.forceFocusOutOfContainer(U)},updateLayoutClasses:a,getFocusableContainers:()=>{var ae;const U=[],Q=(ae=S.current)==null?void 0:ae.querySelector(".ag-root");return Q&&U.push({getGui:()=>Q}),P.current.forEach(de=>{de.isDisplayed()&&U.push(de)}),U},setCursor:c,setUserSelect:p};H.setComp(_,Y,Y),m(!0)},[]);M.useEffect(()=>{const Y=w.current,H=S.current;if(!y||!I||!Y||!E||!H)return;const _=[],{watermarkSelector:U,paginationSelector:Q,sideBarSelector:ae,statusBarSelector:de,gridHeaderDropZonesSelector:G}=Y.getOptionalSelectors(),z=[];if(G){const se=e.createBean(new G.component),ge=se.getGui();H.insertAdjacentElement("afterbegin",ge),z.push(ge),_.push(se)}if(ae){const se=e.createBean(new ae.component),ge=se.getGui(),ye=E.querySelector(".ag-tab-guard-bottom");ye&&(ye.insertAdjacentElement("beforebegin",ge),z.push(ge)),_.push(se),P.current.push(se)}const re=se=>{const ge=e.createBean(new se),ye=ge.getGui();return H.insertAdjacentElement("beforeend",ye),z.push(ye),_.push(ge),ge};if(de&&re(de.component),Q){const se=re(Q.component);A.current=se,P.current.push(se)}return U&&re(U.component),()=>{e.destroyBeans(_),z.forEach(se=>{var ge;(ge=se.parentElement)==null||ge.removeChild(se)})}},[y,E,I]);const W=M.useMemo(()=>An("ag-root-wrapper",t,n,s),[t,n,s]),V=M.useMemo(()=>An("ag-root-wrapper-body","ag-focus-managed",s),[s]),B=M.useMemo(()=>({userSelect:h??"",WebkitUserSelect:h??"",cursor:u??""}),[h,u]),K=M.useCallback(Y=>{x.current=Y,b(Y!==null)},[]);return N.createElement("div",{ref:k,className:W,style:B,role:"presentation"},N.createElement("div",{className:V,ref:R,role:"presentation"},g&&E&&I&&N.createElement(hi.Provider,{value:I},N.createElement(B8,{ref:K,eFocusableElement:E,onTabKeyDown:F,gridCtrl:w.current,forceFocusOutWhenTabGuardsAreEmpty:!0},N.createElement(_8,null)))))},V8=M.memo(H8),j8=class extends ie{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},$_=e=>{var S;const t=M.useRef(),i=M.useRef(null),n=M.useRef(null),r=M.useRef([]),s=M.useRef([]),a=M.useRef(e),u=M.useRef(),c=M.useRef(),h=M.useRef(!1),[p,g]=M.useState(void 0),[,m]=M.useState(0),y=M.useCallback(x=>{if(i.current=x,!x){r.current.forEach(V=>V()),r.current.length=0;return}const E=e.modules||[];n.current||(n.current=new l8(()=>m(V=>V+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),r.current.push(()=>{var V;(V=n.current)==null||V.destroy(),n.current=null}));const R=qz(e.gridOptions,e),T=()=>{if(h.current){const V=()=>{var K;return(K=u.current)!=null&&K.shouldQueueUpdates()?void 0:s.current.shift()};let B=V();for(;B;)B(),B=V()}},A=new $8(T);u.current=A;const P=new j8,F={providedBeanInstances:{frameworkComponentWrapper:new W8(n.current,R.reactiveCustomComponents??U4("reactiveCustomComponents")??!0),renderStatusService:P},modules:E,frameworkOverrides:A},I=V=>{g(V),V.createBean(P),r.current.push(()=>{V.destroy()}),V.getBean("ctrlsService").whenReady({addDestroyFunc:B=>{r.current.push(B)}},()=>{var K;if(V.isDestroyed())return;const B=t.current;B&&((K=e.setGridApi)==null||K.call(e,B))})},k=V=>{V.getBean("ctrlsService").whenReady({addDestroyFunc:B=>{r.current.push(B)}},()=>{s.current.forEach(B=>B()),s.current.length=0,h.current=!0})},W=new q4;R.gridId??(R.gridId=c.current),t.current=W.create(x,R,I,k,F),r.current.push(()=>{t.current=void 0}),t.current&&(c.current=t.current.getGridId())},[]),b=M.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),w=M.useCallback(x=>{var E;h.current&&!((E=u.current)!=null&&E.shouldQueueUpdates())?x():s.current.push(x)},[]);return M.useEffect(()=>{const x=z8(a.current,e);a.current=e,w(()=>{t.current&&Kz(x,t.current)})},[e]),N.createElement("div",{style:b,className:e.className,ref:y},p&&!p.isDestroyed()?N.createElement(V8,{context:p}):null,((S=n.current)==null?void 0:S.getPortals())??null)};function z8(e,t){const i={};return Object.keys(t).forEach(n=>{const r=t[n];e[n]!==r&&(i[n]=r)}),i}var W8=class extends i6{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const r=(s=>{switch(s){case"filter":return J6;case"floatingFilterComponent":return t8;case"dateComponent":return Q6;case"dragAndDropImageComponent":return Z6;case"loadingOverlayComponent":return i8;case"noRowsOverlayComponent":return r8;case"statusPanel":return s8;case"toolPanel":return o8;case"menuItem":return n8;case"cellRenderer":return X6}})(t.propertyName);if(r)return new r(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":m0();break}const i=!t.cellRenderer&&t.propertyName!=="toolPanel";return new W_(e,this.parent,t,i)}},U8=M.forwardRef((e,t)=>{const{ctrlsFactory:i,context:n,gos:r,resizeObserverService:s,rowModel:a}=M.useContext(hi),[u,c]=M.useState(()=>new fn),[h,p]=M.useState(()=>new fn),[g,m]=M.useState(),[y,b]=M.useState(),w=M.useRef(),S=M.useRef(null),x=M.useRef(),E=M.useMemo(()=>Wn.__getGridRegisteredModules(e.api.getGridId()),[e]),R=M.useMemo(()=>u.toString()+" ag-details-row",[u]),T=M.useMemo(()=>h.toString()+" ag-details-grid",[h]);t&&M.useImperativeHandle(t,()=>({refresh(){var F;return((F=w.current)==null?void 0:F.refresh())??!1}})),e.template&&ue("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const A=M.useCallback(F=>{var W;if(S.current=F,!F){w.current=n.destroyBean(w.current),(W=x.current)==null||W.call(x);return}const I={addOrRemoveCssClass:(V,B)=>c(K=>K.setClass(V,B)),addOrRemoveDetailGridCssClass:(V,B)=>p(K=>K.setClass(V,B)),setDetailGrid:V=>m(V),setRowData:V=>b(V),getGui:()=>S.current},k=i.getInstance("detailCellRenderer");if(k&&(n.createBean(k),k.init(I,e),w.current=k,r.get("detailRowAutoHeight"))){const V=()=>{if(S.current==null)return;const B=S.current.clientHeight;B!=null&&B>0&&setTimeout(()=>{e.node.setRowHeight(B),(vt(r)||er(r))&&a.onRowHeightChanged()},0)};x.current=s.observeResize(F,V),V()}},[]),P=M.useCallback(F=>{var I;(I=w.current)==null||I.registerDetailWithMaster(F)},[]);return N.createElement("div",{className:R,ref:A},g&&N.createElement($_,{className:T,...g,modules:E,rowData:y,setGridApi:P}))}),$8=class extends R_{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:JD,agGroupRowRenderer:JD,agDetailCellRenderer:U8},this.wrapIncoming=(t,i)=>i==="ensureVisible"?$6(t):t(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return U6()}},q8=class extends M.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return N.createElement($_,{...this.props,setGridApi:this.setGridApi})}};function K8({assetType:e,timeJump:t,onTimeJumpChange:i,onSelectSymbol:n}){const[r,s]=M.useState([]),[a,u]=M.useState(0),[c,h]=M.useState(!1),[p,g]=M.useState("ALL"),[m,y]=M.useState("ALL"),[b,w]=M.useState([]),[S,x]=M.useState(""),[E,R]=M.useState("change_percent"),[T,A]=M.useState("desc"),P=M.useRef(null),F=M.useRef(void 0);M.useEffect(()=>{e==="stock"?zj(e).then(w).catch(()=>w([])):w([])},[e]);const I=M.useCallback(async H=>{h(!0);try{const _=(H==null?void 0:H.jump)??t,U=await Wj({signal:(H==null?void 0:H.signal)||p,sort:(H==null?void 0:H.sort)||E,order:(H==null?void 0:H.order)||T,search:(H==null?void 0:H.search)??S,limit:200,offset:0,asset_type:e,as_of_date:Mx(_),sector:(H==null?void 0:H.sector)??m});s(U.data),u(U.total)}catch(_){console.error("Failed to load data:",_)}finally{h(!1)}},[p,E,T,S,e,t,m]);M.useEffect(()=>{x(""),g("ALL"),y("ALL")},[e]),M.useEffect(()=>{I()},[I]);const k=H=>{x(H),F.current&&clearTimeout(F.current),F.current=setTimeout(()=>{I({search:H})},300)},W=H=>{switch(H){case"1d":return"-1D";case"1w":return"-1W";case"1m":return"-1M";case"3m":return"-3M";case"6m":return"-6M";case"1y":return"-1Y";case"latest":return"LATEST"}},V=H=>{const _=Mx(H);return _?new Date(_+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):""},B=M.useMemo(()=>[{field:"symbol",headerName:"SYMBOL",width:100,pinned:"left",cellRenderer:H=>O.jsx("button",{onClick:()=>n(H.value),className:"text-cyber-green hover:text-white hover:underline font-bold cursor-pointer bg-transparent border-none",children:H.value})},{field:"name",headerName:"NAME",width:180,cellClass:"text-cyber-muted"},...e==="stock"?[{field:"exchange",headerName:"EXCH",width:80,cellClass:"text-cyber-muted text-center"},{field:"sector",headerName:"SECTOR",width:130,cellClass:"text-cyber-muted text-[11px]"}]:[],{field:"price",headerName:"PRICE",width:100,type:"numericColumn",valueFormatter:H=>H.value!=null?`$${H.value.toFixed(2)}`:""},{field:"changePercent",headerName:"CHG%",width:90,type:"numericColumn",cellClass:H=>H.value>=0?"text-cyber-green font-bold":"text-cyber-red font-bold",valueFormatter:H=>H.value!=null?`${H.value>=0?"+":""}${H.value.toFixed(2)}%`:""},{field:"signal",headerName:"SIGNAL",width:90,cellRenderer:H=>O.jsx("span",{className:`px-2 py-0.5 rounded text-[11px] font-bold ${H.value==="BUY"?"bg-cyber-green/20 text-cyber-green":H.value==="SELL"?"bg-cyber-red/20 text-cyber-red":"bg-cyber-yellow/20 text-cyber-yellow"}`,children:H.value})},{field:"rsi",headerName:"RSI",width:80,type:"numericColumn",cellClass:H=>H.value?H.value>70?"text-cyber-red":H.value<30?"text-cyber-green":"text-cyber-yellow":"",valueFormatter:H=>H.value!=null?H.value.toFixed(0):""},{field:"macdHistogram",headerName:"MACD",width:100,type:"numericColumn",cellClass:H=>H.value>=0?"text-cyber-green":"text-cyber-red",valueFormatter:H=>H.value!=null?H.value.toFixed(4):""},{field:"signalStrength",headerName:"STRENGTH",width:100,type:"numericColumn",valueFormatter:H=>H.value!=null?H.value.toFixed(2):""},{field:"signalChanges",headerName:"CHANGES",width:90,type:"numericColumn"},{field:"dataPoints",headerName:"DATA PTS",width:90,type:"numericColumn"},{field:"volume",headerName:"VOLUME",width:110,type:"numericColumn",valueFormatter:H=>H.value?H.value>=1e9?`${(H.value/1e9).toFixed(1)}B`:H.value>=1e6?`${(H.value/1e6).toFixed(1)}M`:H.value>=1e3?`${(H.value/1e3).toFixed(1)}K`:String(H.value):""}],[n,e]),K=M.useMemo(()=>({sortable:!1,resizable:!0,suppressMovable:!0}),[]),Y=["latest","1d","1w","1m","3m","6m","1y"];return O.jsxs("div",{children:[O.jsxs("div",{className:"flex items-center gap-3 mb-3 flex-wrap",children:[O.jsxs("div",{className:"text-[10px] text-cyber-green uppercase tracking-[0.2em] flex items-center gap-2",children:[O.jsx("span",{className:"w-1.5 h-1.5 bg-cyber-green rounded-full"}),e==="crypto"?"CRYPTO SCANNER":"MARKET SCANNER"]}),O.jsx("div",{className:"flex gap-0.5 ml-2 bg-cyber-bg rounded border border-cyber-border overflow-hidden",children:Y.map(H=>O.jsx("button",{onClick:()=>i(H),className:`px-2 py-1 text-[10px] font-bold transition-all ${t===H?"bg-cyber-green/20 text-cyber-green":"text-cyber-muted hover:text-cyber-green/70"}`,children:W(H)},H))}),t!=="latest"&&O.jsxs("div",{className:"text-[10px] text-cyber-muted",children:["Viewing: ",V(t)]}),O.jsx("div",{className:"flex gap-1",children:["ALL","BUY","SELL","HOLD"].map(H=>O.jsx("button",{onClick:()=>{g(H),I({signal:H})},className:`px-3 py-1 text-[11px] font-bold rounded transition-all ${p===H?H==="BUY"?"bg-cyber-green/20 text-cyber-green border border-cyber-green/50":H==="SELL"?"bg-cyber-red/20 text-cyber-red border border-cyber-red/50":H==="HOLD"?"bg-cyber-yellow/20 text-cyber-yellow border border-cyber-yellow/50":"bg-cyber-green/10 text-cyber-green border border-cyber-green/30":"bg-cyber-panel text-cyber-muted border border-cyber-border hover:border-cyber-muted"}`,children:H},H))}),O.jsx("input",{type:"text",placeholder:"Search symbol or name...",value:S,onChange:H=>k(H.target.value),className:"bg-cyber-panel border border-cyber-border text-cyber-text text-xs px-3 py-1.5 rounded w-48 focus:border-cyber-green/50 focus:outline-none"}),O.jsxs("div",{className:"text-[10px] text-cyber-muted",children:[a.toLocaleString()," results"]})]}),e==="stock"&&b.length>0&&O.jsxs("div",{className:"flex items-center gap-2 mb-3 overflow-x-auto pb-1",children:[O.jsx("div",{className:"text-[10px] text-cyber-muted uppercase tracking-wider whitespace-nowrap",children:"SECTOR:"}),O.jsx("div",{className:"flex gap-1 flex-nowrap",children:["ALL",...b].map(H=>O.jsx("button",{onClick:()=>{y(H),I({sector:H})},className:`px-2.5 py-1 text-[10px] font-bold rounded whitespace-nowrap transition-all ${m===H?"bg-cyber-green/20 text-cyber-green border border-cyber-green/50":"bg-cyber-panel text-cyber-muted border border-cyber-border hover:border-cyber-muted hover:text-cyber-text"}`,children:H},H))})]}),O.jsx("div",{className:"ag-theme-alpine-dark panel",style:{height:"600px",width:"100%"},children:O.jsx(q8,{ref:P,rowData:r,columnDefs:B,defaultColDef:K,animateRows:!0,rowSelection:{mode:"singleRow"},onRowDoubleClicked:H=>H.data&&n(H.data.symbol),loading:c,overlayNoRowsTemplate:`<div class="text-cyber-muted text-sm p-8">No ${e==="crypto"?"crypto":"stock"} data available. Run seed-db to load market data.</div>`})})]})}function Y8({symbol:e,onClose:t}){const[i,n]=M.useState(null),[r,s]=M.useState(!0);return M.useEffect(()=>{s(!0),$j(e).then(n).catch(()=>n(null)).finally(()=>s(!1))},[e]),O.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",onClick:t,children:O.jsxs("div",{className:"panel-glow w-full max-w-4xl max-h-[90vh] overflow-y-auto m-4",onClick:a=>a.stopPropagation(),children:[O.jsxs("div",{className:"sticky top-0 bg-cyber-panel border-b border-cyber-border p-4 flex items-center justify-between z-10",children:[O.jsxs("div",{className:"flex items-center gap-4",children:[O.jsx("span",{className:"text-xl font-bold text-cyber-green glow-green",children:e}),i&&O.jsxs(O.Fragment,{children:[O.jsx("span",{className:"text-sm text-cyber-muted",children:i.name}),O.jsx("span",{className:"text-xs text-cyber-muted bg-cyber-bg px-2 py-0.5 rounded",children:i.exchange})]})]}),O.jsx("button",{onClick:t,className:"text-cyber-muted hover:text-cyber-red text-lg font-bold w-8 h-8 flex items-center justify-center rounded hover:bg-cyber-red/10 transition-all",children:"X"})]}),r?O.jsx("div",{className:"p-12 text-center text-cyber-muted",children:O.jsx("div",{className:"animate-pulse text-cyber-green",children:"Loading analysis..."})}):i?O.jsxs("div",{className:"p-4 space-y-4",children:[O.jsx(X8,{summary:i.summary}),O.jsx(Q8,{indicators:i.indicators}),O.jsx(Z8,{indicators:i.indicators}),O.jsx(J8,{indicators:i.indicators}),O.jsx(eY,{indicators:i.indicators})]}):O.jsxs("div",{className:"p-12 text-center text-cyber-muted",children:["No data available for ",e]})]})})}function X8({summary:e}){const t=e.changePercent>=0;return O.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[O.jsx(ps,{label:"PRICE",value:`$${e.price.toFixed(2)}`}),O.jsx(ps,{label:"CHANGE",value:`${t?"+":""}${e.changePercent.toFixed(2)}%`,color:t?"green":"red"}),O.jsx(ps,{label:"SIGNAL",value:e.signal,color:e.signal==="BUY"?"green":e.signal==="SELL"?"red":"yellow"}),O.jsx(ps,{label:"RSI",value:e.rsi.toFixed(1),color:e.rsi>70?"red":e.rsi<30?"green":"yellow"}),O.jsx(ps,{label:"MACD",value:e.macdHistogram.toFixed(4),color:e.macdHistogram>=0?"green":"red"}),O.jsx(ps,{label:"STRENGTH",value:e.signalStrength.toFixed(2)}),O.jsx(ps,{label:"SIGNAL CHANGES",value:String(e.signalChanges)}),O.jsx(ps,{label:"DATA POINTS",value:String(e.dataPoints)})]})}function ps({label:e,value:t,color:i}){const n=i==="green"?"text-cyber-green":i==="red"?"text-cyber-red":i==="yellow"?"text-cyber-yellow":"text-cyber-text";return O.jsxs("div",{className:"bg-cyber-bg border border-cyber-border rounded p-3",children:[O.jsx("div",{className:"text-[10px] text-cyber-muted uppercase tracking-wider mb-1",children:e}),O.jsx("div",{className:`text-lg font-bold ${n}`,children:t})]})}function v0({data:e,height:t=120,color:i="#00ff88",negColor:n,label:r,isHistogram:s=!1}){if(e.length===0)return null;const a=e.map(b=>b.y),u=Math.min(...a),h=Math.max(...a)-u||1,p=700,g=b=>b/(e.length-1)*p,m=b=>t-(b-u)/h*(t-10)-5;if(s){const b=m(Math.max(0,u)),w=p/e.length;return O.jsxs("div",{children:[O.jsx("div",{className:"text-[10px] text-cyber-green uppercase tracking-widest mb-1",children:r}),O.jsx("div",{className:"bg-cyber-bg border border-cyber-border rounded p-2 overflow-x-auto",children:O.jsxs("svg",{viewBox:`0 0 ${p} ${t}`,className:"w-full",style:{minWidth:400},children:[e.map((S,x)=>{const E=m(S.y),R=Math.abs(E-b),T=S.y>=0?i:n||"#ff3366";return O.jsx("rect",{x:g(x)-w/2,y:Math.min(E,b),width:Math.max(w-1,1),height:Math.max(R,.5),fill:T,opacity:.8},x)}),O.jsx("line",{x1:0,y1:b,x2:p,y2:b,stroke:"#333344",strokeWidth:.5})]})})]})}const y=e.map((b,w)=>`${w===0?"M":"L"} ${g(w)} ${m(b.y)}`).join(" ");return O.jsxs("div",{children:[O.jsx("div",{className:"text-[10px] text-cyber-green uppercase tracking-widest mb-1",children:r}),O.jsx("div",{className:"bg-cyber-bg border border-cyber-border rounded p-2 overflow-x-auto",children:O.jsx("svg",{viewBox:`0 0 ${p} ${t}`,className:"w-full",style:{minWidth:400},children:O.jsx("path",{d:y,fill:"none",stroke:i,strokeWidth:1.5})})})]})}function Q8({indicators:e}){const t=e.map((i,n)=>({x:n,y:i.price}));return O.jsx(v0,{data:t,label:"PRICE HISTORY (90D)",color:"#00aaff",height:150})}function Z8({indicators:e}){const t=e.map((i,n)=>({x:n,y:i.macdHistogram}));return O.jsx(v0,{data:t,label:"MACD HISTOGRAM",isHistogram:!0,color:"#00ff88",negColor:"#ff3366",height:100})}function J8({indicators:e}){const t=e.map((i,n)=>({x:n,y:i.rsi}));return O.jsx(v0,{data:t,label:"RSI",color:"#ffcc00",height:80})}function eY({indicators:e}){const t=e.slice(-20).reverse();return O.jsxs("div",{children:[O.jsx("div",{className:"text-[10px] text-cyber-green uppercase tracking-widest mb-1",children:"RECENT INDICATOR DATA"}),O.jsx("div",{className:"bg-cyber-bg border border-cyber-border rounded overflow-x-auto",children:O.jsxs("table",{className:"w-full text-xs",children:[O.jsx("thead",{children:O.jsxs("tr",{className:"text-cyber-green border-b border-cyber-border",children:[O.jsx("th",{className:"px-3 py-2 text-left",children:"DATE"}),O.jsx("th",{className:"px-3 py-2 text-right",children:"PRICE"}),O.jsx("th",{className:"px-3 py-2 text-right",children:"MACD"}),O.jsx("th",{className:"px-3 py-2 text-right",children:"SIGNAL"}),O.jsx("th",{className:"px-3 py-2 text-right",children:"HIST"}),O.jsx("th",{className:"px-3 py-2 text-right",children:"RSI"}),O.jsx("th",{className:"px-3 py-2 text-center",children:"ACTION"})]})}),O.jsx("tbody",{children:t.map((i,n)=>O.jsxs("tr",{className:"border-b border-cyber-border/30 hover:bg-cyber-panel/50",children:[O.jsx("td",{className:"px-3 py-1.5 text-cyber-muted",children:i.date}),O.jsxs("td",{className:"px-3 py-1.5 text-right",children:["$",i.price.toFixed(2)]}),O.jsx("td",{className:`px-3 py-1.5 text-right ${i.macdFast>=0?"text-cyber-green":"text-cyber-red"}`,children:i.macdFast.toFixed(4)}),O.jsx("td",{className:"px-3 py-1.5 text-right text-cyber-muted",children:i.macdSlow.toFixed(4)}),O.jsx("td",{className:`px-3 py-1.5 text-right ${i.macdHistogram>=0?"text-cyber-green":"text-cyber-red"}`,children:i.macdHistogram.toFixed(4)}),O.jsx("td",{className:`px-3 py-1.5 text-right ${i.rsi>70?"text-cyber-red":i.rsi<30?"text-cyber-green":"text-cyber-yellow"}`,children:i.rsi.toFixed(1)}),O.jsx("td",{className:"px-3 py-1.5 text-center",children:O.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold ${i.buySignal?"bg-cyber-green/20 text-cyber-green":"bg-cyber-red/20 text-cyber-red"}`,children:i.buySignal?"BUY":"SELL"})})]},n))})]})})]})}function tY({assetType:e,asOfDate:t}){const[i,n]=M.useState(null);if(M.useEffect(()=>{qj(e).then(n).catch(()=>n(null))},[e]),!i||i.total===0)return O.jsxs("div",{className:"panel-glow p-4 text-center",children:[O.jsx("div",{className:"text-cyber-green glow-green text-sm mb-1",children:"SYSTEM STATUS"}),O.jsxs("div",{className:"text-cyber-muted text-xs",children:["No ",e==="crypto"?"crypto":"stock"," data loaded yet. Run the seed script to pull data:",O.jsx("code",{className:"ml-2 text-cyber-green bg-black/50 px-2 py-1 rounded",children:"npm run seed-db"})]})]});const r=e==="crypto"?"Tokens":"Symbols";return O.jsxs("div",{className:"panel p-3 flex items-center justify-between gap-4 flex-wrap",children:[O.jsxs("div",{className:"flex items-center gap-6",children:[O.jsxs("div",{children:[O.jsx("div",{className:"text-[10px] text-cyber-muted uppercase tracking-widest",children:r}),O.jsx("div",{className:"text-lg font-bold text-cyber-text",children:i.total.toLocaleString()})]}),O.jsxs("div",{children:[O.jsx("div",{className:"text-[10px] text-cyber-muted uppercase tracking-widest",children:"Buy Signals"}),O.jsx("div",{className:"text-lg font-bold text-cyber-green",children:i.buys.toLocaleString()})]}),O.jsxs("div",{children:[O.jsx("div",{className:"text-[10px] text-cyber-muted uppercase tracking-widest",children:"Sell Signals"}),O.jsx("div",{className:"text-lg font-bold text-cyber-red",children:i.sells.toLocaleString()})]}),O.jsxs("div",{children:[O.jsx("div",{className:"text-[10px] text-cyber-muted uppercase tracking-widest",children:"Hold"}),O.jsx("div",{className:"text-lg font-bold text-cyber-yellow",children:i.holds.toLocaleString()})]})]}),O.jsxs("div",{className:"flex items-center gap-3",children:[t&&O.jsxs("div",{className:"text-[10px] text-cyber-yellow font-bold uppercase tracking-wider",children:["Historical: ",t]}),i.lastUpdate&&O.jsxs("div",{className:"text-[10px] text-cyber-muted",children:["Last updated: ",new Date(i.lastUpdate).toLocaleString()]})]})]})}function q_(e){var t,i,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(i=q_(e[t]))&&(n&&(n+=" "),n+=i)}else for(i in e)e[i]&&(n&&(n+=" "),n+=i);return n}function Ue(){for(var e,t,i=0,n="",r=arguments.length;i<r;i++)(e=arguments[i])&&(t=q_(e))&&(n&&(n+=" "),n+=t);return n}var Bv,nT;function Oi(){if(nT)return Bv;nT=1;var e=Array.isArray;return Bv=e,Bv}var Hv,rT;function K_(){if(rT)return Hv;rT=1;var e=typeof Ah=="object"&&Ah&&Ah.Object===Object&&Ah;return Hv=e,Hv}var Vv,sT;function nr(){if(sT)return Vv;sT=1;var e=K_(),t=typeof self=="object"&&self&&self.Object===Object&&self,i=e||t||Function("return this")();return Vv=i,Vv}var jv,oT;function rd(){if(oT)return jv;oT=1;var e=nr(),t=e.Symbol;return jv=t,jv}var zv,aT;function iY(){if(aT)return zv;aT=1;var e=rd(),t=Object.prototype,i=t.hasOwnProperty,n=t.toString,r=e?e.toStringTag:void 0;function s(a){var u=i.call(a,r),c=a[r];try{a[r]=void 0;var h=!0}catch{}var p=n.call(a);return h&&(u?a[r]=c:delete a[r]),p}return zv=s,zv}var Wv,lT;function nY(){if(lT)return Wv;lT=1;var e=Object.prototype,t=e.toString;function i(n){return t.call(n)}return Wv=i,Wv}var Uv,uT;function Gr(){if(uT)return Uv;uT=1;var e=rd(),t=iY(),i=nY(),n="[object Null]",r="[object Undefined]",s=e?e.toStringTag:void 0;function a(u){return u==null?u===void 0?r:n:s&&s in Object(u)?t(u):i(u)}return Uv=a,Uv}var $v,cT;function Br(){if(cT)return $v;cT=1;function e(t){return t!=null&&typeof t=="object"}return $v=e,$v}var qv,dT;function Tl(){if(dT)return qv;dT=1;var e=Gr(),t=Br(),i="[object Symbol]";function n(r){return typeof r=="symbol"||t(r)&&e(r)==i}return qv=n,qv}var Kv,hT;function y0(){if(hT)return Kv;hT=1;var e=Oi(),t=Tl(),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function r(s,a){if(e(s))return!1;var u=typeof s;return u=="number"||u=="symbol"||u=="boolean"||s==null||t(s)?!0:n.test(s)||!i.test(s)||a!=null&&s in Object(a)}return Kv=r,Kv}var Yv,fT;function Ds(){if(fT)return Yv;fT=1;function e(t){var i=typeof t;return t!=null&&(i=="object"||i=="function")}return Yv=e,Yv}var Xv,pT;function C0(){if(pT)return Xv;pT=1;var e=Gr(),t=Ds(),i="[object AsyncFunction]",n="[object Function]",r="[object GeneratorFunction]",s="[object Proxy]";function a(u){if(!t(u))return!1;var c=e(u);return c==n||c==r||c==i||c==s}return Xv=a,Xv}var Qv,gT;function rY(){if(gT)return Qv;gT=1;var e=nr(),t=e["__core-js_shared__"];return Qv=t,Qv}var Zv,mT;function sY(){if(mT)return Zv;mT=1;var e=rY(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function i(n){return!!t&&t in n}return Zv=i,Zv}var Jv,vT;function Y_(){if(vT)return Jv;vT=1;var e=Function.prototype,t=e.toString;function i(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Jv=i,Jv}var ey,yT;function oY(){if(yT)return ey;yT=1;var e=C0(),t=sY(),i=Ds(),n=Y_(),r=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,u=Object.prototype,c=a.toString,h=u.hasOwnProperty,p=RegExp("^"+c.call(h).replace(r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(m){if(!i(m)||t(m))return!1;var y=e(m)?p:s;return y.test(n(m))}return ey=g,ey}var ty,CT;function aY(){if(CT)return ty;CT=1;function e(t,i){return t==null?void 0:t[i]}return ty=e,ty}var iy,ST;function Bo(){if(ST)return iy;ST=1;var e=oY(),t=aY();function i(n,r){var s=t(n,r);return e(s)?s:void 0}return iy=i,iy}var ny,bT;function wp(){if(bT)return ny;bT=1;var e=Bo(),t=e(Object,"create");return ny=t,ny}var ry,wT;function lY(){if(wT)return ry;wT=1;var e=wp();function t(){this.__data__=e?e(null):{},this.size=0}return ry=t,ry}var sy,xT;function uY(){if(xT)return sy;xT=1;function e(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i}return sy=e,sy}var oy,RT;function cY(){if(RT)return oy;RT=1;var e=wp(),t="__lodash_hash_undefined__",i=Object.prototype,n=i.hasOwnProperty;function r(s){var a=this.__data__;if(e){var u=a[s];return u===t?void 0:u}return n.call(a,s)?a[s]:void 0}return oy=r,oy}var ay,ET;function dY(){if(ET)return ay;ET=1;var e=wp(),t=Object.prototype,i=t.hasOwnProperty;function n(r){var s=this.__data__;return e?s[r]!==void 0:i.call(s,r)}return ay=n,ay}var ly,AT;function hY(){if(AT)return ly;AT=1;var e=wp(),t="__lodash_hash_undefined__";function i(n,r){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=e&&r===void 0?t:r,this}return ly=i,ly}var uy,PT;function fY(){if(PT)return uy;PT=1;var e=lY(),t=uY(),i=cY(),n=dY(),r=hY();function s(a){var u=-1,c=a==null?0:a.length;for(this.clear();++u<c;){var h=a[u];this.set(h[0],h[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=i,s.prototype.has=n,s.prototype.set=r,uy=s,uy}var cy,DT;function pY(){if(DT)return cy;DT=1;function e(){this.__data__=[],this.size=0}return cy=e,cy}var dy,TT;function S0(){if(TT)return dy;TT=1;function e(t,i){return t===i||t!==t&&i!==i}return dy=e,dy}var hy,MT;function xp(){if(MT)return hy;MT=1;var e=S0();function t(i,n){for(var r=i.length;r--;)if(e(i[r][0],n))return r;return-1}return hy=t,hy}var fy,FT;function gY(){if(FT)return fy;FT=1;var e=xp(),t=Array.prototype,i=t.splice;function n(r){var s=this.__data__,a=e(s,r);if(a<0)return!1;var u=s.length-1;return a==u?s.pop():i.call(s,a,1),--this.size,!0}return fy=n,fy}var py,OT;function mY(){if(OT)return py;OT=1;var e=xp();function t(i){var n=this.__data__,r=e(n,i);return r<0?void 0:n[r][1]}return py=t,py}var gy,LT;function vY(){if(LT)return gy;LT=1;var e=xp();function t(i){return e(this.__data__,i)>-1}return gy=t,gy}var my,IT;function yY(){if(IT)return my;IT=1;var e=xp();function t(i,n){var r=this.__data__,s=e(r,i);return s<0?(++this.size,r.push([i,n])):r[s][1]=n,this}return my=t,my}var vy,NT;function Rp(){if(NT)return vy;NT=1;var e=pY(),t=gY(),i=mY(),n=vY(),r=yY();function s(a){var u=-1,c=a==null?0:a.length;for(this.clear();++u<c;){var h=a[u];this.set(h[0],h[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=i,s.prototype.has=n,s.prototype.set=r,vy=s,vy}var yy,_T;function b0(){if(_T)return yy;_T=1;var e=Bo(),t=nr(),i=e(t,"Map");return yy=i,yy}var Cy,kT;function CY(){if(kT)return Cy;kT=1;var e=fY(),t=Rp(),i=b0();function n(){this.size=0,this.__data__={hash:new e,map:new(i||t),string:new e}}return Cy=n,Cy}var Sy,GT;function SY(){if(GT)return Sy;GT=1;function e(t){var i=typeof t;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?t!=="__proto__":t===null}return Sy=e,Sy}var by,BT;function Ep(){if(BT)return by;BT=1;var e=SY();function t(i,n){var r=i.__data__;return e(n)?r[typeof n=="string"?"string":"hash"]:r.map}return by=t,by}var wy,HT;function bY(){if(HT)return wy;HT=1;var e=Ep();function t(i){var n=e(this,i).delete(i);return this.size-=n?1:0,n}return wy=t,wy}var xy,VT;function wY(){if(VT)return xy;VT=1;var e=Ep();function t(i){return e(this,i).get(i)}return xy=t,xy}var Ry,jT;function xY(){if(jT)return Ry;jT=1;var e=Ep();function t(i){return e(this,i).has(i)}return Ry=t,Ry}var Ey,zT;function RY(){if(zT)return Ey;zT=1;var e=Ep();function t(i,n){var r=e(this,i),s=r.size;return r.set(i,n),this.size+=r.size==s?0:1,this}return Ey=t,Ey}var Ay,WT;function w0(){if(WT)return Ay;WT=1;var e=CY(),t=bY(),i=wY(),n=xY(),r=RY();function s(a){var u=-1,c=a==null?0:a.length;for(this.clear();++u<c;){var h=a[u];this.set(h[0],h[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=i,s.prototype.has=n,s.prototype.set=r,Ay=s,Ay}var Py,UT;function X_(){if(UT)return Py;UT=1;var e=w0(),t="Expected a function";function i(n,r){if(typeof n!="function"||r!=null&&typeof r!="function")throw new TypeError(t);var s=function(){var a=arguments,u=r?r.apply(this,a):a[0],c=s.cache;if(c.has(u))return c.get(u);var h=n.apply(this,a);return s.cache=c.set(u,h)||c,h};return s.cache=new(i.Cache||e),s}return i.Cache=e,Py=i,Py}var Dy,$T;function EY(){if($T)return Dy;$T=1;var e=X_(),t=500;function i(n){var r=e(n,function(a){return s.size===t&&s.clear(),a}),s=r.cache;return r}return Dy=i,Dy}var Ty,qT;function AY(){if(qT)return Ty;qT=1;var e=EY(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,n=e(function(r){var s=[];return r.charCodeAt(0)===46&&s.push(""),r.replace(t,function(a,u,c,h){s.push(c?h.replace(i,"$1"):u||a)}),s});return Ty=n,Ty}var My,KT;function x0(){if(KT)return My;KT=1;function e(t,i){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=i(t[n],n,t);return s}return My=e,My}var Fy,YT;function PY(){if(YT)return Fy;YT=1;var e=rd(),t=x0(),i=Oi(),n=Tl(),r=e?e.prototype:void 0,s=r?r.toString:void 0;function a(u){if(typeof u=="string")return u;if(i(u))return t(u,a)+"";if(n(u))return s?s.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return Fy=a,Fy}var Oy,XT;function Q_(){if(XT)return Oy;XT=1;var e=PY();function t(i){return i==null?"":e(i)}return Oy=t,Oy}var Ly,QT;function Z_(){if(QT)return Ly;QT=1;var e=Oi(),t=y0(),i=AY(),n=Q_();function r(s,a){return e(s)?s:t(s,a)?[s]:i(n(s))}return Ly=r,Ly}var Iy,ZT;function Ap(){if(ZT)return Iy;ZT=1;var e=Tl();function t(i){if(typeof i=="string"||e(i))return i;var n=i+"";return n=="0"&&1/i==-1/0?"-0":n}return Iy=t,Iy}var Ny,JT;function R0(){if(JT)return Ny;JT=1;var e=Z_(),t=Ap();function i(n,r){r=e(r,n);for(var s=0,a=r.length;n!=null&&s<a;)n=n[t(r[s++])];return s&&s==a?n:void 0}return Ny=i,Ny}var _y,eM;function J_(){if(eM)return _y;eM=1;var e=R0();function t(i,n,r){var s=i==null?void 0:e(i,n);return s===void 0?r:s}return _y=t,_y}var DY=J_();const yn=ut(DY);var ky,tM;function TY(){if(tM)return ky;tM=1;function e(t){return t==null}return ky=e,ky}var MY=TY();const Oe=ut(MY);var Gy,iM;function FY(){if(iM)return Gy;iM=1;var e=Gr(),t=Oi(),i=Br(),n="[object String]";function r(s){return typeof s=="string"||!t(s)&&i(s)&&e(s)==n}return Gy=r,Gy}var OY=FY();const Mo=ut(OY);var LY=C0();const Ge=ut(LY);var IY=Ds();const Ml=ut(IY);var By={exports:{}},tt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nM;function NY(){if(nM)return tt;nM=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function w(S){if(typeof S=="object"&&S!==null){var x=S.$$typeof;switch(x){case e:switch(S=S.type,S){case i:case r:case n:case h:case p:return S;default:switch(S=S&&S.$$typeof,S){case u:case a:case c:case m:case g:case s:return S;default:return x}}case t:return x}}}return tt.ContextConsumer=a,tt.ContextProvider=s,tt.Element=e,tt.ForwardRef=c,tt.Fragment=i,tt.Lazy=m,tt.Memo=g,tt.Portal=t,tt.Profiler=r,tt.StrictMode=n,tt.Suspense=h,tt.SuspenseList=p,tt.isAsyncMode=function(){return!1},tt.isConcurrentMode=function(){return!1},tt.isContextConsumer=function(S){return w(S)===a},tt.isContextProvider=function(S){return w(S)===s},tt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},tt.isForwardRef=function(S){return w(S)===c},tt.isFragment=function(S){return w(S)===i},tt.isLazy=function(S){return w(S)===m},tt.isMemo=function(S){return w(S)===g},tt.isPortal=function(S){return w(S)===t},tt.isProfiler=function(S){return w(S)===r},tt.isStrictMode=function(S){return w(S)===n},tt.isSuspense=function(S){return w(S)===h},tt.isSuspenseList=function(S){return w(S)===p},tt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===i||S===r||S===n||S===h||S===p||S===y||typeof S=="object"&&S!==null&&(S.$$typeof===m||S.$$typeof===g||S.$$typeof===s||S.$$typeof===a||S.$$typeof===c||S.$$typeof===b||S.getModuleId!==void 0)},tt.typeOf=w,tt}var rM;function _Y(){return rM||(rM=1,By.exports=NY()),By.exports}var kY=_Y(),Hy,sM;function ek(){if(sM)return Hy;sM=1;var e=Gr(),t=Br(),i="[object Number]";function n(r){return typeof r=="number"||t(r)&&e(r)==i}return Hy=n,Hy}var Vy,oM;function GY(){if(oM)return Vy;oM=1;var e=ek();function t(i){return e(i)&&i!=+i}return Vy=t,Vy}var BY=GY();const Fl=ut(BY);var HY=ek();const VY=ut(HY);var Ln=function(t){return t===0?0:t>0?1:-1},co=function(t){return Mo(t)&&t.indexOf("%")===t.length-1},me=function(t){return VY(t)&&!Fl(t)},jY=function(t){return Oe(t)},zt=function(t){return me(t)||Mo(t)},zY=0,Ho=function(t){var i=++zY;return"".concat(t||"").concat(i)},Fo=function(t,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!me(t)&&!Mo(t))return n;var s;if(co(t)){var a=t.indexOf("%");s=i*parseFloat(t.slice(0,a))/100}else s=+t;return Fl(s)&&(s=n),r&&s>i&&(s=i),s},Ia=function(t){if(!t)return null;var i=Object.keys(t);return i&&i.length?t[i[0]]:null},WY=function(t){if(!Array.isArray(t))return!1;for(var i=t.length,n={},r=0;r<i;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},Ft=function(t,i){return me(t)&&me(i)?function(n){return t+n*(i-t)}:function(){return i}};function ff(e,t,i){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):yn(n,t))===i})}var UY=function(t){if(!t||!t.length)return null;for(var i=t.length,n=0,r=0,s=0,a=0,u=1/0,c=-1/0,h=0,p=0,g=0;g<i;g++)h=t[g].cx||0,p=t[g].cy||0,n+=h,r+=p,s+=h*p,a+=h*h,u=Math.min(u,h),c=Math.max(c,h);var m=i*a!==n*n?(i*s-n*r)/(i*a-n*n):0;return{xmin:u,xmax:c,a:m,b:(r-m*n)/i}},$Y=function(t,i){return me(t)&&me(i)?t-i:Mo(t)&&Mo(i)?t.localeCompare(i):t instanceof Date&&i instanceof Date?t.getTime()-i.getTime():String(t).localeCompare(String(i))};function ja(e,t){for(var i in e)if({}.hasOwnProperty.call(e,i)&&(!{}.hasOwnProperty.call(t,i)||e[i]!==t[i]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function uw(e){"@babel/helpers - typeof";return uw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uw(e)}var qY=["viewBox","children"],KY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],aM=["points","pathLength"],jy={svg:qY,polygon:aM,polyline:aM},E0=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],pf=function(t,i){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(M.isValidElement(t)&&(n=t.props),!Ml(n))return null;var r={};return Object.keys(n).forEach(function(s){E0.includes(s)&&(r[s]=i||function(a){return n[s](n,a)})}),r},YY=function(t,i,n){return function(r){return t(i,n,r),null}},vc=function(t,i,n){if(!Ml(t)||uw(t)!=="object")return null;var r=null;return Object.keys(t).forEach(function(s){var a=t[s];E0.includes(s)&&typeof a=="function"&&(r||(r={}),r[s]=YY(a,i,n))}),r},XY=["children"],QY=["children"];function lM(e,t){if(e==null)return{};var i=ZY(e,t),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZY(e,t){if(e==null)return{};var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}function cw(e){"@babel/helpers - typeof";return cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cw(e)}var uM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Tr=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},cM=null,zy=null,A0=function e(t){if(t===cM&&Array.isArray(zy))return zy;var i=[];return M.Children.forEach(t,function(n){Oe(n)||(kY.isFragment(n)?i=i.concat(e(n.props.children)):i.push(n))}),zy=i,cM=t,i};function Fi(e,t){var i=[],n=[];return Array.isArray(t)?n=t.map(function(r){return Tr(r)}):n=[Tr(t)],A0(e).forEach(function(r){var s=yn(r,"type.displayName")||yn(r,"type.name");n.indexOf(s)!==-1&&i.push(r)}),i}function $i(e,t){var i=Fi(e,t);return i&&i[0]}var dM=function(t){if(!t||!t.props)return!1;var i=t.props,n=i.width,r=i.height;return!(!me(n)||n<=0||!me(r)||r<=0)},JY=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],e9=function(t){return t&&t.type&&Mo(t.type)&&JY.indexOf(t.type)>=0},tk=function(t){return t&&cw(t)==="object"&&"clipDot"in t},t9=function(t,i,n,r){var s,a=(s=jy==null?void 0:jy[r])!==null&&s!==void 0?s:[];return i.startsWith("data-")||!Ge(t)&&(r&&a.includes(i)||KY.includes(i))||n&&E0.includes(i)},Ie=function(t,i,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(M.isValidElement(t)&&(r=t.props),!Ml(r))return null;var s={};return Object.keys(r).forEach(function(a){var u;t9((u=r)===null||u===void 0?void 0:u[a],a,i,n)&&(s[a]=r[a])}),s},dw=function e(t,i){if(t===i)return!0;var n=M.Children.count(t);if(n!==M.Children.count(i))return!1;if(n===0)return!0;if(n===1)return hM(Array.isArray(t)?t[0]:t,Array.isArray(i)?i[0]:i);for(var r=0;r<n;r++){var s=t[r],a=i[r];if(Array.isArray(s)||Array.isArray(a)){if(!e(s,a))return!1}else if(!hM(s,a))return!1}return!0},hM=function(t,i){if(Oe(t)&&Oe(i))return!0;if(!Oe(t)&&!Oe(i)){var n=t.props||{},r=n.children,s=lM(n,XY),a=i.props||{},u=a.children,c=lM(a,QY);return r&&u?ja(s,c)&&dw(r,u):!r&&!u?ja(s,c):!1}return!1},fM=function(t,i){var n=[],r={};return A0(t).forEach(function(s,a){if(e9(s))n.push(s);else if(s){var u=Tr(s.type),c=i[u]||{},h=c.handler,p=c.once;if(h&&(!p||!r[u])){var g=h(s,u,a);n.push(g),r[u]=!0}}}),n},i9=function(t){var i=t&&t.type;return i&&uM[i]?uM[i]:null},n9=function(t,i){return A0(i).indexOf(t)},r9=["children","width","height","viewBox","className","style","title","desc"];function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},hw.apply(this,arguments)}function s9(e,t){if(e==null)return{};var i=o9(e,t),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o9(e,t){if(e==null)return{};var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}function fw(e){var t=e.children,i=e.width,n=e.height,r=e.viewBox,s=e.className,a=e.style,u=e.title,c=e.desc,h=s9(e,r9),p=r||{width:i,height:n,x:0,y:0},g=Ue("recharts-surface",s);return N.createElement("svg",hw({},Ie(h,!0,"svg"),{className:g,width:i,height:n,style:a,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),N.createElement("title",null,u),N.createElement("desc",null,c),t)}var a9=["children","className"];function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},pw.apply(this,arguments)}function l9(e,t){if(e==null)return{};var i=u9(e,t),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u9(e,t){if(e==null)return{};var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}var et=N.forwardRef(function(e,t){var i=e.children,n=e.className,r=l9(e,a9),s=Ue("recharts-layer",n);return N.createElement("g",pw({className:s},Ie(r,!0),{ref:t}),i)}),bo=function(t,i){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s]},Wy,pM;function c9(){if(pM)return Wy;pM=1;function e(t,i,n){var r=-1,s=t.length;i<0&&(i=-i>s?0:s+i),n=n>s?s:n,n<0&&(n+=s),s=i>n?0:n-i>>>0,i>>>=0;for(var a=Array(s);++r<s;)a[r]=t[r+i];return a}return Wy=e,Wy}var Uy,gM;function d9(){if(gM)return Uy;gM=1;var e=c9();function t(i,n,r){var s=i.length;return r=r===void 0?s:r,!n&&r>=s?i:e(i,n,r)}return Uy=t,Uy}var $y,mM;function ik(){if(mM)return $y;mM=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",r=t+i+n,s="\\ufe0e\\ufe0f",a="\\u200d",u=RegExp("["+a+e+r+s+"]");function c(h){return u.test(h)}return $y=c,$y}var qy,vM;function h9(){if(vM)return qy;vM=1;function e(t){return t.split("")}return qy=e,qy}var Ky,yM;function f9(){if(yM)return Ky;yM=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",r=t+i+n,s="\\ufe0e\\ufe0f",a="["+e+"]",u="["+r+"]",c="\\ud83c[\\udffb-\\udfff]",h="(?:"+u+"|"+c+")",p="[^"+e+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",b=h+"?",w="["+s+"]?",S="(?:"+y+"(?:"+[p,g,m].join("|")+")"+w+b+")*",x=w+b+S,E="(?:"+[p+u+"?",u,g,m,a].join("|")+")",R=RegExp(c+"(?="+c+")|"+E+x,"g");function T(A){return A.match(R)||[]}return Ky=T,Ky}var Yy,CM;function p9(){if(CM)return Yy;CM=1;var e=h9(),t=ik(),i=f9();function n(r){return t(r)?i(r):e(r)}return Yy=n,Yy}var Xy,SM;function g9(){if(SM)return Xy;SM=1;var e=d9(),t=ik(),i=p9(),n=Q_();function r(s){return function(a){a=n(a);var u=t(a)?i(a):void 0,c=u?u[0]:a.charAt(0),h=u?e(u,1).join(""):a.slice(1);return c[s]()+h}}return Xy=r,Xy}var Qy,bM;function m9(){if(bM)return Qy;bM=1;var e=g9(),t=e("toUpperCase");return Qy=t,Qy}var v9=m9();const Pp=ut(v9);function ft(e){return function(){return e}}const nk=Math.cos,gf=Math.sin,kn=Math.sqrt,mf=Math.PI,Dp=2*mf,gw=Math.PI,mw=2*gw,ro=1e-6,y9=mw-ro;function rk(e){this._+=e[0];for(let t=1,i=e.length;t<i;++t)this._+=arguments[t]+e[t]}function C9(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return rk;const i=10**t;return function(n){this._+=n[0];for(let r=1,s=n.length;r<s;++r)this._+=Math.round(arguments[r]*i)/i+n[r]}}class S9{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?rk:C9(t)}moveTo(t,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,i){this._append`L${this._x1=+t},${this._y1=+i}`}quadraticCurveTo(t,i,n,r){this._append`Q${+t},${+i},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,i,n,r,s,a){this._append`C${+t},${+i},${+n},${+r},${this._x1=+s},${this._y1=+a}`}arcTo(t,i,n,r,s){if(t=+t,i=+i,n=+n,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,u=this._y1,c=n-t,h=r-i,p=a-t,g=u-i,m=p*p+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=i}`;else if(m>ro)if(!(Math.abs(g*c-h*p)>ro)||!s)this._append`L${this._x1=t},${this._y1=i}`;else{let y=n-a,b=r-u,w=c*c+h*h,S=y*y+b*b,x=Math.sqrt(w),E=Math.sqrt(m),R=s*Math.tan((gw-Math.acos((w+m-S)/(2*x*E)))/2),T=R/E,A=R/x;Math.abs(T-1)>ro&&this._append`L${t+T*p},${i+T*g}`,this._append`A${s},${s},0,0,${+(g*y>p*b)},${this._x1=t+A*c},${this._y1=i+A*h}`}}arc(t,i,n,r,s,a){if(t=+t,i=+i,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(r),c=n*Math.sin(r),h=t+u,p=i+c,g=1^a,m=a?r-s:s-r;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>ro||Math.abs(this._y1-p)>ro)&&this._append`L${h},${p}`,n&&(m<0&&(m=m%mw+mw),m>y9?this._append`A${n},${n},0,1,${g},${t-u},${i-c}A${n},${n},0,1,${g},${this._x1=h},${this._y1=p}`:m>ro&&this._append`A${n},${n},0,${+(m>=gw)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=i+n*Math.sin(s)}`)}rect(t,i,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function P0(e){let t=3;return e.digits=function(i){if(!arguments.length)return t;if(i==null)t=null;else{const n=Math.floor(i);if(!(n>=0))throw new RangeError(`invalid digits: ${i}`);t=n}return e},()=>new S9(t)}function D0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function sk(e){this._context=e}sk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Tp(e){return new sk(e)}function ok(e){return e[0]}function ak(e){return e[1]}function lk(e,t){var i=ft(!0),n=null,r=Tp,s=null,a=P0(u);e=typeof e=="function"?e:e===void 0?ok:ft(e),t=typeof t=="function"?t:t===void 0?ak:ft(t);function u(c){var h,p=(c=D0(c)).length,g,m=!1,y;for(n==null&&(s=r(y=a())),h=0;h<=p;++h)!(h<p&&i(g=c[h],h,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(g,h,c),+t(g,h,c));if(y)return s=null,y+""||null}return u.x=function(c){return arguments.length?(e=typeof c=="function"?c:ft(+c),u):e},u.y=function(c){return arguments.length?(t=typeof c=="function"?c:ft(+c),u):t},u.defined=function(c){return arguments.length?(i=typeof c=="function"?c:ft(!!c),u):i},u.curve=function(c){return arguments.length?(r=c,n!=null&&(s=r(n)),u):r},u.context=function(c){return arguments.length?(c==null?n=s=null:s=r(n=c),u):n},u}function Ih(e,t,i){var n=null,r=ft(!0),s=null,a=Tp,u=null,c=P0(h);e=typeof e=="function"?e:e===void 0?ok:ft(+e),t=typeof t=="function"?t:ft(t===void 0?0:+t),i=typeof i=="function"?i:i===void 0?ak:ft(+i);function h(g){var m,y,b,w=(g=D0(g)).length,S,x=!1,E,R=new Array(w),T=new Array(w);for(s==null&&(u=a(E=c())),m=0;m<=w;++m){if(!(m<w&&r(S=g[m],m,g))===x)if(x=!x)y=m,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),b=m-1;b>=y;--b)u.point(R[b],T[b]);u.lineEnd(),u.areaEnd()}x&&(R[m]=+e(S,m,g),T[m]=+t(S,m,g),u.point(n?+n(S,m,g):R[m],i?+i(S,m,g):T[m]))}if(E)return u=null,E+""||null}function p(){return lk().defined(r).curve(a).context(s)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:ft(+g),n=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:ft(+g),h):e},h.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:ft(+g),h):n},h.y=function(g){return arguments.length?(t=typeof g=="function"?g:ft(+g),i=null,h):t},h.y0=function(g){return arguments.length?(t=typeof g=="function"?g:ft(+g),h):t},h.y1=function(g){return arguments.length?(i=g==null?null:typeof g=="function"?g:ft(+g),h):i},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(i)},h.lineX1=function(){return p().x(n).y(t)},h.defined=function(g){return arguments.length?(r=typeof g=="function"?g:ft(!!g),h):r},h.curve=function(g){return arguments.length?(a=g,s!=null&&(u=a(s)),h):a},h.context=function(g){return arguments.length?(g==null?s=u=null:u=a(s=g),h):s},h}class uk{constructor(t,i){this._context=t,this._x=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,i){switch(t=+t,i=+i,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,i,t,i):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+i)/2,t,this._y0,t,i);break}}this._x0=t,this._y0=i}}function b9(e){return new uk(e,!0)}function w9(e){return new uk(e,!1)}const T0={draw(e,t){const i=kn(t/mf);e.moveTo(i,0),e.arc(0,0,i,0,Dp)}},x9={draw(e,t){const i=kn(t/5)/2;e.moveTo(-3*i,-i),e.lineTo(-i,-i),e.lineTo(-i,-3*i),e.lineTo(i,-3*i),e.lineTo(i,-i),e.lineTo(3*i,-i),e.lineTo(3*i,i),e.lineTo(i,i),e.lineTo(i,3*i),e.lineTo(-i,3*i),e.lineTo(-i,i),e.lineTo(-3*i,i),e.closePath()}},ck=kn(1/3),R9=ck*2,E9={draw(e,t){const i=kn(t/R9),n=i*ck;e.moveTo(0,-i),e.lineTo(n,0),e.lineTo(0,i),e.lineTo(-n,0),e.closePath()}},A9={draw(e,t){const i=kn(t),n=-i/2;e.rect(n,n,i,i)}},P9=.8908130915292852,dk=gf(mf/10)/gf(7*mf/10),D9=gf(Dp/10)*dk,T9=-nk(Dp/10)*dk,M9={draw(e,t){const i=kn(t*P9),n=D9*i,r=T9*i;e.moveTo(0,-i),e.lineTo(n,r);for(let s=1;s<5;++s){const a=Dp*s/5,u=nk(a),c=gf(a);e.lineTo(c*i,-u*i),e.lineTo(u*n-c*r,c*n+u*r)}e.closePath()}},Zy=kn(3),F9={draw(e,t){const i=-kn(t/(Zy*3));e.moveTo(0,i*2),e.lineTo(-Zy*i,-i),e.lineTo(Zy*i,-i),e.closePath()}},ln=-.5,un=kn(3)/2,vw=1/kn(12),O9=(vw/2+1)*3,L9={draw(e,t){const i=kn(t/O9),n=i/2,r=i*vw,s=n,a=i*vw+i,u=-s,c=a;e.moveTo(n,r),e.lineTo(s,a),e.lineTo(u,c),e.lineTo(ln*n-un*r,un*n+ln*r),e.lineTo(ln*s-un*a,un*s+ln*a),e.lineTo(ln*u-un*c,un*u+ln*c),e.lineTo(ln*n+un*r,ln*r-un*n),e.lineTo(ln*s+un*a,ln*a-un*s),e.lineTo(ln*u+un*c,ln*c-un*u),e.closePath()}};function I9(e,t){let i=null,n=P0(r);e=typeof e=="function"?e:ft(e||T0),t=typeof t=="function"?t:ft(t===void 0?64:+t);function r(){let s;if(i||(i=s=n()),e.apply(this,arguments).draw(i,+t.apply(this,arguments)),s)return i=null,s+""||null}return r.type=function(s){return arguments.length?(e=typeof s=="function"?s:ft(s),r):e},r.size=function(s){return arguments.length?(t=typeof s=="function"?s:ft(+s),r):t},r.context=function(s){return arguments.length?(i=s??null,r):i},r}function vf(){}function yf(e,t,i){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+i)/6)}function hk(e){this._context=e}hk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function N9(e){return new hk(e)}function fk(e){this._context=e}fk.prototype={areaStart:vf,areaEnd:vf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _9(e){return new fk(e)}function pk(e){this._context=e}pk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(i,n):this._context.moveTo(i,n);break;case 3:this._point=4;default:yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k9(e){return new pk(e)}function gk(e){this._context=e}gk.prototype={areaStart:vf,areaEnd:vf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function G9(e){return new gk(e)}function wM(e){return e<0?-1:1}function xM(e,t,i){var n=e._x1-e._x0,r=t-e._x1,s=(e._y1-e._y0)/(n||r<0&&-0),a=(i-e._y1)/(r||n<0&&-0),u=(s*r+a*n)/(n+r);return(wM(s)+wM(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(u))||0}function RM(e,t){var i=e._x1-e._x0;return i?(3*(e._y1-e._y0)/i-t)/2:t}function Jy(e,t,i){var n=e._x0,r=e._y0,s=e._x1,a=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,r+u*t,s-u,a-u*i,s,a)}function Cf(e){this._context=e}Cf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Jy(this,this._t0,RM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var i=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Jy(this,RM(this,i=xM(this,e,t)),i);break;default:Jy(this,this._t0,i=xM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=i}}};function mk(e){this._context=new vk(e)}(mk.prototype=Object.create(Cf.prototype)).point=function(e,t){Cf.prototype.point.call(this,t,e)};function vk(e){this._context=e}vk.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,i,n,r,s){this._context.bezierCurveTo(t,e,n,i,s,r)}};function B9(e){return new Cf(e)}function H9(e){return new mk(e)}function yk(e){this._context=e}yk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,i=e.length;if(i)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),i===2)this._context.lineTo(e[1],t[1]);else for(var n=EM(e),r=EM(t),s=0,a=1;a<i;++s,++a)this._context.bezierCurveTo(n[0][s],r[0][s],n[1][s],r[1][s],e[a],t[a]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function EM(e){var t,i=e.length-1,n,r=new Array(i),s=new Array(i),a=new Array(i);for(r[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<i-1;++t)r[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(r[i-1]=2,s[i-1]=7,a[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)n=r[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(r[i-1]=a[i-1]/s[i-1],t=i-2;t>=0;--t)r[t]=(a[t]-r[t+1])/s[t];for(s[i-1]=(e[i]+r[i-1])/2,t=0;t<i-1;++t)s[t]=2*e[t+1]-r[t+1];return[r,s]}function V9(e){return new yk(e)}function Mp(e,t){this._context=e,this._t=t}Mp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var i=this._x*(1-this._t)+e*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,t)}break}}this._x=e,this._y=t}};function j9(e){return new Mp(e,.5)}function z9(e){return new Mp(e,0)}function W9(e){return new Mp(e,1)}function Xa(e,t){if((a=e.length)>1)for(var i=1,n,r,s=e[t[0]],a,u=s.length;i<a;++i)for(r=s,s=e[t[i]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function yw(e){for(var t=e.length,i=new Array(t);--t>=0;)i[t]=t;return i}function U9(e,t){return e[t]}function $9(e){const t=[];return t.key=e,t}function q9(){var e=ft([]),t=yw,i=Xa,n=U9;function r(s){var a=Array.from(e.apply(this,arguments),$9),u,c=a.length,h=-1,p;for(const g of s)for(u=0,++h;u<c;++u)(a[u][h]=[0,+n(g,a[u].key,h,s)]).data=g;for(u=0,p=D0(t(a));u<c;++u)a[p[u]].index=u;return i(a,p),a}return r.keys=function(s){return arguments.length?(e=typeof s=="function"?s:ft(Array.from(s)),r):e},r.value=function(s){return arguments.length?(n=typeof s=="function"?s:ft(+s),r):n},r.order=function(s){return arguments.length?(t=s==null?yw:typeof s=="function"?s:ft(Array.from(s)),r):t},r.offset=function(s){return arguments.length?(i=s??Xa,r):i},r}function K9(e,t){if((n=e.length)>0){for(var i,n,r=0,s=e[0].length,a;r<s;++r){for(a=i=0;i<n;++i)a+=e[i][r][1]||0;if(a)for(i=0;i<n;++i)e[i][r][1]/=a}Xa(e,t)}}function Y9(e,t){if((r=e.length)>0){for(var i=0,n=e[t[0]],r,s=n.length;i<s;++i){for(var a=0,u=0;a<r;++a)u+=e[a][i][1]||0;n[i][1]+=n[i][0]=-u/2}Xa(e,t)}}function X9(e,t){if(!(!((a=e.length)>0)||!((s=(r=e[t[0]]).length)>0))){for(var i=0,n=1,r,s,a;n<s;++n){for(var u=0,c=0,h=0;u<a;++u){for(var p=e[t[u]],g=p[n][1]||0,m=p[n-1][1]||0,y=(g-m)/2,b=0;b<u;++b){var w=e[t[b]],S=w[n][1]||0,x=w[n-1][1]||0;y+=S-x}c+=g,h+=y*g}r[n-1][1]+=r[n-1][0]=i,c&&(i-=h/c)}r[n-1][1]+=r[n-1][0]=i,Xa(e,t)}}function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}var Q9=["type","size","sizeType"];function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Cw.apply(this,arguments)}function AM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function PM(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(i),!0).forEach(function(n){Z9(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):AM(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Z9(e,t,i){return t=J9(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function J9(e){var t=e7(e,"string");return yc(t)=="symbol"?t:t+""}function e7(e,t){if(yc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t7(e,t){if(e==null)return{};var i=i7(e,t),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i7(e,t){if(e==null)return{};var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}var Ck={symbolCircle:T0,symbolCross:x9,symbolDiamond:E9,symbolSquare:A9,symbolStar:M9,symbolTriangle:F9,symbolWye:L9},n7=Math.PI/180,r7=function(t){var i="symbol".concat(Pp(t));return Ck[i]||T0},s7=function(t,i,n){if(i==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*n7;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.pow(Math.tan(r),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},o7=function(t,i){Ck["symbol".concat(Pp(t))]=i},Fp=function(t){var i=t.type,n=i===void 0?"circle":i,r=t.size,s=r===void 0?64:r,a=t.sizeType,u=a===void 0?"area":a,c=t7(t,Q9),h=PM(PM({},c),{},{type:n,size:s,sizeType:u}),p=function(){var S=r7(n),x=I9().type(S).size(s7(s,u,n));return x()},g=h.className,m=h.cx,y=h.cy,b=Ie(h,!0);return m===+m&&y===+y&&s===+s?N.createElement("path",Cw({},b,{className:Ue("recharts-symbols",g),transform:"translate(".concat(m,", ").concat(y,")"),d:p()})):null};Fp.registerSymbol=o7;function Qa(e){"@babel/helpers - typeof";return Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qa(e)}function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Sw.apply(this,arguments)}function DM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function a7(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?DM(Object(i),!0).forEach(function(n){Cc(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):DM(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function l7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u7(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bk(n.key),n)}}function c7(e,t,i){return t&&u7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d7(e,t,i){return t=Sf(t),h7(e,Sk()?Reflect.construct(t,i||[],Sf(e).constructor):t.apply(e,i))}function h7(e,t){if(t&&(Qa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f7(e)}function f7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sk=function(){return!!e})()}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Sf(e)}function p7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bw(e,t)}function bw(e,t){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},bw(e,t)}function Cc(e,t,i){return t=bk(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function bk(e){var t=g7(e,"string");return Qa(t)=="symbol"?t:t+""}function g7(e,t){if(Qa(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Qa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cn=32,M0=(function(e){function t(){return l7(this,t),d7(this,t,arguments)}return p7(t,e),c7(t,[{key:"renderIcon",value:function(n){var r=this.props.inactiveColor,s=cn/2,a=cn/6,u=cn/3,c=n.inactive?r:n.color;if(n.type==="plainline")return N.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:cn,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(u,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*u,",").concat(s,`
            H`).concat(cn,"M").concat(2*u,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(u,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return N.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(cn/8,"h").concat(cn,"v").concat(cn*3/4,"h").concat(-cn,"z"),className:"recharts-legend-icon"});if(N.isValidElement(n.legendIcon)){var h=a7({},n);return delete h.legendIcon,N.cloneElement(n.legendIcon,h)}return N.createElement(Fp,{fill:c,cx:s,cy:s,size:cn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,r=this.props,s=r.payload,a=r.iconSize,u=r.layout,c=r.formatter,h=r.inactiveColor,p={x:0,y:0,width:cn,height:cn},g={display:u==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(y,b){var w=y.formatter||c,S=Ue(Cc(Cc({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",y.inactive));if(y.type==="none")return null;var x=Ge(y.value)?null:y.value;bo(!Ge(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=y.inactive?h:y.color;return N.createElement("li",Sw({className:S,style:g,key:"legend-item-".concat(b)},vc(n.props,y,b)),N.createElement(fw,{width:a,height:a,viewBox:p,style:m},n.renderIcon(y)),N.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},w?w(x,y,b):x))})}},{key:"render",value:function(){var n=this.props,r=n.payload,s=n.layout,a=n.align;if(!r||!r.length)return null;var u={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(M.PureComponent);Cc(M0,"displayName","Legend");Cc(M0,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var eC,TM;function m7(){if(TM)return eC;TM=1;var e=Rp();function t(){this.__data__=new e,this.size=0}return eC=t,eC}var tC,MM;function v7(){if(MM)return tC;MM=1;function e(t){var i=this.__data__,n=i.delete(t);return this.size=i.size,n}return tC=e,tC}var iC,FM;function y7(){if(FM)return iC;FM=1;function e(t){return this.__data__.get(t)}return iC=e,iC}var nC,OM;function C7(){if(OM)return nC;OM=1;function e(t){return this.__data__.has(t)}return nC=e,nC}var rC,LM;function S7(){if(LM)return rC;LM=1;var e=Rp(),t=b0(),i=w0(),n=200;function r(s,a){var u=this.__data__;if(u instanceof e){var c=u.__data__;if(!t||c.length<n-1)return c.push([s,a]),this.size=++u.size,this;u=this.__data__=new i(c)}return u.set(s,a),this.size=u.size,this}return rC=r,rC}var sC,IM;function wk(){if(IM)return sC;IM=1;var e=Rp(),t=m7(),i=v7(),n=y7(),r=C7(),s=S7();function a(u){var c=this.__data__=new e(u);this.size=c.size}return a.prototype.clear=t,a.prototype.delete=i,a.prototype.get=n,a.prototype.has=r,a.prototype.set=s,sC=a,sC}var oC,NM;function b7(){if(NM)return oC;NM=1;var e="__lodash_hash_undefined__";function t(i){return this.__data__.set(i,e),this}return oC=t,oC}var aC,_M;function w7(){if(_M)return aC;_M=1;function e(t){return this.__data__.has(t)}return aC=e,aC}var lC,kM;function xk(){if(kM)return lC;kM=1;var e=w0(),t=b7(),i=w7();function n(r){var s=-1,a=r==null?0:r.length;for(this.__data__=new e;++s<a;)this.add(r[s])}return n.prototype.add=n.prototype.push=t,n.prototype.has=i,lC=n,lC}var uC,GM;function Rk(){if(GM)return uC;GM=1;function e(t,i){for(var n=-1,r=t==null?0:t.length;++n<r;)if(i(t[n],n,t))return!0;return!1}return uC=e,uC}var cC,BM;function Ek(){if(BM)return cC;BM=1;function e(t,i){return t.has(i)}return cC=e,cC}var dC,HM;function Ak(){if(HM)return dC;HM=1;var e=xk(),t=Rk(),i=Ek(),n=1,r=2;function s(a,u,c,h,p,g){var m=c&n,y=a.length,b=u.length;if(y!=b&&!(m&&b>y))return!1;var w=g.get(a),S=g.get(u);if(w&&S)return w==u&&S==a;var x=-1,E=!0,R=c&r?new e:void 0;for(g.set(a,u),g.set(u,a);++x<y;){var T=a[x],A=u[x];if(h)var P=m?h(A,T,x,u,a,g):h(T,A,x,a,u,g);if(P!==void 0){if(P)continue;E=!1;break}if(R){if(!t(u,function(F,I){if(!i(R,I)&&(T===F||p(T,F,c,h,g)))return R.push(I)})){E=!1;break}}else if(!(T===A||p(T,A,c,h,g))){E=!1;break}}return g.delete(a),g.delete(u),E}return dC=s,dC}var hC,VM;function x7(){if(VM)return hC;VM=1;var e=nr(),t=e.Uint8Array;return hC=t,hC}var fC,jM;function R7(){if(jM)return fC;jM=1;function e(t){var i=-1,n=Array(t.size);return t.forEach(function(r,s){n[++i]=[s,r]}),n}return fC=e,fC}var pC,zM;function F0(){if(zM)return pC;zM=1;function e(t){var i=-1,n=Array(t.size);return t.forEach(function(r){n[++i]=r}),n}return pC=e,pC}var gC,WM;function E7(){if(WM)return gC;WM=1;var e=rd(),t=x7(),i=S0(),n=Ak(),r=R7(),s=F0(),a=1,u=2,c="[object Boolean]",h="[object Date]",p="[object Error]",g="[object Map]",m="[object Number]",y="[object RegExp]",b="[object Set]",w="[object String]",S="[object Symbol]",x="[object ArrayBuffer]",E="[object DataView]",R=e?e.prototype:void 0,T=R?R.valueOf:void 0;function A(P,F,I,k,W,V,B){switch(I){case E:if(P.byteLength!=F.byteLength||P.byteOffset!=F.byteOffset)return!1;P=P.buffer,F=F.buffer;case x:return!(P.byteLength!=F.byteLength||!V(new t(P),new t(F)));case c:case h:case m:return i(+P,+F);case p:return P.name==F.name&&P.message==F.message;case y:case w:return P==F+"";case g:var K=r;case b:var Y=k&a;if(K||(K=s),P.size!=F.size&&!Y)return!1;var H=B.get(P);if(H)return H==F;k|=u,B.set(P,F);var _=n(K(P),K(F),k,W,V,B);return B.delete(P),_;case S:if(T)return T.call(P)==T.call(F)}return!1}return gC=A,gC}var mC,UM;function Pk(){if(UM)return mC;UM=1;function e(t,i){for(var n=-1,r=i.length,s=t.length;++n<r;)t[s+n]=i[n];return t}return mC=e,mC}var vC,$M;function A7(){if($M)return vC;$M=1;var e=Pk(),t=Oi();function i(n,r,s){var a=r(n);return t(n)?a:e(a,s(n))}return vC=i,vC}var yC,qM;function P7(){if(qM)return yC;qM=1;function e(t,i){for(var n=-1,r=t==null?0:t.length,s=0,a=[];++n<r;){var u=t[n];i(u,n,t)&&(a[s++]=u)}return a}return yC=e,yC}var CC,KM;function D7(){if(KM)return CC;KM=1;function e(){return[]}return CC=e,CC}var SC,YM;function T7(){if(YM)return SC;YM=1;var e=P7(),t=D7(),i=Object.prototype,n=i.propertyIsEnumerable,r=Object.getOwnPropertySymbols,s=r?function(a){return a==null?[]:(a=Object(a),e(r(a),function(u){return n.call(a,u)}))}:t;return SC=s,SC}var bC,XM;function M7(){if(XM)return bC;XM=1;function e(t,i){for(var n=-1,r=Array(t);++n<t;)r[n]=i(n);return r}return bC=e,bC}var wC,QM;function F7(){if(QM)return wC;QM=1;var e=Gr(),t=Br(),i="[object Arguments]";function n(r){return t(r)&&e(r)==i}return wC=n,wC}var xC,ZM;function O0(){if(ZM)return xC;ZM=1;var e=F7(),t=Br(),i=Object.prototype,n=i.hasOwnProperty,r=i.propertyIsEnumerable,s=e((function(){return arguments})())?e:function(a){return t(a)&&n.call(a,"callee")&&!r.call(a,"callee")};return xC=s,xC}var Ku={exports:{}},RC,JM;function O7(){if(JM)return RC;JM=1;function e(){return!1}return RC=e,RC}Ku.exports;var eF;function Dk(){return eF||(eF=1,(function(e,t){var i=nr(),n=O7(),r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===r,u=a?i.Buffer:void 0,c=u?u.isBuffer:void 0,h=c||n;e.exports=h})(Ku,Ku.exports)),Ku.exports}var EC,tF;function L0(){if(tF)return EC;tF=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function i(n,r){var s=typeof n;return r=r??e,!!r&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<r}return EC=i,EC}var AC,iF;function I0(){if(iF)return AC;iF=1;var e=9007199254740991;function t(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=e}return AC=t,AC}var PC,nF;function L7(){if(nF)return PC;nF=1;var e=Gr(),t=I0(),i=Br(),n="[object Arguments]",r="[object Array]",s="[object Boolean]",a="[object Date]",u="[object Error]",c="[object Function]",h="[object Map]",p="[object Number]",g="[object Object]",m="[object RegExp]",y="[object Set]",b="[object String]",w="[object WeakMap]",S="[object ArrayBuffer]",x="[object DataView]",E="[object Float32Array]",R="[object Float64Array]",T="[object Int8Array]",A="[object Int16Array]",P="[object Int32Array]",F="[object Uint8Array]",I="[object Uint8ClampedArray]",k="[object Uint16Array]",W="[object Uint32Array]",V={};V[E]=V[R]=V[T]=V[A]=V[P]=V[F]=V[I]=V[k]=V[W]=!0,V[n]=V[r]=V[S]=V[s]=V[x]=V[a]=V[u]=V[c]=V[h]=V[p]=V[g]=V[m]=V[y]=V[b]=V[w]=!1;function B(K){return i(K)&&t(K.length)&&!!V[e(K)]}return PC=B,PC}var DC,rF;function Tk(){if(rF)return DC;rF=1;function e(t){return function(i){return t(i)}}return DC=e,DC}var Yu={exports:{}};Yu.exports;var sF;function I7(){return sF||(sF=1,(function(e,t){var i=K_(),n=t&&!t.nodeType&&t,r=n&&!0&&e&&!e.nodeType&&e,s=r&&r.exports===n,a=s&&i.process,u=(function(){try{var c=r&&r.require&&r.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}})();e.exports=u})(Yu,Yu.exports)),Yu.exports}var TC,oF;function Mk(){if(oF)return TC;oF=1;var e=L7(),t=Tk(),i=I7(),n=i&&i.isTypedArray,r=n?t(n):e;return TC=r,TC}var MC,aF;function N7(){if(aF)return MC;aF=1;var e=M7(),t=O0(),i=Oi(),n=Dk(),r=L0(),s=Mk(),a=Object.prototype,u=a.hasOwnProperty;function c(h,p){var g=i(h),m=!g&&t(h),y=!g&&!m&&n(h),b=!g&&!m&&!y&&s(h),w=g||m||y||b,S=w?e(h.length,String):[],x=S.length;for(var E in h)(p||u.call(h,E))&&!(w&&(E=="length"||y&&(E=="offset"||E=="parent")||b&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||r(E,x)))&&S.push(E);return S}return MC=c,MC}var FC,lF;function _7(){if(lF)return FC;lF=1;var e=Object.prototype;function t(i){var n=i&&i.constructor,r=typeof n=="function"&&n.prototype||e;return i===r}return FC=t,FC}var OC,uF;function Fk(){if(uF)return OC;uF=1;function e(t,i){return function(n){return t(i(n))}}return OC=e,OC}var LC,cF;function k7(){if(cF)return LC;cF=1;var e=Fk(),t=e(Object.keys,Object);return LC=t,LC}var IC,dF;function G7(){if(dF)return IC;dF=1;var e=_7(),t=k7(),i=Object.prototype,n=i.hasOwnProperty;function r(s){if(!e(s))return t(s);var a=[];for(var u in Object(s))n.call(s,u)&&u!="constructor"&&a.push(u);return a}return IC=r,IC}var NC,hF;function sd(){if(hF)return NC;hF=1;var e=C0(),t=I0();function i(n){return n!=null&&t(n.length)&&!e(n)}return NC=i,NC}var _C,fF;function Op(){if(fF)return _C;fF=1;var e=N7(),t=G7(),i=sd();function n(r){return i(r)?e(r):t(r)}return _C=n,_C}var kC,pF;function B7(){if(pF)return kC;pF=1;var e=A7(),t=T7(),i=Op();function n(r){return e(r,i,t)}return kC=n,kC}var GC,gF;function H7(){if(gF)return GC;gF=1;var e=B7(),t=1,i=Object.prototype,n=i.hasOwnProperty;function r(s,a,u,c,h,p){var g=u&t,m=e(s),y=m.length,b=e(a),w=b.length;if(y!=w&&!g)return!1;for(var S=y;S--;){var x=m[S];if(!(g?x in a:n.call(a,x)))return!1}var E=p.get(s),R=p.get(a);if(E&&R)return E==a&&R==s;var T=!0;p.set(s,a),p.set(a,s);for(var A=g;++S<y;){x=m[S];var P=s[x],F=a[x];if(c)var I=g?c(F,P,x,a,s,p):c(P,F,x,s,a,p);if(!(I===void 0?P===F||h(P,F,u,c,p):I)){T=!1;break}A||(A=x=="constructor")}if(T&&!A){var k=s.constructor,W=a.constructor;k!=W&&"constructor"in s&&"constructor"in a&&!(typeof k=="function"&&k instanceof k&&typeof W=="function"&&W instanceof W)&&(T=!1)}return p.delete(s),p.delete(a),T}return GC=r,GC}var BC,mF;function V7(){if(mF)return BC;mF=1;var e=Bo(),t=nr(),i=e(t,"DataView");return BC=i,BC}var HC,vF;function j7(){if(vF)return HC;vF=1;var e=Bo(),t=nr(),i=e(t,"Promise");return HC=i,HC}var VC,yF;function Ok(){if(yF)return VC;yF=1;var e=Bo(),t=nr(),i=e(t,"Set");return VC=i,VC}var jC,CF;function z7(){if(CF)return jC;CF=1;var e=Bo(),t=nr(),i=e(t,"WeakMap");return jC=i,jC}var zC,SF;function W7(){if(SF)return zC;SF=1;var e=V7(),t=b0(),i=j7(),n=Ok(),r=z7(),s=Gr(),a=Y_(),u="[object Map]",c="[object Object]",h="[object Promise]",p="[object Set]",g="[object WeakMap]",m="[object DataView]",y=a(e),b=a(t),w=a(i),S=a(n),x=a(r),E=s;return(e&&E(new e(new ArrayBuffer(1)))!=m||t&&E(new t)!=u||i&&E(i.resolve())!=h||n&&E(new n)!=p||r&&E(new r)!=g)&&(E=function(R){var T=s(R),A=T==c?R.constructor:void 0,P=A?a(A):"";if(P)switch(P){case y:return m;case b:return u;case w:return h;case S:return p;case x:return g}return T}),zC=E,zC}var WC,bF;function U7(){if(bF)return WC;bF=1;var e=wk(),t=Ak(),i=E7(),n=H7(),r=W7(),s=Oi(),a=Dk(),u=Mk(),c=1,h="[object Arguments]",p="[object Array]",g="[object Object]",m=Object.prototype,y=m.hasOwnProperty;function b(w,S,x,E,R,T){var A=s(w),P=s(S),F=A?p:r(w),I=P?p:r(S);F=F==h?g:F,I=I==h?g:I;var k=F==g,W=I==g,V=F==I;if(V&&a(w)){if(!a(S))return!1;A=!0,k=!1}if(V&&!k)return T||(T=new e),A||u(w)?t(w,S,x,E,R,T):i(w,S,F,x,E,R,T);if(!(x&c)){var B=k&&y.call(w,"__wrapped__"),K=W&&y.call(S,"__wrapped__");if(B||K){var Y=B?w.value():w,H=K?S.value():S;return T||(T=new e),R(Y,H,x,E,T)}}return V?(T||(T=new e),n(w,S,x,E,R,T)):!1}return WC=b,WC}var UC,wF;function N0(){if(wF)return UC;wF=1;var e=U7(),t=Br();function i(n,r,s,a,u){return n===r?!0:n==null||r==null||!t(n)&&!t(r)?n!==n&&r!==r:e(n,r,s,a,i,u)}return UC=i,UC}var $C,xF;function $7(){if(xF)return $C;xF=1;var e=wk(),t=N0(),i=1,n=2;function r(s,a,u,c){var h=u.length,p=h,g=!c;if(s==null)return!p;for(s=Object(s);h--;){var m=u[h];if(g&&m[2]?m[1]!==s[m[0]]:!(m[0]in s))return!1}for(;++h<p;){m=u[h];var y=m[0],b=s[y],w=m[1];if(g&&m[2]){if(b===void 0&&!(y in s))return!1}else{var S=new e;if(c)var x=c(b,w,y,s,a,S);if(!(x===void 0?t(w,b,i|n,c,S):x))return!1}}return!0}return $C=r,$C}var qC,RF;function Lk(){if(RF)return qC;RF=1;var e=Ds();function t(i){return i===i&&!e(i)}return qC=t,qC}var KC,EF;function q7(){if(EF)return KC;EF=1;var e=Lk(),t=Op();function i(n){for(var r=t(n),s=r.length;s--;){var a=r[s],u=n[a];r[s]=[a,u,e(u)]}return r}return KC=i,KC}var YC,AF;function Ik(){if(AF)return YC;AF=1;function e(t,i){return function(n){return n==null?!1:n[t]===i&&(i!==void 0||t in Object(n))}}return YC=e,YC}var XC,PF;function K7(){if(PF)return XC;PF=1;var e=$7(),t=q7(),i=Ik();function n(r){var s=t(r);return s.length==1&&s[0][2]?i(s[0][0],s[0][1]):function(a){return a===r||e(a,r,s)}}return XC=n,XC}var QC,DF;function Y7(){if(DF)return QC;DF=1;function e(t,i){return t!=null&&i in Object(t)}return QC=e,QC}var ZC,TF;function X7(){if(TF)return ZC;TF=1;var e=Z_(),t=O0(),i=Oi(),n=L0(),r=I0(),s=Ap();function a(u,c,h){c=e(c,u);for(var p=-1,g=c.length,m=!1;++p<g;){var y=s(c[p]);if(!(m=u!=null&&h(u,y)))break;u=u[y]}return m||++p!=g?m:(g=u==null?0:u.length,!!g&&r(g)&&n(y,g)&&(i(u)||t(u)))}return ZC=a,ZC}var JC,MF;function Q7(){if(MF)return JC;MF=1;var e=Y7(),t=X7();function i(n,r){return n!=null&&t(n,r,e)}return JC=i,JC}var eS,FF;function Z7(){if(FF)return eS;FF=1;var e=N0(),t=J_(),i=Q7(),n=y0(),r=Lk(),s=Ik(),a=Ap(),u=1,c=2;function h(p,g){return n(p)&&r(g)?s(a(p),g):function(m){var y=t(m,p);return y===void 0&&y===g?i(m,p):e(g,y,u|c)}}return eS=h,eS}var tS,OF;function Ol(){if(OF)return tS;OF=1;function e(t){return t}return tS=e,tS}var iS,LF;function J7(){if(LF)return iS;LF=1;function e(t){return function(i){return i==null?void 0:i[t]}}return iS=e,iS}var nS,IF;function eX(){if(IF)return nS;IF=1;var e=R0();function t(i){return function(n){return e(n,i)}}return nS=t,nS}var rS,NF;function tX(){if(NF)return rS;NF=1;var e=J7(),t=eX(),i=y0(),n=Ap();function r(s){return i(s)?e(n(s)):t(s)}return rS=r,rS}var sS,_F;function Ts(){if(_F)return sS;_F=1;var e=K7(),t=Z7(),i=Ol(),n=Oi(),r=tX();function s(a){return typeof a=="function"?a:a==null?i:typeof a=="object"?n(a)?t(a[0],a[1]):e(a):r(a)}return sS=s,sS}var oS,kF;function Nk(){if(kF)return oS;kF=1;function e(t,i,n,r){for(var s=t.length,a=n+(r?1:-1);r?a--:++a<s;)if(i(t[a],a,t))return a;return-1}return oS=e,oS}var aS,GF;function iX(){if(GF)return aS;GF=1;function e(t){return t!==t}return aS=e,aS}var lS,BF;function nX(){if(BF)return lS;BF=1;function e(t,i,n){for(var r=n-1,s=t.length;++r<s;)if(t[r]===i)return r;return-1}return lS=e,lS}var uS,HF;function rX(){if(HF)return uS;HF=1;var e=Nk(),t=iX(),i=nX();function n(r,s,a){return s===s?i(r,s,a):e(r,t,a)}return uS=n,uS}var cS,VF;function sX(){if(VF)return cS;VF=1;var e=rX();function t(i,n){var r=i==null?0:i.length;return!!r&&e(i,n,0)>-1}return cS=t,cS}var dS,jF;function oX(){if(jF)return dS;jF=1;function e(t,i,n){for(var r=-1,s=t==null?0:t.length;++r<s;)if(n(i,t[r]))return!0;return!1}return dS=e,dS}var hS,zF;function aX(){if(zF)return hS;zF=1;function e(){}return hS=e,hS}var fS,WF;function lX(){if(WF)return fS;WF=1;var e=Ok(),t=aX(),i=F0(),n=1/0,r=e&&1/i(new e([,-0]))[1]==n?function(s){return new e(s)}:t;return fS=r,fS}var pS,UF;function uX(){if(UF)return pS;UF=1;var e=xk(),t=sX(),i=oX(),n=Ek(),r=lX(),s=F0(),a=200;function u(c,h,p){var g=-1,m=t,y=c.length,b=!0,w=[],S=w;if(p)b=!1,m=i;else if(y>=a){var x=h?null:r(c);if(x)return s(x);b=!1,m=n,S=new e}else S=h?[]:w;e:for(;++g<y;){var E=c[g],R=h?h(E):E;if(E=p||E!==0?E:0,b&&R===R){for(var T=S.length;T--;)if(S[T]===R)continue e;h&&S.push(R),w.push(E)}else m(S,R,p)||(S!==w&&S.push(R),w.push(E))}return w}return pS=u,pS}var gS,$F;function cX(){if($F)return gS;$F=1;var e=Ts(),t=uX();function i(n,r){return n&&n.length?t(n,e(r,2)):[]}return gS=i,gS}var dX=cX();const qF=ut(dX);function _k(e,t,i){return t===!0?qF(e,i):Ge(t)?qF(e,t):e}function Za(e){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}var hX=["ref"];function KF(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function wr(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?KF(Object(i),!0).forEach(function(n){Lp(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):KF(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function fX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YF(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gk(n.key),n)}}function pX(e,t,i){return t&&YF(e.prototype,t),i&&YF(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function gX(e,t,i){return t=bf(t),mX(e,kk()?Reflect.construct(t,i||[],bf(e).constructor):t.apply(e,i))}function mX(e,t){if(t&&(Za(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vX(e)}function vX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kk=function(){return!!e})()}function bf(e){return bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},bf(e)}function yX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ww(e,t)}function ww(e,t){return ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ww(e,t)}function Lp(e,t,i){return t=Gk(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Gk(e){var t=CX(e,"string");return Za(t)=="symbol"?t:t+""}function CX(e,t){if(Za(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Za(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function SX(e,t){if(e==null)return{};var i=bX(e,t),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bX(e,t){if(e==null)return{};var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}function wX(e){return e.value}function xX(e,t){if(N.isValidElement(e))return N.cloneElement(e,t);if(typeof e=="function")return N.createElement(e,t);t.ref;var i=SX(t,hX);return N.createElement(M0,i)}var XF=1,wo=(function(e){function t(){var i;fX(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return i=gX(this,t,[].concat(r)),Lp(i,"lastBoundingBox",{width:-1,height:-1}),i}return yX(t,e),pX(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,r=this.getBBox();r?(Math.abs(r.width-this.lastBoundingBox.width)>XF||Math.abs(r.height-this.lastBoundingBox.height)>XF)&&(this.lastBoundingBox.width=r.width,this.lastBoundingBox.height=r.height,n&&n(r)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?wr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var r=this.props,s=r.layout,a=r.align,u=r.verticalAlign,c=r.margin,h=r.chartWidth,p=r.chartHeight,g,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&s==="vertical"){var y=this.getBBoxSnapshot();g={left:((h||0)-y.width)/2}}else g=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var b=this.getBBoxSnapshot();m={top:((p||0)-b.height)/2}}else m=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return wr(wr({},g),m)}},{key:"render",value:function(){var n=this,r=this.props,s=r.content,a=r.width,u=r.height,c=r.wrapperStyle,h=r.payloadUniqBy,p=r.payload,g=wr(wr({position:"absolute",width:a||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return N.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:function(y){n.wrapperNode=y}},xX(s,wr(wr({},this.props),{},{payload:_k(p,h,wX)})))}}],[{key:"getWithHeight",value:function(n,r){var s=wr(wr({},this.defaultProps),n.props),a=s.layout;return a==="vertical"&&me(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||r}:null}}])})(M.PureComponent);Lp(wo,"displayName","Legend");Lp(wo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var mS,QF;function RX(){if(QF)return mS;QF=1;var e=rd(),t=O0(),i=Oi(),n=e?e.isConcatSpreadable:void 0;function r(s){return i(s)||t(s)||!!(n&&s&&s[n])}return mS=r,mS}var vS,ZF;function Bk(){if(ZF)return vS;ZF=1;var e=Pk(),t=RX();function i(n,r,s,a,u){var c=-1,h=n.length;for(s||(s=t),u||(u=[]);++c<h;){var p=n[c];r>0&&s(p)?r>1?i(p,r-1,s,a,u):e(u,p):a||(u[u.length]=p)}return u}return vS=i,vS}var yS,JF;function EX(){if(JF)return yS;JF=1;function e(t){return function(i,n,r){for(var s=-1,a=Object(i),u=r(i),c=u.length;c--;){var h=u[t?c:++s];if(n(a[h],h,a)===!1)break}return i}}return yS=e,yS}var CS,eO;function AX(){if(eO)return CS;eO=1;var e=EX(),t=e();return CS=t,CS}var SS,tO;function Hk(){if(tO)return SS;tO=1;var e=AX(),t=Op();function i(n,r){return n&&e(n,r,t)}return SS=i,SS}var bS,iO;function PX(){if(iO)return bS;iO=1;var e=sd();function t(i,n){return function(r,s){if(r==null)return r;if(!e(r))return i(r,s);for(var a=r.length,u=n?a:-1,c=Object(r);(n?u--:++u<a)&&s(c[u],u,c)!==!1;);return r}}return bS=t,bS}var wS,nO;function _0(){if(nO)return wS;nO=1;var e=Hk(),t=PX(),i=t(e);return wS=i,wS}var xS,rO;function Vk(){if(rO)return xS;rO=1;var e=_0(),t=sd();function i(n,r){var s=-1,a=t(n)?Array(n.length):[];return e(n,function(u,c,h){a[++s]=r(u,c,h)}),a}return xS=i,xS}var RS,sO;function DX(){if(sO)return RS;sO=1;function e(t,i){var n=t.length;for(t.sort(i);n--;)t[n]=t[n].value;return t}return RS=e,RS}var ES,oO;function TX(){if(oO)return ES;oO=1;var e=Tl();function t(i,n){if(i!==n){var r=i!==void 0,s=i===null,a=i===i,u=e(i),c=n!==void 0,h=n===null,p=n===n,g=e(n);if(!h&&!g&&!u&&i>n||u&&c&&p&&!h&&!g||s&&c&&p||!r&&p||!a)return 1;if(!s&&!u&&!g&&i<n||g&&r&&a&&!s&&!u||h&&r&&a||!c&&a||!p)return-1}return 0}return ES=t,ES}var AS,aO;function MX(){if(aO)return AS;aO=1;var e=TX();function t(i,n,r){for(var s=-1,a=i.criteria,u=n.criteria,c=a.length,h=r.length;++s<c;){var p=e(a[s],u[s]);if(p){if(s>=h)return p;var g=r[s];return p*(g=="desc"?-1:1)}}return i.index-n.index}return AS=t,AS}var PS,lO;function FX(){if(lO)return PS;lO=1;var e=x0(),t=R0(),i=Ts(),n=Vk(),r=DX(),s=Tk(),a=MX(),u=Ol(),c=Oi();function h(p,g,m){g.length?g=e(g,function(w){return c(w)?function(S){return t(S,w.length===1?w[0]:w)}:w}):g=[u];var y=-1;g=e(g,s(i));var b=n(p,function(w,S,x){var E=e(g,function(R){return R(w)});return{criteria:E,index:++y,value:w}});return r(b,function(w,S){return a(w,S,m)})}return PS=h,PS}var DS,uO;function OX(){if(uO)return DS;uO=1;function e(t,i,n){switch(n.length){case 0:return t.call(i);case 1:return t.call(i,n[0]);case 2:return t.call(i,n[0],n[1]);case 3:return t.call(i,n[0],n[1],n[2])}return t.apply(i,n)}return DS=e,DS}var TS,cO;function LX(){if(cO)return TS;cO=1;var e=OX(),t=Math.max;function i(n,r,s){return r=t(r===void 0?n.length-1:r,0),function(){for(var a=arguments,u=-1,c=t(a.length-r,0),h=Array(c);++u<c;)h[u]=a[r+u];u=-1;for(var p=Array(r+1);++u<r;)p[u]=a[u];return p[r]=s(h),e(n,this,p)}}return TS=i,TS}var MS,dO;function IX(){if(dO)return MS;dO=1;function e(t){return function(){return t}}return MS=e,MS}var FS,hO;function jk(){if(hO)return FS;hO=1;var e=Bo(),t=(function(){try{var i=e(Object,"defineProperty");return i({},"",{}),i}catch{}})();return FS=t,FS}var OS,fO;function NX(){if(fO)return OS;fO=1;var e=IX(),t=jk(),i=Ol(),n=t?function(r,s){return t(r,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:i;return OS=n,OS}var LS,pO;function _X(){if(pO)return LS;pO=1;var e=800,t=16,i=Date.now;function n(r){var s=0,a=0;return function(){var u=i(),c=t-(u-a);if(a=u,c>0){if(++s>=e)return arguments[0]}else s=0;return r.apply(void 0,arguments)}}return LS=n,LS}var IS,gO;function kX(){if(gO)return IS;gO=1;var e=NX(),t=_X(),i=t(e);return IS=i,IS}var NS,mO;function GX(){if(mO)return NS;mO=1;var e=Ol(),t=LX(),i=kX();function n(r,s){return i(t(r,s,e),r+"")}return NS=n,NS}var _S,vO;function Ip(){if(vO)return _S;vO=1;var e=S0(),t=sd(),i=L0(),n=Ds();function r(s,a,u){if(!n(u))return!1;var c=typeof a;return(c=="number"?t(u)&&i(a,u.length):c=="string"&&a in u)?e(u[a],s):!1}return _S=r,_S}var kS,yO;function BX(){if(yO)return kS;yO=1;var e=Bk(),t=FX(),i=GX(),n=Ip(),r=i(function(s,a){if(s==null)return[];var u=a.length;return u>1&&n(s,a[0],a[1])?a=[]:u>2&&n(a[0],a[1],a[2])&&(a=[a[0]]),t(s,e(a,1),[])});return kS=r,kS}var HX=BX();const k0=ut(HX);function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},xw.apply(this,arguments)}function VX(e,t){return UX(e)||WX(e,t)||zX(e,t)||jX()}function jX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zX(e,t){if(e){if(typeof e=="string")return CO(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return CO(e,t)}}function CO(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function WX(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var n,r,s,a,u=[],c=!0,h=!1;try{if(s=(i=i.call(e)).next,t!==0)for(;!(c=(n=s.call(i)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(p){h=!0,r=p}finally{try{if(!c&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(h)throw r}}return u}}function UX(e){if(Array.isArray(e))return e}function SO(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function GS(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(i),!0).forEach(function(n){$X(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):SO(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function $X(e,t,i){return t=qX(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function qX(e){var t=KX(e,"string");return Sc(t)=="symbol"?t:t+""}function KX(e,t){if(Sc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YX(e){return Array.isArray(e)&&zt(e[0])&&zt(e[1])?e.join(" ~ "):e}var XX=function(t){var i=t.separator,n=i===void 0?" : ":i,r=t.contentStyle,s=r===void 0?{}:r,a=t.itemStyle,u=a===void 0?{}:a,c=t.labelStyle,h=c===void 0?{}:c,p=t.payload,g=t.formatter,m=t.itemSorter,y=t.wrapperClassName,b=t.labelClassName,w=t.label,S=t.labelFormatter,x=t.accessibilityLayer,E=x===void 0?!1:x,R=function(){if(p&&p.length){var B={padding:0,margin:0},K=(m?k0(p,m):p).map(function(Y,H){if(Y.type==="none")return null;var _=GS({display:"block",paddingTop:4,paddingBottom:4,color:Y.color||"#000"},u),U=Y.formatter||g||YX,Q=Y.value,ae=Y.name,de=Q,G=ae;if(U&&de!=null&&G!=null){var z=U(Q,ae,Y,H,p);if(Array.isArray(z)){var re=VX(z,2);de=re[0],G=re[1]}else de=z}return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:_},zt(G)?N.createElement("span",{className:"recharts-tooltip-item-name"},G):null,zt(G)?N.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,N.createElement("span",{className:"recharts-tooltip-item-value"},de),N.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:B},K)}return null},T=GS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),A=GS({margin:0},h),P=!Oe(w),F=P?w:"",I=Ue("recharts-default-tooltip",y),k=Ue("recharts-tooltip-label",b);P&&S&&p!==void 0&&p!==null&&(F=S(w,p));var W=E?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",xw({className:I,style:T},W),N.createElement("p",{className:k,style:A},N.isValidElement(F)?F:"".concat(F)),R())};function bc(e){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(e)}function Nh(e,t,i){return t=QX(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function QX(e){var t=ZX(e,"string");return bc(t)=="symbol"?t:t+""}function ZX(e,t){if(bc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ku="recharts-tooltip-wrapper",JX={visibility:"hidden"};function eQ(e){var t=e.coordinate,i=e.translateX,n=e.translateY;return Ue(ku,Nh(Nh(Nh(Nh({},"".concat(ku,"-right"),me(i)&&t&&me(t.x)&&i>=t.x),"".concat(ku,"-left"),me(i)&&t&&me(t.x)&&i<t.x),"".concat(ku,"-bottom"),me(n)&&t&&me(t.y)&&n>=t.y),"".concat(ku,"-top"),me(n)&&t&&me(t.y)&&n<t.y))}function bO(e){var t=e.allowEscapeViewBox,i=e.coordinate,n=e.key,r=e.offsetTopLeft,s=e.position,a=e.reverseDirection,u=e.tooltipDimension,c=e.viewBox,h=e.viewBoxDimension;if(s&&me(s[n]))return s[n];var p=i[n]-u-r,g=i[n]+r;if(t[n])return a[n]?p:g;if(a[n]){var m=p,y=c[n];return m<y?Math.max(g,c[n]):Math.max(p,c[n])}var b=g+u,w=c[n]+h;return b>w?Math.max(p,c[n]):Math.max(g,c[n])}function tQ(e){var t=e.translateX,i=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(i,"px, 0)"):"translate(".concat(t,"px, ").concat(i,"px)")}}function iQ(e){var t=e.allowEscapeViewBox,i=e.coordinate,n=e.offsetTopLeft,r=e.position,s=e.reverseDirection,a=e.tooltipBox,u=e.useTranslate3d,c=e.viewBox,h,p,g;return a.height>0&&a.width>0&&i?(p=bO({allowEscapeViewBox:t,coordinate:i,key:"x",offsetTopLeft:n,position:r,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),g=bO({allowEscapeViewBox:t,coordinate:i,key:"y",offsetTopLeft:n,position:r,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),h=tQ({translateX:p,translateY:g,useTranslate3d:u})):h=JX,{cssProperties:h,cssClasses:eQ({translateX:p,translateY:g,coordinate:i})}}function Ja(e){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(e)}function wO(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function xO(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(i),!0).forEach(function(n){Ew(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):wO(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function nQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rQ(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wk(n.key),n)}}function sQ(e,t,i){return t&&rQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oQ(e,t,i){return t=wf(t),aQ(e,zk()?Reflect.construct(t,i||[],wf(e).constructor):t.apply(e,i))}function aQ(e,t){if(t&&(Ja(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lQ(e)}function lQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zk=function(){return!!e})()}function wf(e){return wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},wf(e)}function uQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rw(e,t)}function Rw(e,t){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Rw(e,t)}function Ew(e,t,i){return t=Wk(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Wk(e){var t=cQ(e,"string");return Ja(t)=="symbol"?t:t+""}function cQ(e,t){if(Ja(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Ja(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var RO=1,dQ=(function(e){function t(){var i;nQ(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return i=oQ(this,t,[].concat(r)),Ew(i,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ew(i,"handleKeyDown",function(a){if(a.key==="Escape"){var u,c,h,p;i.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=i.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(h=(p=i.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),i}return uQ(t,e),sQ(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>RO||Math.abs(n.height-this.state.lastBoundingBox.height)>RO)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,r;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,r=this.props,s=r.active,a=r.allowEscapeViewBox,u=r.animationDuration,c=r.animationEasing,h=r.children,p=r.coordinate,g=r.hasPayload,m=r.isAnimationActive,y=r.offset,b=r.position,w=r.reverseDirection,S=r.useTranslate3d,x=r.viewBox,E=r.wrapperStyle,R=iQ({allowEscapeViewBox:a,coordinate:p,offsetTopLeft:y,position:b,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:S,viewBox:x}),T=R.cssClasses,A=R.cssProperties,P=xO(xO({transition:m&&s?"transform ".concat(u,"ms ").concat(c):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&g?"visible":"hidden",position:"absolute",top:0,left:0},E);return N.createElement("div",{tabIndex:-1,className:T,style:P,ref:function(I){n.wrapperNode=I}},h)}}])})(M.PureComponent),hQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ms={isSsr:hQ()};function el(e){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(e)}function EO(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function AO(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(i),!0).forEach(function(n){G0(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):EO(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function fQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pQ(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$k(n.key),n)}}function gQ(e,t,i){return t&&pQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mQ(e,t,i){return t=xf(t),vQ(e,Uk()?Reflect.construct(t,i||[],xf(e).constructor):t.apply(e,i))}function vQ(e,t){if(t&&(el(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yQ(e)}function yQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uk=function(){return!!e})()}function xf(e){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},xf(e)}function CQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Aw(e,t)}function Aw(e,t){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Aw(e,t)}function G0(e,t,i){return t=$k(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function $k(e){var t=SQ(e,"string");return el(t)=="symbol"?t:t+""}function SQ(e,t){if(el(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(el(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function bQ(e){return e.dataKey}function wQ(e,t){return N.isValidElement(e)?N.cloneElement(e,t):typeof e=="function"?N.createElement(e,t):N.createElement(XX,t)}var Pn=(function(e){function t(){return fQ(this,t),mQ(this,t,arguments)}return CQ(t,e),gQ(t,[{key:"render",value:function(){var n=this,r=this.props,s=r.active,a=r.allowEscapeViewBox,u=r.animationDuration,c=r.animationEasing,h=r.content,p=r.coordinate,g=r.filterNull,m=r.isAnimationActive,y=r.offset,b=r.payload,w=r.payloadUniqBy,S=r.position,x=r.reverseDirection,E=r.useTranslate3d,R=r.viewBox,T=r.wrapperStyle,A=b??[];g&&A.length&&(A=_k(b.filter(function(F){return F.value!=null&&(F.hide!==!0||n.props.includeHidden)}),w,bQ));var P=A.length>0;return N.createElement(dQ,{allowEscapeViewBox:a,animationDuration:u,animationEasing:c,isAnimationActive:m,active:s,coordinate:p,hasPayload:P,offset:y,position:S,reverseDirection:x,useTranslate3d:E,viewBox:R,wrapperStyle:T},wQ(h,AO(AO({},this.props),{},{payload:A})))}}])})(M.PureComponent);G0(Pn,"displayName","Tooltip");G0(Pn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ms.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var BS,PO;function xQ(){if(PO)return BS;PO=1;var e=nr(),t=function(){return e.Date.now()};return BS=t,BS}var HS,DO;function RQ(){if(DO)return HS;DO=1;var e=/\s/;function t(i){for(var n=i.length;n--&&e.test(i.charAt(n)););return n}return HS=t,HS}var VS,TO;function EQ(){if(TO)return VS;TO=1;var e=RQ(),t=/^\s+/;function i(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return VS=i,VS}var jS,MO;function qk(){if(MO)return jS;MO=1;var e=EQ(),t=Ds(),i=Tl(),n=NaN,r=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,u=parseInt;function c(h){if(typeof h=="number")return h;if(i(h))return n;if(t(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=t(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=e(h);var g=s.test(h);return g||a.test(h)?u(h.slice(2),g?2:8):r.test(h)?n:+h}return jS=c,jS}var zS,FO;function AQ(){if(FO)return zS;FO=1;var e=Ds(),t=xQ(),i=qk(),n="Expected a function",r=Math.max,s=Math.min;function a(u,c,h){var p,g,m,y,b,w,S=0,x=!1,E=!1,R=!0;if(typeof u!="function")throw new TypeError(n);c=i(c)||0,e(h)&&(x=!!h.leading,E="maxWait"in h,m=E?r(i(h.maxWait)||0,c):m,R="trailing"in h?!!h.trailing:R);function T(K){var Y=p,H=g;return p=g=void 0,S=K,y=u.apply(H,Y),y}function A(K){return S=K,b=setTimeout(I,c),x?T(K):y}function P(K){var Y=K-w,H=K-S,_=c-Y;return E?s(_,m-H):_}function F(K){var Y=K-w,H=K-S;return w===void 0||Y>=c||Y<0||E&&H>=m}function I(){var K=t();if(F(K))return k(K);b=setTimeout(I,P(K))}function k(K){return b=void 0,R&&p?T(K):(p=g=void 0,y)}function W(){b!==void 0&&clearTimeout(b),S=0,p=w=g=b=void 0}function V(){return b===void 0?y:k(t())}function B(){var K=t(),Y=F(K);if(p=arguments,g=this,w=K,Y){if(b===void 0)return A(w);if(E)return clearTimeout(b),b=setTimeout(I,c),T(w)}return b===void 0&&(b=setTimeout(I,c)),y}return B.cancel=W,B.flush=V,B}return zS=a,zS}var WS,OO;function PQ(){if(OO)return WS;OO=1;var e=AQ(),t=Ds(),i="Expected a function";function n(r,s,a){var u=!0,c=!0;if(typeof r!="function")throw new TypeError(i);return t(a)&&(u="leading"in a?!!a.leading:u,c="trailing"in a?!!a.trailing:c),e(r,s,{leading:u,maxWait:s,trailing:c})}return WS=n,WS}var DQ=PQ();const Kk=ut(DQ);function wc(e){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(e)}function LO(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function _h(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(i),!0).forEach(function(n){TQ(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):LO(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function TQ(e,t,i){return t=MQ(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function MQ(e){var t=FQ(e,"string");return wc(t)=="symbol"?t:t+""}function FQ(e,t){if(wc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OQ(e,t){return _Q(e)||NQ(e,t)||IQ(e,t)||LQ()}function LQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IQ(e,t){if(e){if(typeof e=="string")return IO(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return IO(e,t)}}function IO(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function NQ(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var n,r,s,a,u=[],c=!0,h=!1;try{if(s=(i=i.call(e)).next,t!==0)for(;!(c=(n=s.call(i)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(p){h=!0,r=p}finally{try{if(!c&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(h)throw r}}return u}}function _Q(e){if(Array.isArray(e))return e}var Yk=M.forwardRef(function(e,t){var i=e.aspect,n=e.initialDimension,r=n===void 0?{width:-1,height:-1}:n,s=e.width,a=s===void 0?"100%":s,u=e.height,c=u===void 0?"100%":u,h=e.minWidth,p=h===void 0?0:h,g=e.minHeight,m=e.maxHeight,y=e.children,b=e.debounce,w=b===void 0?0:b,S=e.id,x=e.className,E=e.onResize,R=e.style,T=R===void 0?{}:R,A=M.useRef(null),P=M.useRef();P.current=E,M.useImperativeHandle(t,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var F=M.useState({containerWidth:r.width,containerHeight:r.height}),I=OQ(F,2),k=I[0],W=I[1],V=M.useCallback(function(K,Y){W(function(H){var _=Math.round(K),U=Math.round(Y);return H.containerWidth===_&&H.containerHeight===U?H:{containerWidth:_,containerHeight:U}})},[]);M.useEffect(function(){var K=function(ae){var de,G=ae[0].contentRect,z=G.width,re=G.height;V(z,re),(de=P.current)===null||de===void 0||de.call(P,z,re)};w>0&&(K=Kk(K,w,{trailing:!0,leading:!1}));var Y=new ResizeObserver(K),H=A.current.getBoundingClientRect(),_=H.width,U=H.height;return V(_,U),Y.observe(A.current),function(){Y.disconnect()}},[V,w]);var B=M.useMemo(function(){var K=k.containerWidth,Y=k.containerHeight;if(K<0||Y<0)return null;bo(co(a)||co(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,c),bo(!i||i>0,"The aspect(%s) must be greater than zero.",i);var H=co(a)?K:a,_=co(c)?Y:c;i&&i>0&&(H?_=H/i:_&&(H=_*i),m&&_>m&&(_=m)),bo(H>0||_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,_,a,c,p,g,i);var U=!Array.isArray(y)&&Tr(y.type).endsWith("Chart");return N.Children.map(y,function(Q){return N.isValidElement(Q)?M.cloneElement(Q,_h({width:H,height:_},U?{style:_h({height:"100%",width:"100%",maxHeight:_,maxWidth:H},Q.props.style)}:{})):Q})},[i,y,c,m,g,p,k,a]);return N.createElement("div",{id:S?"".concat(S):void 0,className:Ue("recharts-responsive-container",x),style:_h(_h({},T),{},{width:a,height:c,minWidth:p,minHeight:g,maxHeight:m}),ref:A},B)}),B0=function(t){return null};B0.displayName="Cell";function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function NO(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Pw(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(i),!0).forEach(function(n){kQ(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):NO(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function kQ(e,t,i){return t=GQ(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function GQ(e){var t=BQ(e,"string");return xc(t)=="symbol"?t:t+""}function BQ(e,t){if(xc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ma={widthCache:{},cacheCount:0},HQ=2e3,VQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_O="recharts_measurement_span";function jQ(e){var t=Pw({},e);return Object.keys(t).forEach(function(i){t[i]||delete t[i]}),t}var ic=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ms.isSsr)return{width:0,height:0};var n=jQ(i),r=JSON.stringify({text:t,copyStyle:n});if(Ma.widthCache[r])return Ma.widthCache[r];try{var s=document.getElementById(_O);s||(s=document.createElement("span"),s.setAttribute("id",_O),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=Pw(Pw({},VQ),n);Object.assign(s.style,a),s.textContent="".concat(t);var u=s.getBoundingClientRect(),c={width:u.width,height:u.height};return Ma.widthCache[r]=c,++Ma.cacheCount>HQ&&(Ma.cacheCount=0,Ma.widthCache={}),c}catch{return{width:0,height:0}}},zQ=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function Rf(e,t){return qQ(e)||$Q(e,t)||UQ(e,t)||WQ()}function WQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UQ(e,t){if(e){if(typeof e=="string")return kO(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return kO(e,t)}}function kO(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function $Q(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var n,r,s,a,u=[],c=!0,h=!1;try{if(s=(i=i.call(e)).next,t===0){if(Object(i)!==i)return;c=!1}else for(;!(c=(n=s.call(i)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(p){h=!0,r=p}finally{try{if(!c&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(h)throw r}}return u}}function qQ(e){if(Array.isArray(e))return e}function KQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GO(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XQ(n.key),n)}}function YQ(e,t,i){return t&&GO(e.prototype,t),i&&GO(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function XQ(e){var t=QQ(e,"string");return Rc(t)=="symbol"?t:t+""}function QQ(e,t){if(Rc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var BO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,JQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Xk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},eZ=Object.keys(Xk),_a="NaN";function tZ(e,t){return e*Xk[t]}var kh=(function(){function e(t,i){KQ(this,e),this.num=t,this.unit=i,this.num=t,this.unit=i,Number.isNaN(t)&&(this.unit=""),i!==""&&!ZQ.test(i)&&(this.num=NaN,this.unit=""),eZ.includes(i)&&(this.num=tZ(t,i),this.unit="px")}return YQ(e,[{key:"add",value:function(i){return this.unit!==i.unit?new e(NaN,""):new e(this.num+i.num,this.unit)}},{key:"subtract",value:function(i){return this.unit!==i.unit?new e(NaN,""):new e(this.num-i.num,this.unit)}},{key:"multiply",value:function(i){return this.unit!==""&&i.unit!==""&&this.unit!==i.unit?new e(NaN,""):new e(this.num*i.num,this.unit||i.unit)}},{key:"divide",value:function(i){return this.unit!==""&&i.unit!==""&&this.unit!==i.unit?new e(NaN,""):new e(this.num/i.num,this.unit||i.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(i){var n,r=(n=JQ.exec(i))!==null&&n!==void 0?n:[],s=Rf(r,3),a=s[1],u=s[2];return new e(parseFloat(a),u??"")}}])})();function Qk(e){if(e.includes(_a))return _a;for(var t=e;t.includes("*")||t.includes("/");){var i,n=(i=BO.exec(t))!==null&&i!==void 0?i:[],r=Rf(n,4),s=r[1],a=r[2],u=r[3],c=kh.parse(s??""),h=kh.parse(u??""),p=a==="*"?c.multiply(h):c.divide(h);if(p.isNaN())return _a;t=t.replace(BO,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var g,m=(g=HO.exec(t))!==null&&g!==void 0?g:[],y=Rf(m,4),b=y[1],w=y[2],S=y[3],x=kh.parse(b??""),E=kh.parse(S??""),R=w==="+"?x.add(E):x.subtract(E);if(R.isNaN())return _a;t=t.replace(HO,R.toString())}return t}var VO=/\(([^()]*)\)/;function iZ(e){for(var t=e;t.includes("(");){var i=VO.exec(t),n=Rf(i,2),r=n[1];t=t.replace(VO,Qk(r))}return t}function nZ(e){var t=e.replace(/\s+/g,"");return t=iZ(t),t=Qk(t),t}function rZ(e){try{return nZ(e)}catch{return _a}}function US(e){var t=rZ(e.slice(5,-1));return t===_a?"":t}var sZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],oZ=["dx","dy","angle","className","breakAll"];function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Dw.apply(this,arguments)}function jO(e,t){if(e==null)return{};var i=aZ(e,t),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aZ(e,t){if(e==null)return{};var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}function zO(e,t){return dZ(e)||cZ(e,t)||uZ(e,t)||lZ()}function lZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uZ(e,t){if(e){if(typeof e=="string")return WO(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return WO(e,t)}}function WO(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function cZ(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var n,r,s,a,u=[],c=!0,h=!1;try{if(s=(i=i.call(e)).next,t===0){if(Object(i)!==i)return;c=!1}else for(;!(c=(n=s.call(i)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(p){h=!0,r=p}finally{try{if(!c&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(h)throw r}}return u}}function dZ(e){if(Array.isArray(e))return e}var Zk=/[ \f\n\r\t\v\u2028\u2029]+/,Jk=function(t){var i=t.children,n=t.breakAll,r=t.style;try{var s=[];Oe(i)||(n?s=i.toString().split(""):s=i.toString().split(Zk));var a=s.map(function(c){return{word:c,width:ic(c,r).width}}),u=n?0:ic("",r).width;return{wordsWithComputedWidth:a,spaceWidth:u}}catch{return null}},hZ=function(t,i,n,r,s){var a=t.maxLines,u=t.children,c=t.style,h=t.breakAll,p=me(a),g=u,m=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(_,U){var Q=U.word,ae=U.width,de=_[_.length-1];if(de&&(r==null||s||de.width+ae+n<Number(r)))de.words.push(Q),de.width+=ae+n;else{var G={words:[Q],width:ae};_.push(G)}return _},[])},y=m(i),b=function(H){return H.reduce(function(_,U){return _.width>U.width?_:U})};if(!p)return y;for(var w="",S=function(H){var _=g.slice(0,H),U=Jk({breakAll:h,style:c,children:_+w}).wordsWithComputedWidth,Q=m(U),ae=Q.length>a||b(Q).width>Number(r);return[ae,Q]},x=0,E=g.length-1,R=0,T;x<=E&&R<=g.length-1;){var A=Math.floor((x+E)/2),P=A-1,F=S(P),I=zO(F,2),k=I[0],W=I[1],V=S(A),B=zO(V,1),K=B[0];if(!k&&!K&&(x=A+1),k&&K&&(E=A-1),!k&&K){T=W;break}R++}return T||y},UO=function(t){var i=Oe(t)?[]:t.toString().split(Zk);return[{words:i}]},fZ=function(t){var i=t.width,n=t.scaleToFit,r=t.children,s=t.style,a=t.breakAll,u=t.maxLines;if((i||n)&&!Ms.isSsr){var c,h,p=Jk({breakAll:a,children:r,style:s});if(p){var g=p.wordsWithComputedWidth,m=p.spaceWidth;c=g,h=m}else return UO(r);return hZ({breakAll:a,children:r,maxLines:u,style:s},c,h,i,n)}return UO(r)},$O="#808080",Ef=function(t){var i=t.x,n=i===void 0?0:i,r=t.y,s=r===void 0?0:r,a=t.lineHeight,u=a===void 0?"1em":a,c=t.capHeight,h=c===void 0?"0.71em":c,p=t.scaleToFit,g=p===void 0?!1:p,m=t.textAnchor,y=m===void 0?"start":m,b=t.verticalAnchor,w=b===void 0?"end":b,S=t.fill,x=S===void 0?$O:S,E=jO(t,sZ),R=M.useMemo(function(){return fZ({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:g,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,g,E.style,E.width]),T=E.dx,A=E.dy,P=E.angle,F=E.className,I=E.breakAll,k=jO(E,oZ);if(!zt(n)||!zt(s))return null;var W=n+(me(T)?T:0),V=s+(me(A)?A:0),B;switch(w){case"start":B=US("calc(".concat(h,")"));break;case"middle":B=US("calc(".concat((R.length-1)/2," * -").concat(u," + (").concat(h," / 2))"));break;default:B=US("calc(".concat(R.length-1," * -").concat(u,")"));break}var K=[];if(g){var Y=R[0].width,H=E.width;K.push("scale(".concat((me(H)?H/Y:1)/Y,")"))}return P&&K.push("rotate(".concat(P,", ").concat(W,", ").concat(V,")")),K.length&&(k.transform=K.join(" ")),N.createElement("text",Dw({},Ie(k,!0),{x:W,y:V,className:Ue("recharts-text",F),textAnchor:y,fill:x.includes("url")?$O:x}),R.map(function(_,U){var Q=_.words.join(I?"":" ");return N.createElement("tspan",{x:W,dy:U===0?B:u,key:"".concat(Q,"-").concat(U)},Q)}))};function xs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pZ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function H0(e){let t,i,n;e.length!==2?(t=xs,i=(u,c)=>xs(e(u),c),n=(u,c)=>e(u)-c):(t=e===xs||e===pZ?e:gZ,i=e,n=e);function r(u,c,h=0,p=u.length){if(h<p){if(t(c,c)!==0)return p;do{const g=h+p>>>1;i(u[g],c)<0?h=g+1:p=g}while(h<p)}return h}function s(u,c,h=0,p=u.length){if(h<p){if(t(c,c)!==0)return p;do{const g=h+p>>>1;i(u[g],c)<=0?h=g+1:p=g}while(h<p)}return h}function a(u,c,h=0,p=u.length){const g=r(u,c,h,p-1);return g>h&&n(u[g-1],c)>-n(u[g],c)?g-1:g}return{left:r,center:a,right:s}}function gZ(){return 0}function eG(e){return e===null?NaN:+e}function*mZ(e,t){for(let i of e)i!=null&&(i=+i)>=i&&(yield i)}const vZ=H0(xs),od=vZ.right;H0(eG).center;class qO extends Map{constructor(t,i=SZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),t!=null)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(KO(this,t))}has(t){return super.has(KO(this,t))}set(t,i){return super.set(yZ(this,t),i)}delete(t){return super.delete(CZ(this,t))}}function KO({_intern:e,_key:t},i){const n=t(i);return e.has(n)?e.get(n):i}function yZ({_intern:e,_key:t},i){const n=t(i);return e.has(n)?e.get(n):(e.set(n,i),i)}function CZ({_intern:e,_key:t},i){const n=t(i);return e.has(n)&&(i=e.get(n),e.delete(n)),i}function SZ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function bZ(e=xs){if(e===xs)return tG;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,i)=>{const n=e(t,i);return n||n===0?n:(e(i,i)===0)-(e(t,t)===0)}}function tG(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const wZ=Math.sqrt(50),xZ=Math.sqrt(10),RZ=Math.sqrt(2);function Af(e,t,i){const n=(t-e)/Math.max(0,i),r=Math.floor(Math.log10(n)),s=n/Math.pow(10,r),a=s>=wZ?10:s>=xZ?5:s>=RZ?2:1;let u,c,h;return r<0?(h=Math.pow(10,-r)/a,u=Math.round(e*h),c=Math.round(t*h),u/h<e&&++u,c/h>t&&--c,h=-h):(h=Math.pow(10,r)*a,u=Math.round(e/h),c=Math.round(t/h),u*h<e&&++u,c*h>t&&--c),c<u&&.5<=i&&i<2?Af(e,t,i*2):[u,c,h]}function Tw(e,t,i){if(t=+t,e=+e,i=+i,!(i>0))return[];if(e===t)return[e];const n=t<e,[r,s,a]=n?Af(t,e,i):Af(e,t,i);if(!(s>=r))return[];const u=s-r+1,c=new Array(u);if(n)if(a<0)for(let h=0;h<u;++h)c[h]=(s-h)/-a;else for(let h=0;h<u;++h)c[h]=(s-h)*a;else if(a<0)for(let h=0;h<u;++h)c[h]=(r+h)/-a;else for(let h=0;h<u;++h)c[h]=(r+h)*a;return c}function Mw(e,t,i){return t=+t,e=+e,i=+i,Af(e,t,i)[2]}function Fw(e,t,i){t=+t,e=+e,i=+i;const n=t<e,r=n?Mw(t,e,i):Mw(e,t,i);return(n?-1:1)*(r<0?1/-r:r)}function YO(e,t){let i;for(const n of e)n!=null&&(i<n||i===void 0&&n>=n)&&(i=n);return i}function XO(e,t){let i;for(const n of e)n!=null&&(i>n||i===void 0&&n>=n)&&(i=n);return i}function iG(e,t,i=0,n=1/0,r){if(t=Math.floor(t),i=Math.floor(Math.max(0,i)),n=Math.floor(Math.min(e.length-1,n)),!(i<=t&&t<=n))return e;for(r=r===void 0?tG:bZ(r);n>i;){if(n-i>600){const c=n-i+1,h=t-i+1,p=Math.log(c),g=.5*Math.exp(2*p/3),m=.5*Math.sqrt(p*g*(c-g)/c)*(h-c/2<0?-1:1),y=Math.max(i,Math.floor(t-h*g/c+m)),b=Math.min(n,Math.floor(t+(c-h)*g/c+m));iG(e,t,y,b,r)}const s=e[t];let a=i,u=n;for(Gu(e,i,t),r(e[n],s)>0&&Gu(e,i,n);a<u;){for(Gu(e,a,u),++a,--u;r(e[a],s)<0;)++a;for(;r(e[u],s)>0;)--u}r(e[i],s)===0?Gu(e,i,u):(++u,Gu(e,u,n)),u<=t&&(i=u+1),t<=u&&(n=u-1)}return e}function Gu(e,t,i){const n=e[t];e[t]=e[i],e[i]=n}function EZ(e,t,i){if(e=Float64Array.from(mZ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return XO(e);if(t>=1)return YO(e);var n,r=(n-1)*t,s=Math.floor(r),a=YO(iG(e,s).subarray(0,s+1)),u=XO(e.subarray(s+1));return a+(u-a)*(r-s)}}function AZ(e,t,i=eG){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+i(e[0],0,e);if(t>=1)return+i(e[n-1],n-1,e);var n,r=(n-1)*t,s=Math.floor(r),a=+i(e[s],s,e),u=+i(e[s+1],s+1,e);return a+(u-a)*(r-s)}}function PZ(e,t,i){e=+e,t=+t,i=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+i;for(var n=-1,r=Math.max(0,Math.ceil((t-e)/i))|0,s=new Array(r);++n<r;)s[n]=e+n*i;return s}function Sn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Hr(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ow=Symbol("implicit");function V0(){var e=new qO,t=[],i=[],n=Ow;function r(s){let a=e.get(s);if(a===void 0){if(n!==Ow)return n;e.set(s,a=t.push(s)-1)}return i[a%i.length]}return r.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new qO;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return r},r.range=function(s){return arguments.length?(i=Array.from(s),r):i.slice()},r.unknown=function(s){return arguments.length?(n=s,r):n},r.copy=function(){return V0(t,i).unknown(n)},Sn.apply(r,arguments),r}function Ec(){var e=V0().unknown(void 0),t=e.domain,i=e.range,n=0,r=1,s,a,u=!1,c=0,h=0,p=.5;delete e.unknown;function g(){var m=t().length,y=r<n,b=y?r:n,w=y?n:r;s=(w-b)/Math.max(1,m-c+h*2),u&&(s=Math.floor(s)),b+=(w-b-s*(m-c))*p,a=s*(1-c),u&&(b=Math.round(b),a=Math.round(a));var S=PZ(m).map(function(x){return b+s*x});return i(y?S.reverse():S)}return e.domain=function(m){return arguments.length?(t(m),g()):t()},e.range=function(m){return arguments.length?([n,r]=m,n=+n,r=+r,g()):[n,r]},e.rangeRound=function(m){return[n,r]=m,n=+n,r=+r,u=!0,g()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(m){return arguments.length?(u=!!m,g()):u},e.padding=function(m){return arguments.length?(c=Math.min(1,h=+m),g()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),g()):c},e.paddingOuter=function(m){return arguments.length?(h=+m,g()):h},e.align=function(m){return arguments.length?(p=Math.max(0,Math.min(1,m)),g()):p},e.copy=function(){return Ec(t(),[n,r]).round(u).paddingInner(c).paddingOuter(h).align(p)},Sn.apply(g(),arguments)}function nG(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nG(t())},e}function nc(){return nG(Ec.apply(null,arguments).paddingInner(1))}function j0(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function rG(e,t){var i=Object.create(e.prototype);for(var n in t)i[n]=t[n];return i}function ad(){}var Ac=.7,Pf=1/Ac,za="\\s*([+-]?\\d+)\\s*",Pc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",DZ=/^#([0-9a-f]{3,8})$/,TZ=new RegExp(`^rgb\\(${za},${za},${za}\\)$`),MZ=new RegExp(`^rgb\\(${Kn},${Kn},${Kn}\\)$`),FZ=new RegExp(`^rgba\\(${za},${za},${za},${Pc}\\)$`),OZ=new RegExp(`^rgba\\(${Kn},${Kn},${Kn},${Pc}\\)$`),LZ=new RegExp(`^hsl\\(${Pc},${Kn},${Kn}\\)$`),IZ=new RegExp(`^hsla\\(${Pc},${Kn},${Kn},${Pc}\\)$`),QO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};j0(ad,Dc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ZO,formatHex:ZO,formatHex8:NZ,formatHsl:_Z,formatRgb:JO,toString:JO});function ZO(){return this.rgb().formatHex()}function NZ(){return this.rgb().formatHex8()}function _Z(){return sG(this).formatHsl()}function JO(){return this.rgb().formatRgb()}function Dc(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=DZ.exec(e))?(i=t[1].length,t=parseInt(t[1],16),i===6?e1(t):i===3?new Mi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):i===8?Gh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):i===4?Gh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=TZ.exec(e))?new Mi(t[1],t[2],t[3],1):(t=MZ.exec(e))?new Mi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=FZ.exec(e))?Gh(t[1],t[2],t[3],t[4]):(t=OZ.exec(e))?Gh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=LZ.exec(e))?n1(t[1],t[2]/100,t[3]/100,1):(t=IZ.exec(e))?n1(t[1],t[2]/100,t[3]/100,t[4]):QO.hasOwnProperty(e)?e1(QO[e]):e==="transparent"?new Mi(NaN,NaN,NaN,0):null}function e1(e){return new Mi(e>>16&255,e>>8&255,e&255,1)}function Gh(e,t,i,n){return n<=0&&(e=t=i=NaN),new Mi(e,t,i,n)}function kZ(e){return e instanceof ad||(e=Dc(e)),e?(e=e.rgb(),new Mi(e.r,e.g,e.b,e.opacity)):new Mi}function Lw(e,t,i,n){return arguments.length===1?kZ(e):new Mi(e,t,i,n??1)}function Mi(e,t,i,n){this.r=+e,this.g=+t,this.b=+i,this.opacity=+n}j0(Mi,Lw,rG(ad,{brighter(e){return e=e==null?Pf:Math.pow(Pf,e),new Mi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ac:Math.pow(Ac,e),new Mi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Mi(xo(this.r),xo(this.g),xo(this.b),Df(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:t1,formatHex:t1,formatHex8:GZ,formatRgb:i1,toString:i1}));function t1(){return`#${ho(this.r)}${ho(this.g)}${ho(this.b)}`}function GZ(){return`#${ho(this.r)}${ho(this.g)}${ho(this.b)}${ho((isNaN(this.opacity)?1:this.opacity)*255)}`}function i1(){const e=Df(this.opacity);return`${e===1?"rgb(":"rgba("}${xo(this.r)}, ${xo(this.g)}, ${xo(this.b)}${e===1?")":`, ${e})`}`}function Df(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ho(e){return e=xo(e),(e<16?"0":"")+e.toString(16)}function n1(e,t,i,n){return n<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new Fn(e,t,i,n)}function sG(e){if(e instanceof Fn)return new Fn(e.h,e.s,e.l,e.opacity);if(e instanceof ad||(e=Dc(e)),!e)return new Fn;if(e instanceof Fn)return e;e=e.rgb();var t=e.r/255,i=e.g/255,n=e.b/255,r=Math.min(t,i,n),s=Math.max(t,i,n),a=NaN,u=s-r,c=(s+r)/2;return u?(t===s?a=(i-n)/u+(i<n)*6:i===s?a=(n-t)/u+2:a=(t-i)/u+4,u/=c<.5?s+r:2-s-r,a*=60):u=c>0&&c<1?0:a,new Fn(a,u,c,e.opacity)}function BZ(e,t,i,n){return arguments.length===1?sG(e):new Fn(e,t,i,n??1)}function Fn(e,t,i,n){this.h=+e,this.s=+t,this.l=+i,this.opacity=+n}j0(Fn,BZ,rG(ad,{brighter(e){return e=e==null?Pf:Math.pow(Pf,e),new Fn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ac:Math.pow(Ac,e),new Fn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*t,r=2*i-n;return new Mi($S(e>=240?e-240:e+120,r,n),$S(e,r,n),$S(e<120?e+240:e-120,r,n),this.opacity)},clamp(){return new Fn(r1(this.h),Bh(this.s),Bh(this.l),Df(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Df(this.opacity);return`${e===1?"hsl(":"hsla("}${r1(this.h)}, ${Bh(this.s)*100}%, ${Bh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function r1(e){return e=(e||0)%360,e<0?e+360:e}function Bh(e){return Math.max(0,Math.min(1,e||0))}function $S(e,t,i){return(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)*255}const z0=e=>()=>e;function HZ(e,t){return function(i){return e+i*t}}function VZ(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(n){return Math.pow(e+n*t,i)}}function jZ(e){return(e=+e)==1?oG:function(t,i){return i-t?VZ(t,i,e):z0(isNaN(t)?i:t)}}function oG(e,t){var i=t-e;return i?HZ(e,i):z0(isNaN(e)?t:e)}const s1=(function e(t){var i=jZ(t);function n(r,s){var a=i((r=Lw(r)).r,(s=Lw(s)).r),u=i(r.g,s.g),c=i(r.b,s.b),h=oG(r.opacity,s.opacity);return function(p){return r.r=a(p),r.g=u(p),r.b=c(p),r.opacity=h(p),r+""}}return n.gamma=e,n})(1);function zZ(e,t){t||(t=[]);var i=e?Math.min(t.length,e.length):0,n=t.slice(),r;return function(s){for(r=0;r<i;++r)n[r]=e[r]*(1-s)+t[r]*s;return n}}function WZ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function UZ(e,t){var i=t?t.length:0,n=e?Math.min(i,e.length):0,r=new Array(n),s=new Array(i),a;for(a=0;a<n;++a)r[a]=Ll(e[a],t[a]);for(;a<i;++a)s[a]=t[a];return function(u){for(a=0;a<n;++a)s[a]=r[a](u);return s}}function $Z(e,t){var i=new Date;return e=+e,t=+t,function(n){return i.setTime(e*(1-n)+t*n),i}}function Tf(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}function qZ(e,t){var i={},n={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?i[r]=Ll(e[r],t[r]):n[r]=t[r];return function(s){for(r in i)n[r]=i[r](s);return n}}var Iw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qS=new RegExp(Iw.source,"g");function KZ(e){return function(){return e}}function YZ(e){return function(t){return e(t)+""}}function XZ(e,t){var i=Iw.lastIndex=qS.lastIndex=0,n,r,s,a=-1,u=[],c=[];for(e=e+"",t=t+"";(n=Iw.exec(e))&&(r=qS.exec(t));)(s=r.index)>i&&(s=t.slice(i,s),u[a]?u[a]+=s:u[++a]=s),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,c.push({i:a,x:Tf(n,r)})),i=qS.lastIndex;return i<t.length&&(s=t.slice(i),u[a]?u[a]+=s:u[++a]=s),u.length<2?c[0]?YZ(c[0].x):KZ(t):(t=c.length,function(h){for(var p=0,g;p<t;++p)u[(g=c[p]).i]=g.x(h);return u.join("")})}function Ll(e,t){var i=typeof t,n;return t==null||i==="boolean"?z0(t):(i==="number"?Tf:i==="string"?(n=Dc(t))?(t=n,s1):XZ:t instanceof Dc?s1:t instanceof Date?$Z:WZ(t)?zZ:Array.isArray(t)?UZ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?qZ:Tf)(e,t)}function W0(e,t){return e=+e,t=+t,function(i){return Math.round(e*(1-i)+t*i)}}function QZ(e,t){t===void 0&&(t=e,e=Ll);for(var i=0,n=t.length-1,r=t[0],s=new Array(n<0?0:n);i<n;)s[i]=e(r,r=t[++i]);return function(a){var u=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[u](a-u)}}function ZZ(e){return function(){return e}}function Mf(e){return+e}var o1=[0,1];function Si(e){return e}function Nw(e,t){return(t-=e=+e)?function(i){return(i-e)/t}:ZZ(isNaN(t)?NaN:.5)}function JZ(e,t){var i;return e>t&&(i=e,e=t,t=i),function(n){return Math.max(e,Math.min(t,n))}}function eJ(e,t,i){var n=e[0],r=e[1],s=t[0],a=t[1];return r<n?(n=Nw(r,n),s=i(a,s)):(n=Nw(n,r),s=i(s,a)),function(u){return s(n(u))}}function tJ(e,t,i){var n=Math.min(e.length,t.length)-1,r=new Array(n),s=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)r[a]=Nw(e[a],e[a+1]),s[a]=i(t[a],t[a+1]);return function(u){var c=od(e,u,1,n)-1;return s[c](r[c](u))}}function ld(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Np(){var e=o1,t=o1,i=Ll,n,r,s,a=Si,u,c,h;function p(){var m=Math.min(e.length,t.length);return a!==Si&&(a=JZ(e[0],e[m-1])),u=m>2?tJ:eJ,c=h=null,g}function g(m){return m==null||isNaN(m=+m)?s:(c||(c=u(e.map(n),t,i)))(n(a(m)))}return g.invert=function(m){return a(r((h||(h=u(t,e.map(n),Tf)))(m)))},g.domain=function(m){return arguments.length?(e=Array.from(m,Mf),p()):e.slice()},g.range=function(m){return arguments.length?(t=Array.from(m),p()):t.slice()},g.rangeRound=function(m){return t=Array.from(m),i=W0,p()},g.clamp=function(m){return arguments.length?(a=m?!0:Si,p()):a!==Si},g.interpolate=function(m){return arguments.length?(i=m,p()):i},g.unknown=function(m){return arguments.length?(s=m,g):s},function(m,y){return n=m,r=y,p()}}function U0(){return Np()(Si,Si)}function iJ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ff(e,t){if(!isFinite(e)||e===0)return null;var i=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,i);return[n.length>1?n[0]+n.slice(2):n,+e.slice(i+1)]}function tl(e){return e=Ff(Math.abs(e)),e?e[1]:NaN}function nJ(e,t){return function(i,n){for(var r=i.length,s=[],a=0,u=e[0],c=0;r>0&&u>0&&(c+u+1>n&&(u=Math.max(1,n-c)),s.push(i.substring(r-=u,r+u)),!((c+=u+1)>n));)u=e[a=(a+1)%e.length];return s.reverse().join(t)}}function rJ(e){return function(t){return t.replace(/[0-9]/g,function(i){return e[+i]})}}var sJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tc(e){if(!(t=sJ.exec(e)))throw new Error("invalid format: "+e);var t;return new $0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Tc.prototype=$0.prototype;function $0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}$0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oJ(e){e:for(var t=e.length,i=1,n=-1,r;i<t;++i)switch(e[i]){case".":n=r=i;break;case"0":n===0&&(n=i),r=i;break;default:if(!+e[i])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(r+1):e}var Of;function aJ(e,t){var i=Ff(e,t);if(!i)return Of=void 0,e.toPrecision(t);var n=i[0],r=i[1],s=r-(Of=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Ff(e,Math.max(0,t+s-1))[0]}function a1(e,t){var i=Ff(e,t);if(!i)return e+"";var n=i[0],r=i[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")}const l1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:iJ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>a1(e*100,t),r:a1,s:aJ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function u1(e){return e}var c1=Array.prototype.map,d1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function lJ(e){var t=e.grouping===void 0||e.thousands===void 0?u1:nJ(c1.call(e.grouping,Number),e.thousands+""),i=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?u1:rJ(c1.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function h(g,m){g=Tc(g);var y=g.fill,b=g.align,w=g.sign,S=g.symbol,x=g.zero,E=g.width,R=g.comma,T=g.precision,A=g.trim,P=g.type;P==="n"?(R=!0,P="g"):l1[P]||(T===void 0&&(T=12),A=!0,P="g"),(x||y==="0"&&b==="=")&&(x=!0,y="0",b="=");var F=(m&&m.prefix!==void 0?m.prefix:"")+(S==="$"?i:S==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),I=(S==="$"?n:/[%p]/.test(P)?a:"")+(m&&m.suffix!==void 0?m.suffix:""),k=l1[P],W=/[defgprs%]/.test(P);T=T===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function V(B){var K=F,Y=I,H,_,U;if(P==="c")Y=k(B)+Y,B="";else{B=+B;var Q=B<0||1/B<0;if(B=isNaN(B)?c:k(Math.abs(B),T),A&&(B=oJ(B)),Q&&+B==0&&w!=="+"&&(Q=!1),K=(Q?w==="("?w:u:w==="-"||w==="("?"":w)+K,Y=(P==="s"&&!isNaN(B)&&Of!==void 0?d1[8+Of/3]:"")+Y+(Q&&w==="("?")":""),W){for(H=-1,_=B.length;++H<_;)if(U=B.charCodeAt(H),48>U||U>57){Y=(U===46?r+B.slice(H+1):B.slice(H))+Y,B=B.slice(0,H);break}}}R&&!x&&(B=t(B,1/0));var ae=K.length+B.length+Y.length,de=ae<E?new Array(E-ae+1).join(y):"";switch(R&&x&&(B=t(de+B,de.length?E-Y.length:1/0),de=""),b){case"<":B=K+B+Y+de;break;case"=":B=K+de+B+Y;break;case"^":B=de.slice(0,ae=de.length>>1)+K+B+Y+de.slice(ae);break;default:B=de+K+B+Y;break}return s(B)}return V.toString=function(){return g+""},V}function p(g,m){var y=Math.max(-8,Math.min(8,Math.floor(tl(m)/3)))*3,b=Math.pow(10,-y),w=h((g=Tc(g),g.type="f",g),{suffix:d1[8+y/3]});return function(S){return w(b*S)}}return{format:h,formatPrefix:p}}var Hh,q0,aG;uJ({thousands:",",grouping:[3],currency:["$",""]});function uJ(e){return Hh=lJ(e),q0=Hh.format,aG=Hh.formatPrefix,Hh}function cJ(e){return Math.max(0,-tl(Math.abs(e)))}function dJ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tl(t)/3)))*3-tl(Math.abs(e)))}function hJ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,tl(t)-tl(e))+1}function lG(e,t,i,n){var r=Fw(e,t,i),s;switch(n=Tc(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=dJ(r,a))&&(n.precision=s),aG(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=hJ(r,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=cJ(r))&&(n.precision=s-(n.type==="%")*2);break}}return q0(n)}function Fs(e){var t=e.domain;return e.ticks=function(i){var n=t();return Tw(n[0],n[n.length-1],i??10)},e.tickFormat=function(i,n){var r=t();return lG(r[0],r[r.length-1],i??10,n)},e.nice=function(i){i==null&&(i=10);var n=t(),r=0,s=n.length-1,a=n[r],u=n[s],c,h,p=10;for(u<a&&(h=a,a=u,u=h,h=r,r=s,s=h);p-- >0;){if(h=Mw(a,u,i),h===c)return n[r]=a,n[s]=u,t(n);if(h>0)a=Math.floor(a/h)*h,u=Math.ceil(u/h)*h;else if(h<0)a=Math.ceil(a*h)/h,u=Math.floor(u*h)/h;else break;c=h}return e},e}function Lf(){var e=U0();return e.copy=function(){return ld(e,Lf())},Sn.apply(e,arguments),Fs(e)}function uG(e){var t;function i(n){return n==null||isNaN(n=+n)?t:n}return i.invert=i,i.domain=i.range=function(n){return arguments.length?(e=Array.from(n,Mf),i):e.slice()},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return uG(e).unknown(t)},e=arguments.length?Array.from(e,Mf):[0,1],Fs(i)}function cG(e,t){e=e.slice();var i=0,n=e.length-1,r=e[i],s=e[n],a;return s<r&&(a=i,i=n,n=a,a=r,r=s,s=a),e[i]=t.floor(r),e[n]=t.ceil(s),e}function h1(e){return Math.log(e)}function f1(e){return Math.exp(e)}function fJ(e){return-Math.log(-e)}function pJ(e){return-Math.exp(-e)}function gJ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function mJ(e){return e===10?gJ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function vJ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function p1(e){return(t,i)=>-e(-t,i)}function K0(e){const t=e(h1,f1),i=t.domain;let n=10,r,s;function a(){return r=vJ(n),s=mJ(n),i()[0]<0?(r=p1(r),s=p1(s),e(fJ,pJ)):e(h1,f1),t}return t.base=function(u){return arguments.length?(n=+u,a()):n},t.domain=function(u){return arguments.length?(i(u),a()):i()},t.ticks=u=>{const c=i();let h=c[0],p=c[c.length-1];const g=p<h;g&&([h,p]=[p,h]);let m=r(h),y=r(p),b,w;const S=u==null?10:+u;let x=[];if(!(n%1)&&y-m<S){if(m=Math.floor(m),y=Math.ceil(y),h>0){for(;m<=y;++m)for(b=1;b<n;++b)if(w=m<0?b/s(-m):b*s(m),!(w<h)){if(w>p)break;x.push(w)}}else for(;m<=y;++m)for(b=n-1;b>=1;--b)if(w=m>0?b/s(-m):b*s(m),!(w<h)){if(w>p)break;x.push(w)}x.length*2<S&&(x=Tw(h,p,S))}else x=Tw(m,y,Math.min(y-m,S)).map(s);return g?x.reverse():x},t.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Tc(c)).precision==null&&(c.trim=!0),c=q0(c)),u===1/0)return c;const h=Math.max(1,n*u/t.ticks().length);return p=>{let g=p/s(Math.round(r(p)));return g*n<n-.5&&(g*=n),g<=h?c(p):""}},t.nice=()=>i(cG(i(),{floor:u=>s(Math.floor(r(u))),ceil:u=>s(Math.ceil(r(u)))})),t}function dG(){const e=K0(Np()).domain([1,10]);return e.copy=()=>ld(e,dG()).base(e.base()),Sn.apply(e,arguments),e}function g1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function m1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Y0(e){var t=1,i=e(g1(t),m1(t));return i.constant=function(n){return arguments.length?e(g1(t=+n),m1(t)):t},Fs(i)}function hG(){var e=Y0(Np());return e.copy=function(){return ld(e,hG()).constant(e.constant())},Sn.apply(e,arguments)}function v1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function yJ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function CJ(e){return e<0?-e*e:e*e}function X0(e){var t=e(Si,Si),i=1;function n(){return i===1?e(Si,Si):i===.5?e(yJ,CJ):e(v1(i),v1(1/i))}return t.exponent=function(r){return arguments.length?(i=+r,n()):i},Fs(t)}function Q0(){var e=X0(Np());return e.copy=function(){return ld(e,Q0()).exponent(e.exponent())},Sn.apply(e,arguments),e}function SJ(){return Q0.apply(null,arguments).exponent(.5)}function y1(e){return Math.sign(e)*e*e}function bJ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function fG(){var e=U0(),t=[0,1],i=!1,n;function r(s){var a=bJ(e(s));return isNaN(a)?n:i?Math.round(a):a}return r.invert=function(s){return e.invert(y1(s))},r.domain=function(s){return arguments.length?(e.domain(s),r):e.domain()},r.range=function(s){return arguments.length?(e.range((t=Array.from(s,Mf)).map(y1)),r):t.slice()},r.rangeRound=function(s){return r.range(s).round(!0)},r.round=function(s){return arguments.length?(i=!!s,r):i},r.clamp=function(s){return arguments.length?(e.clamp(s),r):e.clamp()},r.unknown=function(s){return arguments.length?(n=s,r):n},r.copy=function(){return fG(e.domain(),t).round(i).clamp(e.clamp()).unknown(n)},Sn.apply(r,arguments),Fs(r)}function pG(){var e=[],t=[],i=[],n;function r(){var a=0,u=Math.max(1,t.length);for(i=new Array(u-1);++a<u;)i[a-1]=AZ(e,a/u);return s}function s(a){return a==null||isNaN(a=+a)?n:t[od(i,a)]}return s.invertExtent=function(a){var u=t.indexOf(a);return u<0?[NaN,NaN]:[u>0?i[u-1]:e[0],u<i.length?i[u]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let u of a)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(xs),r()},s.range=function(a){return arguments.length?(t=Array.from(a),r()):t.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return i.slice()},s.copy=function(){return pG().domain(e).range(t).unknown(n)},Sn.apply(s,arguments)}function gG(){var e=0,t=1,i=1,n=[.5],r=[0,1],s;function a(c){return c!=null&&c<=c?r[od(n,c,0,i)]:s}function u(){var c=-1;for(n=new Array(i);++c<i;)n[c]=((c+1)*t-(c-i)*e)/(i+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,u()):[e,t]},a.range=function(c){return arguments.length?(i=(r=Array.from(c)).length-1,u()):r.slice()},a.invertExtent=function(c){var h=r.indexOf(c);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=i?[n[i-1],t]:[n[h-1],n[h]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return gG().domain([e,t]).range(r).unknown(s)},Sn.apply(Fs(a),arguments)}function mG(){var e=[.5],t=[0,1],i,n=1;function r(s){return s!=null&&s<=s?t[od(e,s,0,n)]:i}return r.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),r):e.slice()},r.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),r):t.slice()},r.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return mG().domain(e).range(t).unknown(i)},Sn.apply(r,arguments)}const KS=new Date,YS=new Date;function Ut(e,t,i,n){function r(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=s=>(e(s=new Date(+s)),s),r.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),r.round=s=>{const a=r(s),u=r.ceil(s);return s-a<u-s?a:u},r.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),r.range=(s,a,u)=>{const c=[];if(s=r.ceil(s),u=u==null?1:Math.floor(u),!(s<a)||!(u>0))return c;let h;do c.push(h=new Date(+s)),t(s,u),e(s);while(h<s&&s<a);return c},r.filter=s=>Ut(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,u)=>{if(a>=a)if(u<0)for(;++u<=0;)for(;t(a,-1),!s(a););else for(;--u>=0;)for(;t(a,1),!s(a););}),i&&(r.count=(s,a)=>(KS.setTime(+s),YS.setTime(+a),e(KS),e(YS),Math.floor(i(KS,YS))),r.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(n?a=>n(a)%s===0:a=>r.count(0,a)%s===0):r)),r}const If=Ut(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);If.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ut(t=>{t.setTime(Math.floor(t/e)*e)},(t,i)=>{t.setTime(+t+i*e)},(t,i)=>(i-t)/e):If);If.range;const Rr=1e3,pn=Rr*60,Er=pn*60,Ir=Er*24,Z0=Ir*7,C1=Ir*30,XS=Ir*365,fo=Ut(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Rr)},(e,t)=>(t-e)/Rr,e=>e.getUTCSeconds());fo.range;const J0=Ut(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rr)},(e,t)=>{e.setTime(+e+t*pn)},(e,t)=>(t-e)/pn,e=>e.getMinutes());J0.range;const eR=Ut(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*pn)},(e,t)=>(t-e)/pn,e=>e.getUTCMinutes());eR.range;const tR=Ut(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Rr-e.getMinutes()*pn)},(e,t)=>{e.setTime(+e+t*Er)},(e,t)=>(t-e)/Er,e=>e.getHours());tR.range;const iR=Ut(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Er)},(e,t)=>(t-e)/Er,e=>e.getUTCHours());iR.range;const ud=Ut(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pn)/Ir,e=>e.getDate()-1);ud.range;const _p=Ut(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ir,e=>e.getUTCDate()-1);_p.range;const vG=Ut(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ir,e=>Math.floor(e/Ir));vG.range;function Vo(e){return Ut(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,i)=>{t.setDate(t.getDate()+i*7)},(t,i)=>(i-t-(i.getTimezoneOffset()-t.getTimezoneOffset())*pn)/Z0)}const kp=Vo(0),Nf=Vo(1),wJ=Vo(2),xJ=Vo(3),il=Vo(4),RJ=Vo(5),EJ=Vo(6);kp.range;Nf.range;wJ.range;xJ.range;il.range;RJ.range;EJ.range;function jo(e){return Ut(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCDate(t.getUTCDate()+i*7)},(t,i)=>(i-t)/Z0)}const Gp=jo(0),_f=jo(1),AJ=jo(2),PJ=jo(3),nl=jo(4),DJ=jo(5),TJ=jo(6);Gp.range;_f.range;AJ.range;PJ.range;nl.range;DJ.range;TJ.range;const nR=Ut(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());nR.range;const rR=Ut(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());rR.range;const Nr=Ut(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Nr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ut(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,i)=>{t.setFullYear(t.getFullYear()+i*e)});Nr.range;const _r=Ut(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_r.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ut(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCFullYear(t.getUTCFullYear()+i*e)});_r.range;function yG(e,t,i,n,r,s){const a=[[fo,1,Rr],[fo,5,5*Rr],[fo,15,15*Rr],[fo,30,30*Rr],[s,1,pn],[s,5,5*pn],[s,15,15*pn],[s,30,30*pn],[r,1,Er],[r,3,3*Er],[r,6,6*Er],[r,12,12*Er],[n,1,Ir],[n,2,2*Ir],[i,1,Z0],[t,1,C1],[t,3,3*C1],[e,1,XS]];function u(h,p,g){const m=p<h;m&&([h,p]=[p,h]);const y=g&&typeof g.range=="function"?g:c(h,p,g),b=y?y.range(h,+p+1):[];return m?b.reverse():b}function c(h,p,g){const m=Math.abs(p-h)/g,y=H0(([,,S])=>S).right(a,m);if(y===a.length)return e.every(Fw(h/XS,p/XS,g));if(y===0)return If.every(Math.max(Fw(h,p,g),1));const[b,w]=a[m/a[y-1][2]<a[y][2]/m?y-1:y];return b.every(w)}return[u,c]}const[MJ,FJ]=yG(_r,rR,Gp,vG,iR,eR),[OJ,LJ]=yG(Nr,nR,kp,ud,tR,J0);function QS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ZS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bu(e,t,i){return{y:e,m:t,d:i,H:0,M:0,S:0,L:0}}function IJ(e){var t=e.dateTime,i=e.date,n=e.time,r=e.periods,s=e.days,a=e.shortDays,u=e.months,c=e.shortMonths,h=Hu(r),p=Vu(r),g=Hu(s),m=Vu(s),y=Hu(a),b=Vu(a),w=Hu(u),S=Vu(u),x=Hu(c),E=Vu(c),R={a:U,A:Q,b:ae,B:de,c:null,d:E1,e:E1,f:nee,g:fee,G:gee,H:eee,I:tee,j:iee,L:CG,m:ree,M:see,p:G,q:z,Q:D1,s:T1,S:oee,u:aee,U:lee,V:uee,w:cee,W:dee,x:null,X:null,y:hee,Y:pee,Z:mee,"%":P1},T={a:re,A:se,b:ge,B:ye,c:null,d:A1,e:A1,f:See,g:Mee,G:Oee,H:vee,I:yee,j:Cee,L:bG,m:bee,M:wee,p:Pe,q:_e,Q:D1,s:T1,S:xee,u:Ree,U:Eee,V:Aee,w:Pee,W:Dee,x:null,X:null,y:Tee,Y:Fee,Z:Lee,"%":P1},A={a:W,A:V,b:B,B:K,c:Y,d:x1,e:x1,f:XJ,g:w1,G:b1,H:R1,I:R1,j:$J,L:YJ,m:UJ,M:qJ,p:k,q:WJ,Q:ZJ,s:JJ,S:KJ,u:BJ,U:HJ,V:VJ,w:GJ,W:jJ,x:H,X:_,y:w1,Y:b1,Z:zJ,"%":QJ};R.x=P(i,R),R.X=P(n,R),R.c=P(t,R),T.x=P(i,T),T.X=P(n,T),T.c=P(t,T);function P(q,ve){return function(Ce){var oe=[],Me=-1,Re=0,Fe=q.length,qe,Ot,Li;for(Ce instanceof Date||(Ce=new Date(+Ce));++Me<Fe;)q.charCodeAt(Me)===37&&(oe.push(q.slice(Re,Me)),(Ot=S1[qe=q.charAt(++Me)])!=null?qe=q.charAt(++Me):Ot=qe==="e"?" ":"0",(Li=ve[qe])&&(qe=Li(Ce,Ot)),oe.push(qe),Re=Me+1);return oe.push(q.slice(Re,Me)),oe.join("")}}function F(q,ve){return function(Ce){var oe=Bu(1900,void 0,1),Me=I(oe,q,Ce+="",0),Re,Fe;if(Me!=Ce.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(ve&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(Re=ZS(Bu(oe.y,0,1)),Fe=Re.getUTCDay(),Re=Fe>4||Fe===0?_f.ceil(Re):_f(Re),Re=_p.offset(Re,(oe.V-1)*7),oe.y=Re.getUTCFullYear(),oe.m=Re.getUTCMonth(),oe.d=Re.getUTCDate()+(oe.w+6)%7):(Re=QS(Bu(oe.y,0,1)),Fe=Re.getDay(),Re=Fe>4||Fe===0?Nf.ceil(Re):Nf(Re),Re=ud.offset(Re,(oe.V-1)*7),oe.y=Re.getFullYear(),oe.m=Re.getMonth(),oe.d=Re.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),Fe="Z"in oe?ZS(Bu(oe.y,0,1)).getUTCDay():QS(Bu(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(Fe+5)%7:oe.w+oe.U*7-(Fe+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,ZS(oe)):QS(oe)}}function I(q,ve,Ce,oe){for(var Me=0,Re=ve.length,Fe=Ce.length,qe,Ot;Me<Re;){if(oe>=Fe)return-1;if(qe=ve.charCodeAt(Me++),qe===37){if(qe=ve.charAt(Me++),Ot=A[qe in S1?ve.charAt(Me++):qe],!Ot||(oe=Ot(q,Ce,oe))<0)return-1}else if(qe!=Ce.charCodeAt(oe++))return-1}return oe}function k(q,ve,Ce){var oe=h.exec(ve.slice(Ce));return oe?(q.p=p.get(oe[0].toLowerCase()),Ce+oe[0].length):-1}function W(q,ve,Ce){var oe=y.exec(ve.slice(Ce));return oe?(q.w=b.get(oe[0].toLowerCase()),Ce+oe[0].length):-1}function V(q,ve,Ce){var oe=g.exec(ve.slice(Ce));return oe?(q.w=m.get(oe[0].toLowerCase()),Ce+oe[0].length):-1}function B(q,ve,Ce){var oe=x.exec(ve.slice(Ce));return oe?(q.m=E.get(oe[0].toLowerCase()),Ce+oe[0].length):-1}function K(q,ve,Ce){var oe=w.exec(ve.slice(Ce));return oe?(q.m=S.get(oe[0].toLowerCase()),Ce+oe[0].length):-1}function Y(q,ve,Ce){return I(q,t,ve,Ce)}function H(q,ve,Ce){return I(q,i,ve,Ce)}function _(q,ve,Ce){return I(q,n,ve,Ce)}function U(q){return a[q.getDay()]}function Q(q){return s[q.getDay()]}function ae(q){return c[q.getMonth()]}function de(q){return u[q.getMonth()]}function G(q){return r[+(q.getHours()>=12)]}function z(q){return 1+~~(q.getMonth()/3)}function re(q){return a[q.getUTCDay()]}function se(q){return s[q.getUTCDay()]}function ge(q){return c[q.getUTCMonth()]}function ye(q){return u[q.getUTCMonth()]}function Pe(q){return r[+(q.getUTCHours()>=12)]}function _e(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var ve=P(q+="",R);return ve.toString=function(){return q},ve},parse:function(q){var ve=F(q+="",!1);return ve.toString=function(){return q},ve},utcFormat:function(q){var ve=P(q+="",T);return ve.toString=function(){return q},ve},utcParse:function(q){var ve=F(q+="",!0);return ve.toString=function(){return q},ve}}}var S1={"-":"",_:" ",0:"0"},Xt=/^\s*\d+/,NJ=/^%/,_J=/[\\^$*+?|[\]().{}]/g;function Ze(e,t,i){var n=e<0?"-":"",r=(n?-e:e)+"",s=r.length;return n+(s<i?new Array(i-s+1).join(t)+r:r)}function kJ(e){return e.replace(_J,"\\$&")}function Hu(e){return new RegExp("^(?:"+e.map(kJ).join("|")+")","i")}function Vu(e){return new Map(e.map((t,i)=>[t.toLowerCase(),i]))}function GJ(e,t,i){var n=Xt.exec(t.slice(i,i+1));return n?(e.w=+n[0],i+n[0].length):-1}function BJ(e,t,i){var n=Xt.exec(t.slice(i,i+1));return n?(e.u=+n[0],i+n[0].length):-1}function HJ(e,t,i){var n=Xt.exec(t.slice(i,i+2));return n?(e.U=+n[0],i+n[0].length):-1}function VJ(e,t,i){var n=Xt.exec(t.slice(i,i+2));return n?(e.V=+n[0],i+n[0].length):-1}function jJ(e,t,i){var n=Xt.exec(t.slice(i,i+2));return n?(e.W=+n[0],i+n[0].length):-1}function b1(e,t,i){var n=Xt.exec(t.slice(i,i+4));return n?(e.y=+n[0],i+n[0].length):-1}function w1(e,t,i){var n=Xt.exec(t.slice(i,i+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function zJ(e,t,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(i,i+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function WJ(e,t,i){var n=Xt.exec(t.slice(i,i+1));return n?(e.q=n[0]*3-3,i+n[0].length):-1}function UJ(e,t,i){var n=Xt.exec(t.slice(i,i+2));return n?(e.m=n[0]-1,i+n[0].length):-1}function x1(e,t,i){var n=Xt.exec(t.slice(i,i+2));return n?(e.d=+n[0],i+n[0].length):-1}function $J(e,t,i){var n=Xt.exec(t.slice(i,i+3));return n?(e.m=0,e.d=+n[0],i+n[0].length):-1}function R1(e,t,i){var n=Xt.exec(t.slice(i,i+2));return n?(e.H=+n[0],i+n[0].length):-1}function qJ(e,t,i){var n=Xt.exec(t.slice(i,i+2));return n?(e.M=+n[0],i+n[0].length):-1}function KJ(e,t,i){var n=Xt.exec(t.slice(i,i+2));return n?(e.S=+n[0],i+n[0].length):-1}function YJ(e,t,i){var n=Xt.exec(t.slice(i,i+3));return n?(e.L=+n[0],i+n[0].length):-1}function XJ(e,t,i){var n=Xt.exec(t.slice(i,i+6));return n?(e.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function QJ(e,t,i){var n=NJ.exec(t.slice(i,i+1));return n?i+n[0].length:-1}function ZJ(e,t,i){var n=Xt.exec(t.slice(i));return n?(e.Q=+n[0],i+n[0].length):-1}function JJ(e,t,i){var n=Xt.exec(t.slice(i));return n?(e.s=+n[0],i+n[0].length):-1}function E1(e,t){return Ze(e.getDate(),t,2)}function eee(e,t){return Ze(e.getHours(),t,2)}function tee(e,t){return Ze(e.getHours()%12||12,t,2)}function iee(e,t){return Ze(1+ud.count(Nr(e),e),t,3)}function CG(e,t){return Ze(e.getMilliseconds(),t,3)}function nee(e,t){return CG(e,t)+"000"}function ree(e,t){return Ze(e.getMonth()+1,t,2)}function see(e,t){return Ze(e.getMinutes(),t,2)}function oee(e,t){return Ze(e.getSeconds(),t,2)}function aee(e){var t=e.getDay();return t===0?7:t}function lee(e,t){return Ze(kp.count(Nr(e)-1,e),t,2)}function SG(e){var t=e.getDay();return t>=4||t===0?il(e):il.ceil(e)}function uee(e,t){return e=SG(e),Ze(il.count(Nr(e),e)+(Nr(e).getDay()===4),t,2)}function cee(e){return e.getDay()}function dee(e,t){return Ze(Nf.count(Nr(e)-1,e),t,2)}function hee(e,t){return Ze(e.getFullYear()%100,t,2)}function fee(e,t){return e=SG(e),Ze(e.getFullYear()%100,t,2)}function pee(e,t){return Ze(e.getFullYear()%1e4,t,4)}function gee(e,t){var i=e.getDay();return e=i>=4||i===0?il(e):il.ceil(e),Ze(e.getFullYear()%1e4,t,4)}function mee(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ze(t/60|0,"0",2)+Ze(t%60,"0",2)}function A1(e,t){return Ze(e.getUTCDate(),t,2)}function vee(e,t){return Ze(e.getUTCHours(),t,2)}function yee(e,t){return Ze(e.getUTCHours()%12||12,t,2)}function Cee(e,t){return Ze(1+_p.count(_r(e),e),t,3)}function bG(e,t){return Ze(e.getUTCMilliseconds(),t,3)}function See(e,t){return bG(e,t)+"000"}function bee(e,t){return Ze(e.getUTCMonth()+1,t,2)}function wee(e,t){return Ze(e.getUTCMinutes(),t,2)}function xee(e,t){return Ze(e.getUTCSeconds(),t,2)}function Ree(e){var t=e.getUTCDay();return t===0?7:t}function Eee(e,t){return Ze(Gp.count(_r(e)-1,e),t,2)}function wG(e){var t=e.getUTCDay();return t>=4||t===0?nl(e):nl.ceil(e)}function Aee(e,t){return e=wG(e),Ze(nl.count(_r(e),e)+(_r(e).getUTCDay()===4),t,2)}function Pee(e){return e.getUTCDay()}function Dee(e,t){return Ze(_f.count(_r(e)-1,e),t,2)}function Tee(e,t){return Ze(e.getUTCFullYear()%100,t,2)}function Mee(e,t){return e=wG(e),Ze(e.getUTCFullYear()%100,t,2)}function Fee(e,t){return Ze(e.getUTCFullYear()%1e4,t,4)}function Oee(e,t){var i=e.getUTCDay();return e=i>=4||i===0?nl(e):nl.ceil(e),Ze(e.getUTCFullYear()%1e4,t,4)}function Lee(){return"+0000"}function P1(){return"%"}function D1(e){return+e}function T1(e){return Math.floor(+e/1e3)}var Fa,xG,RG;Iee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Iee(e){return Fa=IJ(e),xG=Fa.format,Fa.parse,RG=Fa.utcFormat,Fa.utcParse,Fa}function Nee(e){return new Date(e)}function _ee(e){return e instanceof Date?+e:+new Date(+e)}function sR(e,t,i,n,r,s,a,u,c,h){var p=U0(),g=p.invert,m=p.domain,y=h(".%L"),b=h(":%S"),w=h("%I:%M"),S=h("%I %p"),x=h("%a %d"),E=h("%b %d"),R=h("%B"),T=h("%Y");function A(P){return(c(P)<P?y:u(P)<P?b:a(P)<P?w:s(P)<P?S:n(P)<P?r(P)<P?x:E:i(P)<P?R:T)(P)}return p.invert=function(P){return new Date(g(P))},p.domain=function(P){return arguments.length?m(Array.from(P,_ee)):m().map(Nee)},p.ticks=function(P){var F=m();return e(F[0],F[F.length-1],P??10)},p.tickFormat=function(P,F){return F==null?A:h(F)},p.nice=function(P){var F=m();return(!P||typeof P.range!="function")&&(P=t(F[0],F[F.length-1],P??10)),P?m(cG(F,P)):p},p.copy=function(){return ld(p,sR(e,t,i,n,r,s,a,u,c,h))},p}function kee(){return Sn.apply(sR(OJ,LJ,Nr,nR,kp,ud,tR,J0,fo,xG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Gee(){return Sn.apply(sR(MJ,FJ,_r,rR,Gp,_p,iR,eR,fo,RG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bp(){var e=0,t=1,i,n,r,s,a=Si,u=!1,c;function h(g){return g==null||isNaN(g=+g)?c:a(r===0?.5:(g=(s(g)-i)*r,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t]=g,i=s(e=+e),n=s(t=+t),r=i===n?0:1/(n-i),h):[e,t]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(a=g,h):a};function p(g){return function(m){var y,b;return arguments.length?([y,b]=m,a=g(y,b),h):[a(0),a(1)]}}return h.range=p(Ll),h.rangeRound=p(W0),h.unknown=function(g){return arguments.length?(c=g,h):c},function(g){return s=g,i=g(e),n=g(t),r=i===n?0:1/(n-i),h}}function Os(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function EG(){var e=Fs(Bp()(Si));return e.copy=function(){return Os(e,EG())},Hr.apply(e,arguments)}function AG(){var e=K0(Bp()).domain([1,10]);return e.copy=function(){return Os(e,AG()).base(e.base())},Hr.apply(e,arguments)}function PG(){var e=Y0(Bp());return e.copy=function(){return Os(e,PG()).constant(e.constant())},Hr.apply(e,arguments)}function oR(){var e=X0(Bp());return e.copy=function(){return Os(e,oR()).exponent(e.exponent())},Hr.apply(e,arguments)}function Bee(){return oR.apply(null,arguments).exponent(.5)}function DG(){var e=[],t=Si;function i(n){if(n!=null&&!isNaN(n=+n))return t((od(e,n,1)-1)/(e.length-1))}return i.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let r of n)r!=null&&!isNaN(r=+r)&&e.push(r);return e.sort(xs),i},i.interpolator=function(n){return arguments.length?(t=n,i):t},i.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},i.quantiles=function(n){return Array.from({length:n+1},(r,s)=>EZ(e,s/n))},i.copy=function(){return DG(t).domain(e)},Hr.apply(i,arguments)}function Hp(){var e=0,t=.5,i=1,n=1,r,s,a,u,c,h=Si,p,g=!1,m;function y(w){return isNaN(w=+w)?m:(w=.5+((w=+p(w))-s)*(n*w<n*s?u:c),h(g?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([e,t,i]=w,r=p(e=+e),s=p(t=+t),a=p(i=+i),u=r===s?0:.5/(s-r),c=s===a?0:.5/(a-s),n=s<r?-1:1,y):[e,t,i]},y.clamp=function(w){return arguments.length?(g=!!w,y):g},y.interpolator=function(w){return arguments.length?(h=w,y):h};function b(w){return function(S){var x,E,R;return arguments.length?([x,E,R]=S,h=QZ(w,[x,E,R]),y):[h(0),h(.5),h(1)]}}return y.range=b(Ll),y.rangeRound=b(W0),y.unknown=function(w){return arguments.length?(m=w,y):m},function(w){return p=w,r=w(e),s=w(t),a=w(i),u=r===s?0:.5/(s-r),c=s===a?0:.5/(a-s),n=s<r?-1:1,y}}function TG(){var e=Fs(Hp()(Si));return e.copy=function(){return Os(e,TG())},Hr.apply(e,arguments)}function MG(){var e=K0(Hp()).domain([.1,1,10]);return e.copy=function(){return Os(e,MG()).base(e.base())},Hr.apply(e,arguments)}function FG(){var e=Y0(Hp());return e.copy=function(){return Os(e,FG()).constant(e.constant())},Hr.apply(e,arguments)}function aR(){var e=X0(Hp());return e.copy=function(){return Os(e,aR()).exponent(e.exponent())},Hr.apply(e,arguments)}function Hee(){return aR.apply(null,arguments).exponent(.5)}const M1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ec,scaleDiverging:TG,scaleDivergingLog:MG,scaleDivergingPow:aR,scaleDivergingSqrt:Hee,scaleDivergingSymlog:FG,scaleIdentity:uG,scaleImplicit:Ow,scaleLinear:Lf,scaleLog:dG,scaleOrdinal:V0,scalePoint:nc,scalePow:Q0,scaleQuantile:pG,scaleQuantize:gG,scaleRadial:fG,scaleSequential:EG,scaleSequentialLog:AG,scaleSequentialPow:oR,scaleSequentialQuantile:DG,scaleSequentialSqrt:Bee,scaleSequentialSymlog:PG,scaleSqrt:SJ,scaleSymlog:hG,scaleThreshold:mG,scaleTime:kee,scaleUtc:Gee,tickFormat:lG},Symbol.toStringTag,{value:"Module"}));var JS,F1;function OG(){if(F1)return JS;F1=1;var e=Tl();function t(i,n,r){for(var s=-1,a=i.length;++s<a;){var u=i[s],c=n(u);if(c!=null&&(h===void 0?c===c&&!e(c):r(c,h)))var h=c,p=u}return p}return JS=t,JS}var eb,O1;function Vee(){if(O1)return eb;O1=1;function e(t,i){return t>i}return eb=e,eb}var tb,L1;function jee(){if(L1)return tb;L1=1;var e=OG(),t=Vee(),i=Ol();function n(r){return r&&r.length?e(r,i,t):void 0}return tb=n,tb}var zee=jee();const Cs=ut(zee);var ib,I1;function Wee(){if(I1)return ib;I1=1;function e(t,i){return t<i}return ib=e,ib}var nb,N1;function Uee(){if(N1)return nb;N1=1;var e=OG(),t=Wee(),i=Ol();function n(r){return r&&r.length?e(r,i,t):void 0}return nb=n,nb}var $ee=Uee();const Vp=ut($ee);var rb,_1;function qee(){if(_1)return rb;_1=1;var e=x0(),t=Ts(),i=Vk(),n=Oi();function r(s,a){var u=n(s)?e:i;return u(s,t(a,3))}return rb=r,rb}var sb,k1;function Kee(){if(k1)return sb;k1=1;var e=Bk(),t=qee();function i(n,r){return e(t(n,r),1)}return sb=i,sb}var Yee=Kee();const Xee=ut(Yee);var ob,G1;function Qee(){if(G1)return ob;G1=1;var e=N0();function t(i,n){return e(i,n)}return ob=t,ob}var Zee=Qee();const Oo=ut(Zee);var Il=1e9,Jee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},uR,St=!0,Cn="[DecimalError] ",Ro=Cn+"Invalid argument: ",lR=Cn+"Exponent out of range: ",Nl=Math.floor,so=Math.pow,ete=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qi,Yt=1e7,mt=7,LG=9007199254740991,kf=Nl(LG/mt),Se={};Se.absoluteValue=Se.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Se.comparedTo=Se.cmp=function(e){var t,i,n,r,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,r=e.d.length,t=0,i=n<r?n:r;t<i;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===r?0:n>r^s.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var e=this,t=e.d.length-1,i=(t-e.e)*mt;if(t=e.d[t],t)for(;t%10==0;t/=10)i--;return i<0?0:i};Se.dividedBy=Se.div=function(e){return Mr(this,new this.constructor(e))};Se.dividedToIntegerBy=Se.idiv=function(e){var t=this,i=t.constructor;return dt(Mr(t,new i(e),0,1),i.precision)};Se.equals=Se.eq=function(e){return!this.cmp(e)};Se.exponent=function(){return Gt(this)};Se.greaterThan=Se.gt=function(e){return this.cmp(e)>0};Se.greaterThanOrEqualTo=Se.gte=function(e){return this.cmp(e)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(e){return this.cmp(e)<0};Se.lessThanOrEqualTo=Se.lte=function(e){return this.cmp(e)<1};Se.logarithm=Se.log=function(e){var t,i=this,n=i.constructor,r=n.precision,s=r+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(qi))throw Error(Cn+"NaN");if(i.s<1)throw Error(Cn+(i.s?"NaN":"-Infinity"));return i.eq(qi)?new n(0):(St=!1,t=Mr(Mc(i,s),Mc(e,s),s),St=!0,dt(t,r))};Se.minus=Se.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_G(t,e):IG(t,(e.s=-e.s,e))};Se.modulo=Se.mod=function(e){var t,i=this,n=i.constructor,r=n.precision;if(e=new n(e),!e.s)throw Error(Cn+"NaN");return i.s?(St=!1,t=Mr(i,e,0,1).times(e),St=!0,i.minus(t)):dt(new n(i),r)};Se.naturalExponential=Se.exp=function(){return NG(this)};Se.naturalLogarithm=Se.ln=function(){return Mc(this)};Se.negated=Se.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Se.plus=Se.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?IG(t,e):_G(t,(e.s=-e.s,e))};Se.precision=Se.sd=function(e){var t,i,n,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ro+e);if(t=Gt(r)+1,n=r.d.length-1,i=n*mt+1,n=r.d[n],n){for(;n%10==0;n/=10)i--;for(n=r.d[0];n>=10;n/=10)i++}return e&&t>i?t:i};Se.squareRoot=Se.sqrt=function(){var e,t,i,n,r,s,a,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Cn+"NaN")}for(e=Gt(u),St=!1,r=Math.sqrt(+u),r==0||r==1/0?(t=Un(u.d),(t.length+e)%2==0&&(t+="0"),r=Math.sqrt(t),e=Nl((e+1)/2)-(e<0||e%2),r==1/0?t="5e"+e:(t=r.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(r.toString()),i=c.precision,r=a=i+3;;)if(s=n,n=s.plus(Mr(u,s,a+2)).times(.5),Un(s.d).slice(0,a)===(t=Un(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),r==a&&t=="4999"){if(dt(s,i+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;a+=4}return St=!0,dt(n,i)};Se.times=Se.mul=function(e){var t,i,n,r,s,a,u,c,h,p=this,g=p.constructor,m=p.d,y=(e=new g(e)).d;if(!p.s||!e.s)return new g(0);for(e.s*=p.s,i=p.e+e.e,c=m.length,h=y.length,c<h&&(s=m,m=y,y=s,a=c,c=h,h=a),s=[],a=c+h,n=a;n--;)s.push(0);for(n=h;--n>=0;){for(t=0,r=c+n;r>n;)u=s[r]+y[n]*m[r-n-1]+t,s[r--]=u%Yt|0,t=u/Yt|0;s[r]=(s[r]+t)%Yt|0}for(;!s[--a];)s.pop();return t?++i:s.shift(),e.d=s,e.e=i,St?dt(e,g.precision):e};Se.toDecimalPlaces=Se.todp=function(e,t){var i=this,n=i.constructor;return i=new n(i),e===void 0?i:(Zn(e,0,Il),t===void 0?t=n.rounding:Zn(t,0,8),dt(i,e+Gt(i)+1,t))};Se.toExponential=function(e,t){var i,n=this,r=n.constructor;return e===void 0?i=Lo(n,!0):(Zn(e,0,Il),t===void 0?t=r.rounding:Zn(t,0,8),n=dt(new r(n),e+1,t),i=Lo(n,!0,e+1)),i};Se.toFixed=function(e,t){var i,n,r=this,s=r.constructor;return e===void 0?Lo(r):(Zn(e,0,Il),t===void 0?t=s.rounding:Zn(t,0,8),n=dt(new s(r),e+Gt(r)+1,t),i=Lo(n.abs(),!1,e+Gt(n)+1),r.isneg()&&!r.isZero()?"-"+i:i)};Se.toInteger=Se.toint=function(){var e=this,t=e.constructor;return dt(new t(e),Gt(e)+1,t.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(e){var t,i,n,r,s,a,u=this,c=u.constructor,h=12,p=+(e=new c(e));if(!e.s)return new c(qi);if(u=new c(u),!u.s){if(e.s<1)throw Error(Cn+"Infinity");return u}if(u.eq(qi))return u;if(n=c.precision,e.eq(qi))return dt(u,n);if(t=e.e,i=e.d.length-1,a=t>=i,s=u.s,a){if((i=p<0?-p:p)<=LG){for(r=new c(qi),t=Math.ceil(n/mt+4),St=!1;i%2&&(r=r.times(u),H1(r.d,t)),i=Nl(i/2),i!==0;)u=u.times(u),H1(u.d,t);return St=!0,e.s<0?new c(qi).div(r):dt(r,n)}}else if(s<0)throw Error(Cn+"NaN");return s=s<0&&e.d[Math.max(t,i)]&1?-1:1,u.s=1,St=!1,r=e.times(Mc(u,n+h)),St=!0,r=NG(r),r.s=s,r};Se.toPrecision=function(e,t){var i,n,r=this,s=r.constructor;return e===void 0?(i=Gt(r),n=Lo(r,i<=s.toExpNeg||i>=s.toExpPos)):(Zn(e,1,Il),t===void 0?t=s.rounding:Zn(t,0,8),r=dt(new s(r),e,t),i=Gt(r),n=Lo(r,e<=i||i<=s.toExpNeg,e)),n};Se.toSignificantDigits=Se.tosd=function(e,t){var i=this,n=i.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Zn(e,1,Il),t===void 0?t=n.rounding:Zn(t,0,8)),dt(new n(i),e,t)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Gt(e),i=e.constructor;return Lo(e,t<=i.toExpNeg||t>=i.toExpPos)};function IG(e,t){var i,n,r,s,a,u,c,h,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),St?dt(t,g):t;if(c=e.d,h=t.d,a=e.e,r=t.e,c=c.slice(),s=a-r,s){for(s<0?(n=c,s=-s,u=h.length):(n=h,r=a,u=c.length),a=Math.ceil(g/mt),u=a>u?a+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=c.length,s=h.length,u-s<0&&(s=u,n=h,h=c,c=n),i=0;s;)i=(c[--s]=c[s]+h[s]+i)/Yt|0,c[s]%=Yt;for(i&&(c.unshift(i),++r),u=c.length;c[--u]==0;)c.pop();return t.d=c,t.e=r,St?dt(t,g):t}function Zn(e,t,i){if(e!==~~e||e<t||e>i)throw Error(Ro+e)}function Un(e){var t,i,n,r=e.length-1,s="",a=e[0];if(r>0){for(s+=a,t=1;t<r;t++)n=e[t]+"",i=mt-n.length,i&&(s+=ys(i)),s+=n;a=e[t],n=a+"",i=mt-n.length,i&&(s+=ys(i))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Mr=(function(){function e(n,r){var s,a=0,u=n.length;for(n=n.slice();u--;)s=n[u]*r+a,n[u]=s%Yt|0,a=s/Yt|0;return a&&n.unshift(a),n}function t(n,r,s,a){var u,c;if(s!=a)c=s>a?1:-1;else for(u=c=0;u<s;u++)if(n[u]!=r[u]){c=n[u]>r[u]?1:-1;break}return c}function i(n,r,s){for(var a=0;s--;)n[s]-=a,a=n[s]<r[s]?1:0,n[s]=a*Yt+n[s]-r[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,r,s,a){var u,c,h,p,g,m,y,b,w,S,x,E,R,T,A,P,F,I,k=n.constructor,W=n.s==r.s?1:-1,V=n.d,B=r.d;if(!n.s)return new k(n);if(!r.s)throw Error(Cn+"Division by zero");for(c=n.e-r.e,F=B.length,A=V.length,y=new k(W),b=y.d=[],h=0;B[h]==(V[h]||0);)++h;if(B[h]>(V[h]||0)&&--c,s==null?E=s=k.precision:a?E=s+(Gt(n)-Gt(r))+1:E=s,E<0)return new k(0);if(E=E/mt+2|0,h=0,F==1)for(p=0,B=B[0],E++;(h<A||p)&&E--;h++)R=p*Yt+(V[h]||0),b[h]=R/B|0,p=R%B|0;else{for(p=Yt/(B[0]+1)|0,p>1&&(B=e(B,p),V=e(V,p),F=B.length,A=V.length),T=F,w=V.slice(0,F),S=w.length;S<F;)w[S++]=0;I=B.slice(),I.unshift(0),P=B[0],B[1]>=Yt/2&&++P;do p=0,u=t(B,w,F,S),u<0?(x=w[0],F!=S&&(x=x*Yt+(w[1]||0)),p=x/P|0,p>1?(p>=Yt&&(p=Yt-1),g=e(B,p),m=g.length,S=w.length,u=t(g,w,m,S),u==1&&(p--,i(g,F<m?I:B,m))):(p==0&&(u=p=1),g=B.slice()),m=g.length,m<S&&g.unshift(0),i(w,g,S),u==-1&&(S=w.length,u=t(B,w,F,S),u<1&&(p++,i(w,F<S?I:B,S))),S=w.length):u===0&&(p++,w=[0]),b[h++]=p,u&&w[0]?w[S++]=V[T]||0:(w=[V[T]],S=1);while((T++<A||w[0]!==void 0)&&E--)}return b[0]||b.shift(),y.e=c,dt(y,a?s+Gt(y)+1:s)}})();function NG(e,t){var i,n,r,s,a,u,c=0,h=0,p=e.constructor,g=p.precision;if(Gt(e)>16)throw Error(lR+Gt(e));if(!e.s)return new p(qi);for(St=!1,u=g,a=new p(.03125);e.abs().gte(.1);)e=e.times(a),h+=5;for(n=Math.log(so(2,h))/Math.LN10*2+5|0,u+=n,i=r=s=new p(qi),p.precision=u;;){if(r=dt(r.times(e),u),i=i.times(++c),a=s.plus(Mr(r,i,u)),Un(a.d).slice(0,u)===Un(s.d).slice(0,u)){for(;h--;)s=dt(s.times(s),u);return p.precision=g,t==null?(St=!0,dt(s,g)):s}s=a}}function Gt(e){for(var t=e.e*mt,i=e.d[0];i>=10;i/=10)t++;return t}function ab(e,t,i){if(t>e.LN10.sd())throw St=!0,i&&(e.precision=i),Error(Cn+"LN10 precision limit exceeded");return dt(new e(e.LN10),t)}function ys(e){for(var t="";e--;)t+="0";return t}function Mc(e,t){var i,n,r,s,a,u,c,h,p,g=1,m=10,y=e,b=y.d,w=y.constructor,S=w.precision;if(y.s<1)throw Error(Cn+(y.s?"NaN":"-Infinity"));if(y.eq(qi))return new w(0);if(t==null?(St=!1,h=S):h=t,y.eq(10))return t==null&&(St=!0),ab(w,h);if(h+=m,w.precision=h,i=Un(b),n=i.charAt(0),s=Gt(y),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&i.charAt(1)>3;)y=y.times(e),i=Un(y.d),n=i.charAt(0),g++;s=Gt(y),n>1?(y=new w("0."+i),s++):y=new w(n+"."+i.slice(1))}else return c=ab(w,h+2,S).times(s+""),y=Mc(new w(n+"."+i.slice(1)),h-m).plus(c),w.precision=S,t==null?(St=!0,dt(y,S)):y;for(u=a=y=Mr(y.minus(qi),y.plus(qi),h),p=dt(y.times(y),h),r=3;;){if(a=dt(a.times(p),h),c=u.plus(Mr(a,new w(r),h)),Un(c.d).slice(0,h)===Un(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(ab(w,h+2,S).times(s+""))),u=Mr(u,new w(g),h),w.precision=S,t==null?(St=!0,dt(u,S)):u;u=c,r+=2}}function B1(e,t){var i,n,r;for((i=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(i<0&&(i=n),i+=+t.slice(n+1),t=t.substring(0,n)):i<0&&(i=t.length),n=0;t.charCodeAt(n)===48;)++n;for(r=t.length;t.charCodeAt(r-1)===48;)--r;if(t=t.slice(n,r),t){if(r-=n,i=i-n-1,e.e=Nl(i/mt),e.d=[],n=(i+1)%mt,i<0&&(n+=mt),n<r){for(n&&e.d.push(+t.slice(0,n)),r-=mt;n<r;)e.d.push(+t.slice(n,n+=mt));t=t.slice(n),n=mt-t.length}else n-=r;for(;n--;)t+="0";if(e.d.push(+t),St&&(e.e>kf||e.e<-kf))throw Error(lR+i)}else e.s=0,e.e=0,e.d=[0];return e}function dt(e,t,i){var n,r,s,a,u,c,h,p,g=e.d;for(a=1,s=g[0];s>=10;s/=10)a++;if(n=t-a,n<0)n+=mt,r=t,h=g[p=0];else{if(p=Math.ceil((n+1)/mt),s=g.length,p>=s)return e;for(h=s=g[p],a=1;s>=10;s/=10)a++;n%=mt,r=n-mt+a}if(i!==void 0&&(s=so(10,a-r-1),u=h/s%10|0,c=t<0||g[p+1]!==void 0||h%s,c=i<4?(u||c)&&(i==0||i==(e.s<0?3:2)):u>5||u==5&&(i==4||c||i==6&&(n>0?r>0?h/so(10,a-r):0:g[p-1])%10&1||i==(e.s<0?8:7))),t<1||!g[0])return c?(s=Gt(e),g.length=1,t=t-s-1,g[0]=so(10,(mt-t%mt)%mt),e.e=Nl(-t/mt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=p,s=1,p--):(g.length=p+1,s=so(10,mt-n),g[p]=r>0?(h/so(10,a-r)%so(10,r)|0)*s:0),c)for(;;)if(p==0){(g[0]+=s)==Yt&&(g[0]=1,++e.e);break}else{if(g[p]+=s,g[p]!=Yt)break;g[p--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(St&&(e.e>kf||e.e<-kf))throw Error(lR+Gt(e));return e}function _G(e,t){var i,n,r,s,a,u,c,h,p,g,m=e.constructor,y=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),St?dt(t,y):t;if(c=e.d,g=t.d,n=t.e,h=e.e,c=c.slice(),a=h-n,a){for(p=a<0,p?(i=c,a=-a,u=g.length):(i=g,n=h,u=c.length),r=Math.max(Math.ceil(y/mt),u)+2,a>r&&(a=r,i.length=1),i.reverse(),r=a;r--;)i.push(0);i.reverse()}else{for(r=c.length,u=g.length,p=r<u,p&&(u=r),r=0;r<u;r++)if(c[r]!=g[r]){p=c[r]<g[r];break}a=0}for(p&&(i=c,c=g,g=i,t.s=-t.s),u=c.length,r=g.length-u;r>0;--r)c[u++]=0;for(r=g.length;r>a;){if(c[--r]<g[r]){for(s=r;s&&c[--s]===0;)c[s]=Yt-1;--c[s],c[r]+=Yt}c[r]-=g[r]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,St?dt(t,y):t):new m(0)}function Lo(e,t,i){var n,r=Gt(e),s=Un(e.d),a=s.length;return t?(i&&(n=i-a)>0?s=s.charAt(0)+"."+s.slice(1)+ys(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(r<0?"e":"e+")+r):r<0?(s="0."+ys(-r-1)+s,i&&(n=i-a)>0&&(s+=ys(n))):r>=a?(s+=ys(r+1-a),i&&(n=i-r-1)>0&&(s=s+"."+ys(n))):((n=r+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),i&&(n=i-a)>0&&(r+1===a&&(s+="."),s+=ys(n))),e.s<0?"-"+s:s}function H1(e,t){if(e.length>t)return e.length=t,!0}function kG(e){var t,i,n;function r(s){var a=this;if(!(a instanceof r))return new r(s);if(a.constructor=r,s instanceof r){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ro+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return B1(a,s.toString())}else if(typeof s!="string")throw Error(Ro+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,ete.test(s))B1(a,s);else throw Error(Ro+s)}if(r.prototype=Se,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=kG,r.config=r.set=tte,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(i=n[t++])||(e[i]=this[i]);return r.config(e),r}function tte(e){if(!e||typeof e!="object")throw Error(Cn+"Object expected");var t,i,n,r=["precision",1,Il,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<r.length;t+=3)if((n=e[i=r[t]])!==void 0)if(Nl(n)===n&&n>=r[t+1]&&n<=r[t+2])this[i]=n;else throw Error(Ro+i+": "+n);if((n=e[i="LN10"])!==void 0)if(n==Math.LN10)this[i]=new this(n);else throw Error(Ro+i+": "+n);return this}var uR=kG(Jee);qi=new uR(1);const lt=uR;function ite(e){return ote(e)||ste(e)||rte(e)||nte()}function nte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rte(e,t){if(e){if(typeof e=="string")return _w(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _w(e,t)}}function ste(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ote(e){if(Array.isArray(e))return _w(e)}function _w(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var ate=function(t){return t},GG={},BG=function(t){return t===GG},V1=function(t){return function i(){return arguments.length===0||arguments.length===1&&BG(arguments.length<=0?void 0:arguments[0])?i:t.apply(void 0,arguments)}},lte=function e(t,i){return t===1?i:V1(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var a=r.filter(function(u){return u!==GG}).length;return a>=t?i.apply(void 0,r):e(t-a,V1(function(){for(var u=arguments.length,c=new Array(u),h=0;h<u;h++)c[h]=arguments[h];var p=r.map(function(g){return BG(g)?c.shift():g});return i.apply(void 0,ite(p).concat(c))}))})},jp=function(t){return lte(t.length,t)},kw=function(t,i){for(var n=[],r=t;r<i;++r)n[r-t]=r;return n},ute=jp(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(i){return t[i]}).map(e)}),cte=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];if(!i.length)return ate;var r=i.reverse(),s=r[0],a=r.slice(1);return function(){return a.reduce(function(u,c){return c(u)},s.apply(void 0,arguments))}},Gw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},HG=function(t){var i=null,n=null;return function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i&&s.every(function(u,c){return u===i[c]})||(i=s,n=t.apply(void 0,s)),n}};function dte(e){var t;return e===0?t=1:t=Math.floor(new lt(e).abs().log(10).toNumber())+1,t}function hte(e,t,i){for(var n=new lt(e),r=0,s=[];n.lt(t)&&r<1e5;)s.push(n.toNumber()),n=n.add(i),r++;return s}var fte=jp(function(e,t,i){var n=+e,r=+t;return n+i*(r-n)}),pte=jp(function(e,t,i){var n=t-+e;return n=n||1/0,(i-e)/n}),gte=jp(function(e,t,i){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(i-e)/n))});const zp={rangeStep:hte,getDigitCount:dte,interpolateNumber:fte,uninterpolateNumber:pte,uninterpolateTruncation:gte};function Bw(e){return yte(e)||vte(e)||VG(e)||mte()}function mte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vte(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function yte(e){if(Array.isArray(e))return Hw(e)}function Fc(e,t){return bte(e)||Ste(e,t)||VG(e,t)||Cte()}function Cte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VG(e,t){if(e){if(typeof e=="string")return Hw(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Hw(e,t)}}function Hw(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function Ste(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var i=[],n=!0,r=!1,s=void 0;try{for(var a=e[Symbol.iterator](),u;!(n=(u=a.next()).done)&&(i.push(u.value),!(t&&i.length===t));n=!0);}catch(c){r=!0,s=c}finally{try{!n&&a.return!=null&&a.return()}finally{if(r)throw s}}return i}}function bte(e){if(Array.isArray(e))return e}function jG(e){var t=Fc(e,2),i=t[0],n=t[1],r=i,s=n;return i>n&&(r=n,s=i),[r,s]}function zG(e,t,i){if(e.lte(0))return new lt(0);var n=zp.getDigitCount(e.toNumber()),r=new lt(10).pow(n),s=e.div(r),a=n!==1?.05:.1,u=new lt(Math.ceil(s.div(a).toNumber())).add(i).mul(a),c=u.mul(r);return t?c:new lt(Math.ceil(c))}function wte(e,t,i){var n=1,r=new lt(e);if(!r.isint()&&i){var s=Math.abs(e);s<1?(n=new lt(10).pow(zp.getDigitCount(e)-1),r=new lt(Math.floor(r.div(n).toNumber())).mul(n)):s>1&&(r=new lt(Math.floor(e)))}else e===0?r=new lt(Math.floor((t-1)/2)):i||(r=new lt(Math.floor(e)));var a=Math.floor((t-1)/2),u=cte(ute(function(c){return r.add(new lt(c-a).mul(n)).toNumber()}),kw);return u(0,t)}function WG(e,t,i,n){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(i-1)))return{step:new lt(0),tickMin:new lt(0),tickMax:new lt(0)};var s=zG(new lt(t).sub(e).div(i-1),n,r),a;e<=0&&t>=0?a=new lt(0):(a=new lt(e).add(t).div(2),a=a.sub(new lt(a).mod(s)));var u=Math.ceil(a.sub(e).div(s).toNumber()),c=Math.ceil(new lt(t).sub(a).div(s).toNumber()),h=u+c+1;return h>i?WG(e,t,i,n,r+1):(h<i&&(c=t>0?c+(i-h):c,u=t>0?u:u+(i-h)),{step:s,tickMin:a.sub(new lt(u).mul(s)),tickMax:a.add(new lt(c).mul(s))})}function xte(e){var t=Fc(e,2),i=t[0],n=t[1],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),u=jG([i,n]),c=Fc(u,2),h=c[0],p=c[1];if(h===-1/0||p===1/0){var g=p===1/0?[h].concat(Bw(kw(0,r-1).map(function(){return 1/0}))):[].concat(Bw(kw(0,r-1).map(function(){return-1/0})),[p]);return i>n?Gw(g):g}if(h===p)return wte(h,r,s);var m=WG(h,p,a,s),y=m.step,b=m.tickMin,w=m.tickMax,S=zp.rangeStep(b,w.add(new lt(.1).mul(y)),y);return i>n?Gw(S):S}function Rte(e,t){var i=Fc(e,2),n=i[0],r=i[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=jG([n,r]),u=Fc(a,2),c=u[0],h=u[1];if(c===-1/0||h===1/0)return[n,r];if(c===h)return[c];var p=Math.max(t,2),g=zG(new lt(h).sub(c).div(p-1),s,0),m=[].concat(Bw(zp.rangeStep(new lt(c),new lt(h).sub(new lt(.99).mul(g)),g)),[h]);return n>r?Gw(m):m}var Ete=HG(xte),Ate=HG(Rte),Pte="Invariant failed";function Io(e,t){throw new Error(Pte)}var Dte=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function rl(e){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Gf.apply(this,arguments)}function Tte(e,t){return Lte(e)||Ote(e,t)||Fte(e,t)||Mte()}function Mte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fte(e,t){if(e){if(typeof e=="string")return j1(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return j1(e,t)}}function j1(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function Ote(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var n,r,s,a,u=[],c=!0,h=!1;try{if(s=(i=i.call(e)).next,t!==0)for(;!(c=(n=s.call(i)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(p){h=!0,r=p}finally{try{if(!c&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(h)throw r}}return u}}function Lte(e){if(Array.isArray(e))return e}function Ite(e,t){if(e==null)return{};var i=Nte(e,t),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nte(e,t){if(e==null)return{};var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}function _te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kte(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qG(n.key),n)}}function Gte(e,t,i){return t&&kte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bte(e,t,i){return t=Bf(t),Hte(e,UG()?Reflect.construct(t,i||[],Bf(e).constructor):t.apply(e,i))}function Hte(e,t){if(t&&(rl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vte(e)}function Vte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UG=function(){return!!e})()}function Bf(e){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Bf(e)}function jte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vw(e,t)}function Vw(e,t){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Vw(e,t)}function $G(e,t,i){return t=qG(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function qG(e){var t=zte(e,"string");return rl(t)=="symbol"?t:t+""}function zte(e,t){if(rl(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _l=(function(e){function t(){return _te(this,t),Bte(this,t,arguments)}return jte(t,e),Gte(t,[{key:"render",value:function(){var n=this.props,r=n.offset,s=n.layout,a=n.width,u=n.dataKey,c=n.data,h=n.dataPointFormatter,p=n.xAxis,g=n.yAxis,m=Ite(n,Dte),y=Ie(m,!1);this.props.direction==="x"&&p.type!=="number"&&Io();var b=c.map(function(w){var S=h(w,u),x=S.x,E=S.y,R=S.value,T=S.errorVal;if(!T)return null;var A=[],P,F;if(Array.isArray(T)){var I=Tte(T,2);P=I[0],F=I[1]}else P=F=T;if(s==="vertical"){var k=p.scale,W=E+r,V=W+a,B=W-a,K=k(R-P),Y=k(R+F);A.push({x1:Y,y1:V,x2:Y,y2:B}),A.push({x1:K,y1:W,x2:Y,y2:W}),A.push({x1:K,y1:V,x2:K,y2:B})}else if(s==="horizontal"){var H=g.scale,_=x+r,U=_-a,Q=_+a,ae=H(R-P),de=H(R+F);A.push({x1:U,y1:de,x2:Q,y2:de}),A.push({x1:_,y1:ae,x2:_,y2:de}),A.push({x1:U,y1:ae,x2:Q,y2:ae})}return N.createElement(et,Gf({className:"recharts-errorBar",key:"bar-".concat(A.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},y),A.map(function(G){return N.createElement("line",Gf({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return N.createElement(et,{className:"recharts-errorBars"},b)}}])})(N.Component);$G(_l,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});$G(_l,"displayName","ErrorBar");function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function z1(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function to(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?z1(Object(i),!0).forEach(function(n){Wte(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):z1(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Wte(e,t,i){return t=Ute(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ute(e){var t=$te(e,"string");return Oc(t)=="symbol"?t:t+""}function $te(e,t){if(Oc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KG=function(t){var i=t.children,n=t.formattedGraphicalItems,r=t.legendWidth,s=t.legendContent,a=$i(i,wo);if(!a)return null;var u=wo.defaultProps,c=u!==void 0?to(to({},u),a.props):{},h;return a.props&&a.props.payload?h=a.props&&a.props.payload:s==="children"?h=(n||[]).reduce(function(p,g){var m=g.item,y=g.props,b=y.sectors||y.data||[];return p.concat(b.map(function(w){return{type:a.props.iconType||m.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):h=(n||[]).map(function(p){var g=p.item,m=g.type.defaultProps,y=m!==void 0?to(to({},m),g.props):{},b=y.dataKey,w=y.name,S=y.legendType,x=y.hide;return{inactive:x,dataKey:b,type:c.iconType||S||"square",color:cR(g),value:w||b,payload:y}}),to(to(to({},c),wo.getWithHeight(a,r)),{},{payload:h,item:a})};function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function W1(e){return Xte(e)||Yte(e)||Kte(e)||qte()}function qte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kte(e,t){if(e){if(typeof e=="string")return jw(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return jw(e,t)}}function Yte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xte(e){if(Array.isArray(e))return jw(e)}function jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function U1(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Et(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?U1(Object(i),!0).forEach(function(n){Wa(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):U1(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Wa(e,t,i){return t=Qte(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Qte(e){var t=Zte(e,"string");return Lc(t)=="symbol"?t:t+""}function Zte(e,t){if(Lc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wt(e,t,i){return Oe(e)||Oe(t)?i:zt(t)?yn(e,t,i):Ge(t)?t(e):i}function rc(e,t,i,n){var r=Xee(e,function(u){return Wt(u,t)});if(i==="number"){var s=r.filter(function(u){return me(u)||parseFloat(u)});return s.length?[Vp(s),Cs(s)]:[1/0,-1/0]}var a=n?r.filter(function(u){return!Oe(u)}):r;return a.map(function(u){return zt(u)||u instanceof Date?u:""})}var Jte=function(t){var i,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,u=(i=n==null?void 0:n.length)!==null&&i!==void 0?i:0;if(u<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,h=0;h<u;h++){var p=h>0?r[h-1].coordinate:r[u-1].coordinate,g=r[h].coordinate,m=h>=u-1?r[0].coordinate:r[h+1].coordinate,y=void 0;if(Ln(g-p)!==Ln(m-g)){var b=[];if(Ln(m-g)===Ln(c[1]-c[0])){y=m;var w=g+c[1]-c[0];b[0]=Math.min(w,(w+p)/2),b[1]=Math.max(w,(w+p)/2)}else{y=p;var S=m+c[1]-c[0];b[0]=Math.min(g,(S+g)/2),b[1]=Math.max(g,(S+g)/2)}var x=[Math.min(g,(y+g)/2),Math.max(g,(y+g)/2)];if(t>x[0]&&t<=x[1]||t>=b[0]&&t<=b[1]){a=r[h].index;break}}else{var E=Math.min(p,m),R=Math.max(p,m);if(t>(E+g)/2&&t<=(R+g)/2){a=r[h].index;break}}}else for(var T=0;T<u;T++)if(T===0&&t<=(n[T].coordinate+n[T+1].coordinate)/2||T>0&&T<u-1&&t>(n[T].coordinate+n[T-1].coordinate)/2&&t<=(n[T].coordinate+n[T+1].coordinate)/2||T===u-1&&t>(n[T].coordinate+n[T-1].coordinate)/2){a=n[T].index;break}return a},cR=function(t){var i,n=t,r=n.type.displayName,s=(i=t.type)!==null&&i!==void 0&&i.defaultProps?Et(Et({},t.type.defaultProps),t.props):t.props,a=s.stroke,u=s.fill,c;switch(r){case"Line":c=a;break;case"Area":case"Radar":c=a&&a!=="none"?a:u;break;default:c=u;break}return c},eie=function(t){var i=t.barSize,n=t.totalSize,r=t.stackGroups,s=r===void 0?{}:r;if(!s)return{};for(var a={},u=Object.keys(s),c=0,h=u.length;c<h;c++)for(var p=s[u[c]].stackGroups,g=Object.keys(p),m=0,y=g.length;m<y;m++){var b=p[g[m]],w=b.items,S=b.cateAxisId,x=w.filter(function(F){return Tr(F.type).indexOf("Bar")>=0});if(x&&x.length){var E=x[0].type.defaultProps,R=E!==void 0?Et(Et({},E),x[0].props):x[0].props,T=R.barSize,A=R[S];a[A]||(a[A]=[]);var P=Oe(T)?i:T;a[A].push({item:x[0],stackList:x.slice(1),barSize:Oe(P)?void 0:Fo(P,n,0)})}}return a},tie=function(t){var i=t.barGap,n=t.barCategoryGap,r=t.bandSize,s=t.sizeList,a=s===void 0?[]:s,u=t.maxBarSize,c=a.length;if(c<1)return null;var h=Fo(i,r,0,!0),p,g=[];if(a[0].barSize===+a[0].barSize){var m=!1,y=r/c,b=a.reduce(function(T,A){return T+A.barSize||0},0);b+=(c-1)*h,b>=r&&(b-=(c-1)*h,h=0),b>=r&&y>0&&(m=!0,y*=.9,b=c*y);var w=(r-b)/2>>0,S={offset:w-h,size:0};p=a.reduce(function(T,A){var P={item:A.item,position:{offset:S.offset+S.size+h,size:m?y:A.barSize}},F=[].concat(W1(T),[P]);return S=F[F.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(I){F.push({item:I,position:S})}),F},g)}else{var x=Fo(n,r,0,!0);r-2*x-(c-1)*h<=0&&(h=0);var E=(r-2*x-(c-1)*h)/c;E>1&&(E>>=0);var R=u===+u?Math.min(E,u):E;p=a.reduce(function(T,A,P){var F=[].concat(W1(T),[{item:A.item,position:{offset:x+(E+h)*P+(E-R)/2,size:R}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(I){F.push({item:I,position:F[F.length-1].position})}),F},g)}return p},iie=function(t,i,n,r){var s=n.children,a=n.width,u=n.margin,c=a-(u.left||0)-(u.right||0),h=KG({children:s,legendWidth:c});if(h){var p=r||{},g=p.width,m=p.height,y=h.align,b=h.verticalAlign,w=h.layout;if((w==="vertical"||w==="horizontal"&&b==="middle")&&y!=="center"&&me(t[y]))return Et(Et({},t),{},Wa({},y,t[y]+(g||0)));if((w==="horizontal"||w==="vertical"&&y==="center")&&b!=="middle"&&me(t[b]))return Et(Et({},t),{},Wa({},b,t[b]+(m||0)))}return t},nie=function(t,i,n){return Oe(i)?!0:t==="horizontal"?i==="yAxis":t==="vertical"||n==="x"?i==="xAxis":n==="y"?i==="yAxis":!0},YG=function(t,i,n,r,s){var a=i.props.children,u=Fi(a,_l).filter(function(h){return nie(r,s,h.props.direction)});if(u&&u.length){var c=u.map(function(h){return h.props.dataKey});return t.reduce(function(h,p){var g=Wt(p,n);if(Oe(g))return h;var m=Array.isArray(g)?[Vp(g),Cs(g)]:[g,g],y=c.reduce(function(b,w){var S=Wt(p,w,0),x=m[0]-Math.abs(Array.isArray(S)?S[0]:S),E=m[1]+Math.abs(Array.isArray(S)?S[1]:S);return[Math.min(x,b[0]),Math.max(E,b[1])]},[1/0,-1/0]);return[Math.min(y[0],h[0]),Math.max(y[1],h[1])]},[1/0,-1/0])}return null},rie=function(t,i,n,r,s){var a=i.map(function(u){return YG(t,u,n,s,r)}).filter(function(u){return!Oe(u)});return a&&a.length?a.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},XG=function(t,i,n,r,s){var a=i.map(function(c){var h=c.props.dataKey;return n==="number"&&h&&YG(t,c,h,r)||rc(t,h,n,s)});if(n==="number")return a.reduce(function(c,h){return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);var u={};return a.reduce(function(c,h){for(var p=0,g=h.length;p<g;p++)u[h[p]]||(u[h[p]]=!0,c.push(h[p]));return c},[])},QG=function(t,i){return t==="horizontal"&&i==="xAxis"||t==="vertical"&&i==="yAxis"||t==="centric"&&i==="angleAxis"||t==="radial"&&i==="radiusAxis"},po=function(t,i,n){if(!t)return null;var r=t.scale,s=t.duplicateDomain,a=t.type,u=t.range,c=t.realScaleType==="scaleBand"?r.bandwidth()/2:2,h=(i||n)&&a==="category"&&r.bandwidth?r.bandwidth()/c:0;if(h=t.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?Ln(u[0]-u[1])*2*h:h,i&&(t.ticks||t.niceTicks)){var p=(t.ticks||t.niceTicks).map(function(g){var m=s?s.indexOf(g):g;return{coordinate:r(m)+h,value:g,offset:h}});return p.filter(function(g){return!Fl(g.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(g,m){return{coordinate:r(g)+h,value:g,index:m,offset:h}}):r.ticks&&!n?r.ticks(t.tickCount).map(function(g){return{coordinate:r(g)+h,value:g,offset:h}}):r.domain().map(function(g,m){return{coordinate:r(g)+h,value:s?s[g]:g,index:m,offset:h}})},lb=new WeakMap,Vh=function(t,i){if(typeof i!="function")return t;lb.has(t)||lb.set(t,new WeakMap);var n=lb.get(t);if(n.has(i))return n.get(i);var r=function(){t.apply(void 0,arguments),i.apply(void 0,arguments)};return n.set(i,r),r},sie=function(t,i,n){var r=t.scale,s=t.type,a=t.layout,u=t.axisType;if(r==="auto")return a==="radial"&&u==="radiusAxis"?{scale:Ec(),realScaleType:"band"}:a==="radial"&&u==="angleAxis"?{scale:Lf(),realScaleType:"linear"}:s==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!n)?{scale:nc(),realScaleType:"point"}:s==="category"?{scale:Ec(),realScaleType:"band"}:{scale:Lf(),realScaleType:"linear"};if(Mo(r)){var c="scale".concat(Pp(r));return{scale:(M1[c]||nc)(),realScaleType:M1[c]?c:"point"}}return Ge(r)?{scale:r}:{scale:nc(),realScaleType:"point"}},$1=1e-4,oie=function(t){var i=t.domain();if(!(!i||i.length<=2)){var n=i.length,r=t.range(),s=Math.min(r[0],r[1])-$1,a=Math.max(r[0],r[1])+$1,u=t(i[0]),c=t(i[n-1]);(u<s||u>a||c<s||c>a)&&t.domain([i[0],i[n-1]])}},aie=function(t,i){if(!t)return null;for(var n=0,r=t.length;n<r;n++)if(t[n].item===i)return t[n].position;return null},lie=function(t,i){if(!i||i.length!==2||!me(i[0])||!me(i[1]))return t;var n=Math.min(i[0],i[1]),r=Math.max(i[0],i[1]),s=[t[0],t[1]];return(!me(t[0])||t[0]<n)&&(s[0]=n),(!me(t[1])||t[1]>r)&&(s[1]=r),s[0]>r&&(s[0]=r),s[1]<n&&(s[1]=n),s},uie=function(t){var i=t.length;if(!(i<=0))for(var n=0,r=t[0].length;n<r;++n)for(var s=0,a=0,u=0;u<i;++u){var c=Fl(t[u][n][1])?t[u][n][0]:t[u][n][1];c>=0?(t[u][n][0]=s,t[u][n][1]=s+c,s=t[u][n][1]):(t[u][n][0]=a,t[u][n][1]=a+c,a=t[u][n][1])}},cie=function(t){var i=t.length;if(!(i<=0))for(var n=0,r=t[0].length;n<r;++n)for(var s=0,a=0;a<i;++a){var u=Fl(t[a][n][1])?t[a][n][0]:t[a][n][1];u>=0?(t[a][n][0]=s,t[a][n][1]=s+u,s=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},die={sign:uie,expand:K9,none:Xa,silhouette:Y9,wiggle:X9,positive:cie},hie=function(t,i,n){var r=i.map(function(u){return u.props.dataKey}),s=die[n],a=q9().keys(r).value(function(u,c){return+Wt(u,c,0)}).order(yw).offset(s);return a(t)},fie=function(t,i,n,r,s,a){if(!t)return null;var u=a?i.reverse():i,c={},h=u.reduce(function(g,m){var y,b=(y=m.type)!==null&&y!==void 0&&y.defaultProps?Et(Et({},m.type.defaultProps),m.props):m.props,w=b.stackId,S=b.hide;if(S)return g;var x=b[n],E=g[x]||{hasStack:!1,stackGroups:{}};if(zt(w)){var R=E.stackGroups[w]||{numericAxisId:n,cateAxisId:r,items:[]};R.items.push(m),E.hasStack=!0,E.stackGroups[w]=R}else E.stackGroups[Ho("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[m]};return Et(Et({},g),{},Wa({},x,E))},c),p={};return Object.keys(h).reduce(function(g,m){var y=h[m];if(y.hasStack){var b={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(w,S){var x=y.stackGroups[S];return Et(Et({},w),{},Wa({},S,{numericAxisId:n,cateAxisId:r,items:x.items,stackedData:hie(t,x.items,s)}))},b)}return Et(Et({},g),{},Wa({},m,y))},p)},pie=function(t,i){var n=i.realScaleType,r=i.type,s=i.tickCount,a=i.originalDomain,u=i.allowDecimals,c=n||i.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&r==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var h=t.domain();if(!h.length)return null;var p=Ete(h,s,u);return t.domain([Vp(p),Cs(p)]),{niceTicks:p}}if(s&&r==="number"){var g=t.domain(),m=Ate(g,s,u);return{niceTicks:m}}return null};function sl(e){var t=e.axis,i=e.ticks,n=e.bandSize,r=e.entry,s=e.index,a=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Oe(r[t.dataKey])){var u=ff(i,"value",r[t.dataKey]);if(u)return u.coordinate+n/2}return i[s]?i[s].coordinate+n/2:null}var c=Wt(r,Oe(a)?t.dataKey:a);return Oe(c)?null:t.scale(c)}var q1=function(t){var i=t.axis,n=t.ticks,r=t.offset,s=t.bandSize,a=t.entry,u=t.index;if(i.type==="category")return n[u]?n[u].coordinate+r:null;var c=Wt(a,i.dataKey,i.domain[u]);return Oe(c)?null:i.scale(c)-s/2+r},gie=function(t){var i=t.numericAxis,n=i.scale.domain();if(i.type==="number"){var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return r<=0&&s>=0?0:s<0?s:r}return n[0]},mie=function(t,i){var n,r=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Et(Et({},t.type.defaultProps),t.props):t.props,s=r.stackId;if(zt(s)){var a=i[s];if(a){var u=a.items.indexOf(t);return u>=0?a.stackedData[u]:null}}return null},vie=function(t){return t.reduce(function(i,n){return[Vp(n.concat([i[0]]).filter(me)),Cs(n.concat([i[1]]).filter(me))]},[1/0,-1/0])},ZG=function(t,i,n){return Object.keys(t).reduce(function(r,s){var a=t[s],u=a.stackedData,c=u.reduce(function(h,p){var g=vie(p.slice(i,n+1));return[Math.min(h[0],g[0]),Math.max(h[1],g[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]).map(function(r){return r===1/0||r===-1/0?0:r})},K1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Y1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zw=function(t,i,n){if(Ge(t))return t(i,n);if(!Array.isArray(t))return i;var r=[];if(me(t[0]))r[0]=n?t[0]:Math.min(t[0],i[0]);else if(K1.test(t[0])){var s=+K1.exec(t[0])[1];r[0]=i[0]-s}else Ge(t[0])?r[0]=t[0](i[0]):r[0]=i[0];if(me(t[1]))r[1]=n?t[1]:Math.max(t[1],i[1]);else if(Y1.test(t[1])){var a=+Y1.exec(t[1])[1];r[1]=i[1]+a}else Ge(t[1])?r[1]=t[1](i[1]):r[1]=i[1];return r},Hf=function(t,i,n){if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&i&&i.length>=2){for(var s=k0(i,function(g){return g.coordinate}),a=1/0,u=1,c=s.length;u<c;u++){var h=s[u],p=s[u-1];a=Math.min((h.coordinate||0)-(p.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},X1=function(t,i,n){return!t||!t.length||Oo(t,yn(n,"type.defaultProps.domain"))?i:t},JG=function(t,i){var n=t.type.defaultProps?Et(Et({},t.type.defaultProps),t.props):t.props,r=n.dataKey,s=n.name,a=n.unit,u=n.formatter,c=n.tooltipType,h=n.chartType,p=n.hide;return Et(Et({},Ie(t,!1)),{},{dataKey:r,unit:a,formatter:u,name:s||r,color:cR(t),value:Wt(i,r),type:c,payload:i,chartType:h,hide:p})};function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function Q1(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Z1(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(i),!0).forEach(function(n){yie(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Q1(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function yie(e,t,i){return t=Cie(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Cie(e){var t=Sie(e,"string");return Ic(t)=="symbol"?t:t+""}function Sie(e,t){if(Ic(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vf=Math.PI/180,bie=function(t){return t*180/Math.PI},ni=function(t,i,n,r){return{x:t+Math.cos(-Vf*r)*n,y:i+Math.sin(-Vf*r)*n}},wie=function(t,i){var n=t.x,r=t.y,s=i.x,a=i.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(r-a,2))},xie=function(t,i){var n=t.x,r=t.y,s=i.cx,a=i.cy,u=wie({x:n,y:r},{x:s,y:a});if(u<=0)return{radius:u};var c=(n-s)/u,h=Math.acos(c);return r>a&&(h=2*Math.PI-h),{radius:u,angle:bie(h),angleInRadian:h}},Rie=function(t){var i=t.startAngle,n=t.endAngle,r=Math.floor(i/360),s=Math.floor(n/360),a=Math.min(r,s);return{startAngle:i-a*360,endAngle:n-a*360}},Eie=function(t,i){var n=i.startAngle,r=i.endAngle,s=Math.floor(n/360),a=Math.floor(r/360),u=Math.min(s,a);return t+u*360},J1=function(t,i){var n=t.x,r=t.y,s=xie({x:n,y:r},i),a=s.radius,u=s.angle,c=i.innerRadius,h=i.outerRadius;if(a<c||a>h)return!1;if(a===0)return!0;var p=Rie(i),g=p.startAngle,m=p.endAngle,y=u,b;if(g<=m){for(;y>m;)y-=360;for(;y<g;)y+=360;b=y>=g&&y<=m}else{for(;y>g;)y-=360;for(;y<m;)y+=360;b=y>=m&&y<=g}return b?Z1(Z1({},i),{},{radius:a,angle:Eie(y,i)}):null};function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}var Aie=["offset"];function Pie(e){return Fie(e)||Mie(e)||Tie(e)||Die()}function Die(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tie(e,t){if(e){if(typeof e=="string")return Ww(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ww(e,t)}}function Mie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fie(e){if(Array.isArray(e))return Ww(e)}function Ww(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function Oie(e,t){if(e==null)return{};var i=Lie(e,t),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lie(e,t){if(e==null)return{};var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}function eL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function jt(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?eL(Object(i),!0).forEach(function(n){Iie(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):eL(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Iie(e,t,i){return t=Nie(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Nie(e){var t=_ie(e,"string");return Nc(t)=="symbol"?t:t+""}function _ie(e,t){if(Nc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},_c.apply(this,arguments)}var kie=function(t){var i=t.value,n=t.formatter,r=Oe(t.children)?i:t.children;return Ge(n)?n(r):r},Gie=function(t,i){var n=Ln(i-t),r=Math.min(Math.abs(i-t),360);return n*r},Bie=function(t,i,n){var r=t.position,s=t.viewBox,a=t.offset,u=t.className,c=s,h=c.cx,p=c.cy,g=c.innerRadius,m=c.outerRadius,y=c.startAngle,b=c.endAngle,w=c.clockWise,S=(g+m)/2,x=Gie(y,b),E=x>=0?1:-1,R,T;r==="insideStart"?(R=y+E*a,T=w):r==="insideEnd"?(R=b-E*a,T=!w):r==="end"&&(R=b+E*a,T=w),T=x<=0?T:!T;var A=ni(h,p,S,R),P=ni(h,p,S,R+(T?1:-1)*359),F="M".concat(A.x,",").concat(A.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(T?0:1,`,
    `).concat(P.x,",").concat(P.y),I=Oe(t.id)?Ho("recharts-radial-line-"):t.id;return N.createElement("text",_c({},n,{dominantBaseline:"central",className:Ue("recharts-radial-bar-label",u)}),N.createElement("defs",null,N.createElement("path",{id:I,d:F})),N.createElement("textPath",{xlinkHref:"#".concat(I)},i))},Hie=function(t){var i=t.viewBox,n=t.offset,r=t.position,s=i,a=s.cx,u=s.cy,c=s.innerRadius,h=s.outerRadius,p=s.startAngle,g=s.endAngle,m=(p+g)/2;if(r==="outside"){var y=ni(a,u,h+n,m),b=y.x,w=y.y;return{x:b,y:w,textAnchor:b>=a?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:a,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:a,y:u,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:a,y:u,textAnchor:"middle",verticalAnchor:"end"};var S=(c+h)/2,x=ni(a,u,S,m),E=x.x,R=x.y;return{x:E,y:R,textAnchor:"middle",verticalAnchor:"middle"}},Vie=function(t){var i=t.viewBox,n=t.parentViewBox,r=t.offset,s=t.position,a=i,u=a.x,c=a.y,h=a.width,p=a.height,g=p>=0?1:-1,m=g*r,y=g>0?"end":"start",b=g>0?"start":"end",w=h>=0?1:-1,S=w*r,x=w>0?"end":"start",E=w>0?"start":"end";if(s==="top"){var R={x:u+h/2,y:c-g*r,textAnchor:"middle",verticalAnchor:y};return jt(jt({},R),n?{height:Math.max(c-n.y,0),width:h}:{})}if(s==="bottom"){var T={x:u+h/2,y:c+p+m,textAnchor:"middle",verticalAnchor:b};return jt(jt({},T),n?{height:Math.max(n.y+n.height-(c+p),0),width:h}:{})}if(s==="left"){var A={x:u-S,y:c+p/2,textAnchor:x,verticalAnchor:"middle"};return jt(jt({},A),n?{width:Math.max(A.x-n.x,0),height:p}:{})}if(s==="right"){var P={x:u+h+S,y:c+p/2,textAnchor:E,verticalAnchor:"middle"};return jt(jt({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:p}:{})}var F=n?{width:h,height:p}:{};return s==="insideLeft"?jt({x:u+S,y:c+p/2,textAnchor:E,verticalAnchor:"middle"},F):s==="insideRight"?jt({x:u+h-S,y:c+p/2,textAnchor:x,verticalAnchor:"middle"},F):s==="insideTop"?jt({x:u+h/2,y:c+m,textAnchor:"middle",verticalAnchor:b},F):s==="insideBottom"?jt({x:u+h/2,y:c+p-m,textAnchor:"middle",verticalAnchor:y},F):s==="insideTopLeft"?jt({x:u+S,y:c+m,textAnchor:E,verticalAnchor:b},F):s==="insideTopRight"?jt({x:u+h-S,y:c+m,textAnchor:x,verticalAnchor:b},F):s==="insideBottomLeft"?jt({x:u+S,y:c+p-m,textAnchor:E,verticalAnchor:y},F):s==="insideBottomRight"?jt({x:u+h-S,y:c+p-m,textAnchor:x,verticalAnchor:y},F):Ml(s)&&(me(s.x)||co(s.x))&&(me(s.y)||co(s.y))?jt({x:u+Fo(s.x,h),y:c+Fo(s.y,p),textAnchor:"end",verticalAnchor:"end"},F):jt({x:u+h/2,y:c+p/2,textAnchor:"middle",verticalAnchor:"middle"},F)},jie=function(t){return"cx"in t&&me(t.cx)};function di(e){var t=e.offset,i=t===void 0?5:t,n=Oie(e,Aie),r=jt({offset:i},n),s=r.viewBox,a=r.position,u=r.value,c=r.children,h=r.content,p=r.className,g=p===void 0?"":p,m=r.textBreakAll;if(!s||Oe(u)&&Oe(c)&&!M.isValidElement(h)&&!Ge(h))return null;if(M.isValidElement(h))return M.cloneElement(h,r);var y;if(Ge(h)){if(y=M.createElement(h,r),M.isValidElement(y))return y}else y=kie(r);var b=jie(s),w=Ie(r,!0);if(b&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Bie(r,y,w);var S=b?Hie(r):Vie(r);return N.createElement(Ef,_c({className:Ue("recharts-label",g)},w,S,{breakAll:m}),y)}di.displayName="Label";var eB=function(t){var i=t.cx,n=t.cy,r=t.angle,s=t.startAngle,a=t.endAngle,u=t.r,c=t.radius,h=t.innerRadius,p=t.outerRadius,g=t.x,m=t.y,y=t.top,b=t.left,w=t.width,S=t.height,x=t.clockWise,E=t.labelViewBox;if(E)return E;if(me(w)&&me(S)){if(me(g)&&me(m))return{x:g,y:m,width:w,height:S};if(me(y)&&me(b))return{x:y,y:b,width:w,height:S}}return me(g)&&me(m)?{x:g,y:m,width:0,height:0}:me(i)&&me(n)?{cx:i,cy:n,startAngle:s||r||0,endAngle:a||r||0,innerRadius:h||0,outerRadius:p||c||u||0,clockWise:x}:t.viewBox?t.viewBox:{}},zie=function(t,i){return t?t===!0?N.createElement(di,{key:"label-implicit",viewBox:i}):zt(t)?N.createElement(di,{key:"label-implicit",viewBox:i,value:t}):M.isValidElement(t)?t.type===di?M.cloneElement(t,{key:"label-implicit",viewBox:i}):N.createElement(di,{key:"label-implicit",content:t,viewBox:i}):Ge(t)?N.createElement(di,{key:"label-implicit",content:t,viewBox:i}):Ml(t)?N.createElement(di,_c({viewBox:i},t,{key:"label-implicit"})):null:null},Wie=function(t,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,s=eB(t),a=Fi(r,di).map(function(c,h){return M.cloneElement(c,{viewBox:i||s,key:"label-".concat(h)})});if(!n)return a;var u=zie(t.label,i||s);return[u].concat(Pie(a))};di.parseViewBox=eB;di.renderCallByParent=Wie;var ub,tL;function Uie(){if(tL)return ub;tL=1;function e(t){var i=t==null?0:t.length;return i?t[i-1]:void 0}return ub=e,ub}var $ie=Uie();const qie=ut($ie);function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}var Kie=["valueAccessor"],Yie=["data","dataKey","clockWise","id","textBreakAll"];function Xie(e){return ene(e)||Jie(e)||Zie(e)||Qie()}function Qie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zie(e,t){if(e){if(typeof e=="string")return Uw(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Uw(e,t)}}function Jie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ene(e){if(Array.isArray(e))return Uw(e)}function Uw(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},jf.apply(this,arguments)}function iL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function nL(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?iL(Object(i),!0).forEach(function(n){tne(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):iL(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function tne(e,t,i){return t=ine(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ine(e){var t=nne(e,"string");return kc(t)=="symbol"?t:t+""}function nne(e,t){if(kc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rL(e,t){if(e==null)return{};var i=rne(e,t),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rne(e,t){if(e==null)return{};var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}var sne=function(t){return Array.isArray(t.value)?qie(t.value):t.value};function Yn(e){var t=e.valueAccessor,i=t===void 0?sne:t,n=rL(e,Kie),r=n.data,s=n.dataKey,a=n.clockWise,u=n.id,c=n.textBreakAll,h=rL(n,Yie);return!r||!r.length?null:N.createElement(et,{className:"recharts-label-list"},r.map(function(p,g){var m=Oe(s)?i(p,g):Wt(p&&p.payload,s),y=Oe(u)?{}:{id:"".concat(u,"-").concat(g)};return N.createElement(di,jf({},Ie(p,!0),h,y,{parentViewBox:p.parentViewBox,value:m,textBreakAll:c,viewBox:di.parseViewBox(Oe(a)?p:nL(nL({},p),{},{clockWise:a})),key:"label-".concat(g),index:g}))}))}Yn.displayName="LabelList";function one(e,t){return e?e===!0?N.createElement(Yn,{key:"labelList-implicit",data:t}):N.isValidElement(e)||Ge(e)?N.createElement(Yn,{key:"labelList-implicit",data:t,content:e}):Ml(e)?N.createElement(Yn,jf({data:t},e,{key:"labelList-implicit"})):null:null}function ane(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&i&&!e.label)return null;var n=e.children,r=Fi(n,Yn).map(function(a,u){return M.cloneElement(a,{data:t,key:"labelList-".concat(u)})});if(!i)return r;var s=one(e.label,t);return[s].concat(Xie(r))}Yn.renderCallByParent=ane;function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function $w(){return $w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},$w.apply(this,arguments)}function sL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function oL(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?sL(Object(i),!0).forEach(function(n){lne(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):sL(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function lne(e,t,i){return t=une(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function une(e){var t=cne(e,"string");return Gc(t)=="symbol"?t:t+""}function cne(e,t){if(Gc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dne=function(t,i){var n=Ln(i-t),r=Math.min(Math.abs(i-t),359.999);return n*r},jh=function(t){var i=t.cx,n=t.cy,r=t.radius,s=t.angle,a=t.sign,u=t.isExternal,c=t.cornerRadius,h=t.cornerIsExternal,p=c*(u?1:-1)+r,g=Math.asin(c/p)/Vf,m=h?s:s+a*g,y=ni(i,n,p,m),b=ni(i,n,r,m),w=h?s-a*g:s,S=ni(i,n,p*Math.cos(g*Vf),w);return{center:y,circleTangency:b,lineTangency:S,theta:g}},tB=function(t){var i=t.cx,n=t.cy,r=t.innerRadius,s=t.outerRadius,a=t.startAngle,u=t.endAngle,c=dne(a,u),h=a+c,p=ni(i,n,s,a),g=ni(i,n,s,h),m="M ".concat(p.x,",").concat(p.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>h),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(r>0){var y=ni(i,n,r,a),b=ni(i,n,r,h);m+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=h),`,
            `).concat(y.x,",").concat(y.y," Z")}else m+="L ".concat(i,",").concat(n," Z");return m},hne=function(t){var i=t.cx,n=t.cy,r=t.innerRadius,s=t.outerRadius,a=t.cornerRadius,u=t.forceCornerRadius,c=t.cornerIsExternal,h=t.startAngle,p=t.endAngle,g=Ln(p-h),m=jh({cx:i,cy:n,radius:s,angle:h,sign:g,cornerRadius:a,cornerIsExternal:c}),y=m.circleTangency,b=m.lineTangency,w=m.theta,S=jh({cx:i,cy:n,radius:s,angle:p,sign:-g,cornerRadius:a,cornerIsExternal:c}),x=S.circleTangency,E=S.lineTangency,R=S.theta,T=c?Math.abs(h-p):Math.abs(h-p)-w-R;if(T<0)return u?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):tB({cx:i,cy:n,innerRadius:r,outerRadius:s,startAngle:h,endAngle:p});var A="M ".concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(g<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(T>180),",").concat(+(g<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(g<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var P=jh({cx:i,cy:n,radius:r,angle:h,sign:g,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),F=P.circleTangency,I=P.lineTangency,k=P.theta,W=jh({cx:i,cy:n,radius:r,angle:p,sign:-g,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),V=W.circleTangency,B=W.lineTangency,K=W.theta,Y=c?Math.abs(h-p):Math.abs(h-p)-k-K;if(Y<0&&a===0)return"".concat(A,"L").concat(i,",").concat(n,"Z");A+="L".concat(B.x,",").concat(B.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(g<0),",").concat(V.x,",").concat(V.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(Y>180),",").concat(+(g>0),",").concat(F.x,",").concat(F.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(g<0),",").concat(I.x,",").concat(I.y,"Z")}else A+="L".concat(i,",").concat(n,"Z");return A},fne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},iB=function(t){var i=oL(oL({},fne),t),n=i.cx,r=i.cy,s=i.innerRadius,a=i.outerRadius,u=i.cornerRadius,c=i.forceCornerRadius,h=i.cornerIsExternal,p=i.startAngle,g=i.endAngle,m=i.className;if(a<s||p===g)return null;var y=Ue("recharts-sector",m),b=a-s,w=Fo(u,b,0,!0),S;return w>0&&Math.abs(p-g)<360?S=hne({cx:n,cy:r,innerRadius:s,outerRadius:a,cornerRadius:Math.min(w,b/2),forceCornerRadius:c,cornerIsExternal:h,startAngle:p,endAngle:g}):S=tB({cx:n,cy:r,innerRadius:s,outerRadius:a,startAngle:p,endAngle:g}),N.createElement("path",$w({},Ie(i,!0),{className:y,d:S,role:"img"}))};function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function qw(){return qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},qw.apply(this,arguments)}function aL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function lL(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?aL(Object(i),!0).forEach(function(n){pne(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):aL(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function pne(e,t,i){return t=gne(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function gne(e){var t=mne(e,"string");return Bc(t)=="symbol"?t:t+""}function mne(e,t){if(Bc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uL={curveBasisClosed:_9,curveBasisOpen:k9,curveBasis:N9,curveBumpX:b9,curveBumpY:w9,curveLinearClosed:G9,curveLinear:Tp,curveMonotoneX:B9,curveMonotoneY:H9,curveNatural:V9,curveStep:j9,curveStepAfter:W9,curveStepBefore:z9},zh=function(t){return t.x===+t.x&&t.y===+t.y},ju=function(t){return t.x},zu=function(t){return t.y},vne=function(t,i){if(Ge(t))return t;var n="curve".concat(Pp(t));return(n==="curveMonotone"||n==="curveBump")&&i?uL["".concat(n).concat(i==="vertical"?"Y":"X")]:uL[n]||Tp},yne=function(t){var i=t.type,n=i===void 0?"linear":i,r=t.points,s=r===void 0?[]:r,a=t.baseLine,u=t.layout,c=t.connectNulls,h=c===void 0?!1:c,p=vne(n,u),g=h?s.filter(function(w){return zh(w)}):s,m;if(Array.isArray(a)){var y=h?a.filter(function(w){return zh(w)}):a,b=g.map(function(w,S){return lL(lL({},w),{},{base:y[S]})});return u==="vertical"?m=Ih().y(zu).x1(ju).x0(function(w){return w.base.x}):m=Ih().x(ju).y1(zu).y0(function(w){return w.base.y}),m.defined(zh).curve(p),m(b)}return u==="vertical"&&me(a)?m=Ih().y(zu).x1(ju).x0(a):me(a)?m=Ih().x(ju).y1(zu).y0(a):m=lk().x(ju).y(zu),m.defined(zh).curve(p),m(g)},Eo=function(t){var i=t.className,n=t.points,r=t.path,s=t.pathRef;if((!n||!n.length)&&!r)return null;var a=n&&n.length?yne(t):r;return M.createElement("path",qw({},Ie(t,!1),pf(t),{className:Ue("recharts-curve",i),d:a,ref:s}))},cb={exports:{}},db,cL;function Cne(){if(cL)return db;cL=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return db=e,db}var hb,dL;function Sne(){if(dL)return hb;dL=1;var e=Cne();function t(){}function i(){}return i.resetWarningCache=t,hb=function(){function n(a,u,c,h,p,g){if(g!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function r(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:i,resetWarningCache:t};return s.PropTypes=s,s},hb}var hL;function bne(){return hL||(hL=1,cb.exports=Sne()()),cb.exports}var wne=bne();const it=ut(wne),{getOwnPropertyNames:xne,getOwnPropertySymbols:Rne}=Object,{hasOwnProperty:Ene}=Object.prototype;function fb(e,t){return function(n,r,s){return e(n,r,s)&&t(n,r,s)}}function Wh(e){return function(i,n,r){if(!i||!n||typeof i!="object"||typeof n!="object")return e(i,n,r);const{cache:s}=r,a=s.get(i),u=s.get(n);if(a&&u)return a===n&&u===i;s.set(i,n),s.set(n,i);const c=e(i,n,r);return s.delete(i),s.delete(n),c}}function Ane(e){return e!=null?e[Symbol.toStringTag]:void 0}function fL(e){return xne(e).concat(Rne(e))}const Pne=Object.hasOwn||((e,t)=>Ene.call(e,t));function zo(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const Dne="__v",Tne="__o",Mne="_owner",{getOwnPropertyDescriptor:pL,keys:gL}=Object;function Fne(e,t){return e.byteLength===t.byteLength&&zf(new Uint8Array(e),new Uint8Array(t))}function One(e,t,i){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!i.equals(e[n],t[n],n,n,e,t,i))return!1;return!0}function Lne(e,t){return e.byteLength===t.byteLength&&zf(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Ine(e,t){return zo(e.getTime(),t.getTime())}function Nne(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function _ne(e,t){return e===t}function mL(e,t,i){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const r=new Array(n),s=e.entries();let a,u,c=0;for(;(a=s.next())&&!a.done;){const h=t.entries();let p=!1,g=0;for(;(u=h.next())&&!u.done;){if(r[g]){g++;continue}const m=a.value,y=u.value;if(i.equals(m[0],y[0],c,g,e,t,i)&&i.equals(m[1],y[1],m[0],y[0],e,t,i)){p=r[g]=!0;break}g++}if(!p)return!1;c++}return!0}const kne=zo;function Gne(e,t,i){const n=gL(e);let r=n.length;if(gL(t).length!==r)return!1;for(;r-- >0;)if(!nB(e,t,i,n[r]))return!1;return!0}function Wu(e,t,i){const n=fL(e);let r=n.length;if(fL(t).length!==r)return!1;let s,a,u;for(;r-- >0;)if(s=n[r],!nB(e,t,i,s)||(a=pL(e,s),u=pL(t,s),(a||u)&&(!a||!u||a.configurable!==u.configurable||a.enumerable!==u.enumerable||a.writable!==u.writable)))return!1;return!0}function Bne(e,t){return zo(e.valueOf(),t.valueOf())}function Hne(e,t){return e.source===t.source&&e.flags===t.flags}function vL(e,t,i){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const r=new Array(n),s=e.values();let a,u;for(;(a=s.next())&&!a.done;){const c=t.values();let h=!1,p=0;for(;(u=c.next())&&!u.done;){if(!r[p]&&i.equals(a.value,u.value,a.value,u.value,e,t,i)){h=r[p]=!0;break}p++}if(!h)return!1}return!0}function zf(e,t){let i=e.byteLength;if(t.byteLength!==i||e.byteOffset!==t.byteOffset)return!1;for(;i-- >0;)if(e[i]!==t[i])return!1;return!0}function Vne(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function nB(e,t,i,n){return(n===Mne||n===Tne||n===Dne)&&(e.$$typeof||t.$$typeof)?!0:Pne(t,n)&&i.equals(e[n],t[n],n,n,e,t,i)}const jne="[object ArrayBuffer]",zne="[object Arguments]",Wne="[object Boolean]",Une="[object DataView]",$ne="[object Date]",qne="[object Error]",Kne="[object Map]",Yne="[object Number]",Xne="[object Object]",Qne="[object RegExp]",Zne="[object Set]",Jne="[object String]",ere={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},tre="[object URL]",ire=Object.prototype.toString;function nre({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:i,areDatesEqual:n,areErrorsEqual:r,areFunctionsEqual:s,areMapsEqual:a,areNumbersEqual:u,areObjectsEqual:c,arePrimitiveWrappersEqual:h,areRegExpsEqual:p,areSetsEqual:g,areTypedArraysEqual:m,areUrlsEqual:y,unknownTagComparators:b}){return function(S,x,E){if(S===x)return!0;if(S==null||x==null)return!1;const R=typeof S;if(R!==typeof x)return!1;if(R!=="object")return R==="number"?u(S,x,E):R==="function"?s(S,x,E):!1;const T=S.constructor;if(T!==x.constructor)return!1;if(T===Object)return c(S,x,E);if(Array.isArray(S))return t(S,x,E);if(T===Date)return n(S,x,E);if(T===RegExp)return p(S,x,E);if(T===Map)return a(S,x,E);if(T===Set)return g(S,x,E);const A=ire.call(S);if(A===$ne)return n(S,x,E);if(A===Qne)return p(S,x,E);if(A===Kne)return a(S,x,E);if(A===Zne)return g(S,x,E);if(A===Xne)return typeof S.then!="function"&&typeof x.then!="function"&&c(S,x,E);if(A===tre)return y(S,x,E);if(A===qne)return r(S,x,E);if(A===zne)return c(S,x,E);if(ere[A])return m(S,x,E);if(A===jne)return e(S,x,E);if(A===Une)return i(S,x,E);if(A===Wne||A===Yne||A===Jne)return h(S,x,E);if(b){let P=b[A];if(!P){const F=Ane(S);F&&(P=b[F])}if(P)return P(S,x,E)}return!1}}function rre({circular:e,createCustomConfig:t,strict:i}){let n={areArrayBuffersEqual:Fne,areArraysEqual:i?Wu:One,areDataViewsEqual:Lne,areDatesEqual:Ine,areErrorsEqual:Nne,areFunctionsEqual:_ne,areMapsEqual:i?fb(mL,Wu):mL,areNumbersEqual:kne,areObjectsEqual:i?Wu:Gne,arePrimitiveWrappersEqual:Bne,areRegExpsEqual:Hne,areSetsEqual:i?fb(vL,Wu):vL,areTypedArraysEqual:i?fb(zf,Wu):zf,areUrlsEqual:Vne,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const r=Wh(n.areArraysEqual),s=Wh(n.areMapsEqual),a=Wh(n.areObjectsEqual),u=Wh(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:r,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:u})}return n}function sre(e){return function(t,i,n,r,s,a,u){return e(t,i,u)}}function ore({circular:e,comparator:t,createState:i,equals:n,strict:r}){if(i)return function(u,c){const{cache:h=e?new WeakMap:void 0,meta:p}=i();return t(u,c,{cache:h,equals:n,meta:p,strict:r})};if(e)return function(u,c){return t(u,c,{cache:new WeakMap,equals:n,meta:void 0,strict:r})};const s={cache:void 0,equals:n,meta:void 0,strict:r};return function(u,c){return t(u,c,s)}}const are=Ls();Ls({strict:!0});Ls({circular:!0});Ls({circular:!0,strict:!0});Ls({createInternalComparator:()=>zo});Ls({strict:!0,createInternalComparator:()=>zo});Ls({circular:!0,createInternalComparator:()=>zo});Ls({circular:!0,createInternalComparator:()=>zo,strict:!0});function Ls(e={}){const{circular:t=!1,createInternalComparator:i,createState:n,strict:r=!1}=e,s=rre(e),a=nre(s),u=i?i(a):sre(a);return ore({circular:t,comparator:a,createState:n,equals:u,strict:r})}function lre(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function yL(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=-1,n=function r(s){i<0&&(i=s),s-i>t?(e(s),i=-1):lre(r)};requestAnimationFrame(n)}function Kw(e){"@babel/helpers - typeof";return Kw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kw(e)}function ure(e){return fre(e)||hre(e)||dre(e)||cre()}function cre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dre(e,t){if(e){if(typeof e=="string")return CL(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return CL(e,t)}}function CL(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function hre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fre(e){if(Array.isArray(e))return e}function pre(){var e={},t=function(){return null},i=!1,n=function r(s){if(!i){if(Array.isArray(s)){if(!s.length)return;var a=s,u=ure(a),c=u[0],h=u.slice(1);if(typeof c=="number"){yL(r.bind(null,h),c);return}r(c),yL(r.bind(null,h));return}Kw(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){i=!0},start:function(s){i=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function SL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function bL(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?SL(Object(i),!0).forEach(function(n){rB(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):SL(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function rB(e,t,i){return t=gre(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function gre(e){var t=mre(e,"string");return Hc(t)==="symbol"?t:String(t)}function mre(e,t){if(Hc(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Hc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vre=function(t,i){return[Object.keys(t),Object.keys(i)].reduce(function(n,r){return n.filter(function(s){return r.includes(s)})})},yre=function(t){return t},Cre=function(t){return t.replace(/([A-Z])/g,function(i){return"-".concat(i.toLowerCase())})},sc=function(t,i){return Object.keys(i).reduce(function(n,r){return bL(bL({},n),{},rB({},r,t(r,i[r])))},{})},wL=function(t,i,n){return t.map(function(r){return"".concat(Cre(r)," ").concat(i,"ms ").concat(n)}).join(",")};function Sre(e,t){return xre(e)||wre(e,t)||sB(e,t)||bre()}function bre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wre(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var n,r,s,a,u=[],c=!0,h=!1;try{if(s=(i=i.call(e)).next,t!==0)for(;!(c=(n=s.call(i)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(p){h=!0,r=p}finally{try{if(!c&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(h)throw r}}return u}}function xre(e){if(Array.isArray(e))return e}function Rre(e){return Pre(e)||Are(e)||sB(e)||Ere()}function Ere(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sB(e,t){if(e){if(typeof e=="string")return Yw(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Yw(e,t)}}function Are(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pre(e){if(Array.isArray(e))return Yw(e)}function Yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var Wf=1e-4,oB=function(t,i){return[0,3*t,3*i-6*t,3*t-3*i+1]},aB=function(t,i){return t.map(function(n,r){return n*Math.pow(i,r)}).reduce(function(n,r){return n+r})},xL=function(t,i){return function(n){var r=oB(t,i);return aB(r,n)}},Dre=function(t,i){return function(n){var r=oB(t,i),s=[].concat(Rre(r.map(function(a,u){return a*u}).slice(1)),[0]);return aB(s,n)}},RL=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var r=i[0],s=i[1],a=i[2],u=i[3];if(i.length===1)switch(i[0]){case"linear":r=0,s=0,a=1,u=1;break;case"ease":r=.25,s=.1,a=.25,u=1;break;case"ease-in":r=.42,s=0,a=1,u=1;break;case"ease-out":r=.42,s=0,a=.58,u=1;break;case"ease-in-out":r=0,s=0,a=.58,u=1;break;default:{var c=i[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var h=c[1].split(")")[0].split(",").map(function(S){return parseFloat(S)}),p=Sre(h,4);r=p[0],s=p[1],a=p[2],u=p[3]}}}var g=xL(r,a),m=xL(s,u),y=Dre(r,a),b=function(x){return x>1?1:x<0?0:x},w=function(x){for(var E=x>1?1:x,R=E,T=0;T<8;++T){var A=g(R)-E,P=y(R);if(Math.abs(A-E)<Wf||P<Wf)return m(R);R=b(R-A/P)}return m(R)};return w.isStepper=!1,w},Tre=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=t.stiff,n=i===void 0?100:i,r=t.damping,s=r===void 0?8:r,a=t.dt,u=a===void 0?17:a,c=function(p,g,m){var y=-(p-g)*n,b=m*s,w=m+(y-b)*u/1e3,S=m*u/1e3+p;return Math.abs(S-g)<Wf&&Math.abs(w)<Wf?[g,0]:[S,w]};return c.isStepper=!0,c.dt=u,c},Mre=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var r=i[0];if(typeof r=="string")switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return RL(r);case"spring":return Tre();default:if(r.split("(")[0]==="cubic-bezier")return RL(r)}return typeof r=="function"?r:null};function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function EL(e){return Lre(e)||Ore(e)||lB(e)||Fre()}function Fre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ore(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lre(e){if(Array.isArray(e))return Qw(e)}function AL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function ii(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?AL(Object(i),!0).forEach(function(n){Xw(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):AL(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Xw(e,t,i){return t=Ire(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ire(e){var t=Nre(e,"string");return Vc(t)==="symbol"?t:String(t)}function Nre(e,t){if(Vc(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Vc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _re(e,t){return Bre(e)||Gre(e,t)||lB(e,t)||kre()}function kre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lB(e,t){if(e){if(typeof e=="string")return Qw(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Qw(e,t)}}function Qw(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function Gre(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var n,r,s,a,u=[],c=!0,h=!1;try{if(s=(i=i.call(e)).next,t!==0)for(;!(c=(n=s.call(i)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(p){h=!0,r=p}finally{try{if(!c&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(h)throw r}}return u}}function Bre(e){if(Array.isArray(e))return e}var Uf=function(t,i,n){return t+(i-t)*n},Zw=function(t){var i=t.from,n=t.to;return i!==n},Hre=function e(t,i,n){var r=sc(function(s,a){if(Zw(a)){var u=t(a.from,a.to,a.velocity),c=_re(u,2),h=c[0],p=c[1];return ii(ii({},a),{},{from:h,velocity:p})}return a},i);return n<1?sc(function(s,a){return Zw(a)?ii(ii({},a),{},{velocity:Uf(a.velocity,r[s].velocity,n),from:Uf(a.from,r[s].from,n)}):a},i):e(t,r,n-1)};const Vre=(function(e,t,i,n,r){var s=vre(e,t),a=s.reduce(function(S,x){return ii(ii({},S),{},Xw({},x,[e[x],t[x]]))},{}),u=s.reduce(function(S,x){return ii(ii({},S),{},Xw({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,h,p,g=function(){return null},m=function(){return sc(function(x,E){return E.from},u)},y=function(){return!Object.values(u).filter(Zw).length},b=function(x){h||(h=x);var E=x-h,R=E/i.dt;u=Hre(i,u,R),r(ii(ii(ii({},e),t),m())),h=x,y()||(c=requestAnimationFrame(g))},w=function(x){p||(p=x);var E=(x-p)/n,R=sc(function(A,P){return Uf.apply(void 0,EL(P).concat([i(E)]))},a);if(r(ii(ii(ii({},e),t),R)),E<1)c=requestAnimationFrame(g);else{var T=sc(function(A,P){return Uf.apply(void 0,EL(P).concat([i(1)]))},a);r(ii(ii(ii({},e),t),T))}};return g=i.isStepper?b:w,function(){return requestAnimationFrame(g),function(){cancelAnimationFrame(c)}}});function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}var jre=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function zre(e,t){if(e==null)return{};var i=Wre(e,t),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wre(e,t){if(e==null)return{};var i={},n=Object.keys(e),r,s;for(s=0;s<n.length;s++)r=n[s],!(t.indexOf(r)>=0)&&(i[r]=e[r]);return i}function pb(e){return Kre(e)||qre(e)||$re(e)||Ure()}function Ure(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $re(e,t){if(e){if(typeof e=="string")return Jw(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Jw(e,t)}}function qre(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kre(e){if(Array.isArray(e))return Jw(e)}function Jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function PL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function En(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?PL(Object(i),!0).forEach(function(n){Xu(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):PL(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Xu(e,t,i){return t=uB(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Yre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xre(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uB(n.key),n)}}function Qre(e,t,i){return t&&Xre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uB(e){var t=Zre(e,"string");return ol(t)==="symbol"?t:String(t)}function Zre(e,t){if(ol(e)!=="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(ol(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ex(e,t)}function ex(e,t){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ex(e,t)}function ese(e){var t=tse();return function(){var n=$f(e),r;if(t){var s=$f(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return tx(this,r)}}function tx(e,t){if(t&&(ol(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ix(e)}function ix(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tse(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $f(e){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},$f(e)}var _n=(function(e){Jre(i,e);var t=ese(i);function i(n,r){var s;Yre(this,i),s=t.call(this,n,r);var a=s.props,u=a.isActive,c=a.attributeName,h=a.from,p=a.to,g=a.steps,m=a.children,y=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(ix(s)),s.changeStyle=s.changeStyle.bind(ix(s)),!u||y<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:p}),tx(s);if(g&&g.length)s.state={style:g[0].style};else if(h){if(typeof m=="function")return s.state={style:h},tx(s);s.state={style:c?Xu({},c,h):h}}else s.state={style:{}};return s}return Qre(i,[{key:"componentDidMount",value:function(){var r=this.props,s=r.isActive,a=r.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(r){var s=this.props,a=s.isActive,u=s.canBegin,c=s.attributeName,h=s.shouldReAnimate,p=s.to,g=s.from,m=this.state.style;if(u){if(!a){var y={style:c?Xu({},c,p):p};this.state&&m&&(c&&m[c]!==p||!c&&m!==p)&&this.setState(y);return}if(!(are(r.to,p)&&r.canBegin&&r.isActive)){var b=!r.canBegin||!r.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=b||h?g:r.to;if(this.state&&m){var S={style:c?Xu({},c,w):w};(c&&m[c]!==w||!c&&m!==w)&&this.setState(S)}this.runAnimation(En(En({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var r=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),r&&r()}},{key:"handleStyleChange",value:function(r){this.changeStyle(r)}},{key:"changeStyle",value:function(r){this.mounted&&this.setState({style:r})}},{key:"runJSAnimation",value:function(r){var s=this,a=r.from,u=r.to,c=r.duration,h=r.easing,p=r.begin,g=r.onAnimationEnd,m=r.onAnimationStart,y=Vre(a,u,Mre(h),c,this.changeStyle),b=function(){s.stopJSAnimation=y()};this.manager.start([m,p,b,c,g])}},{key:"runStepAnimation",value:function(r){var s=this,a=r.steps,u=r.begin,c=r.onAnimationStart,h=a[0],p=h.style,g=h.duration,m=g===void 0?0:g,y=function(w,S,x){if(x===0)return w;var E=S.duration,R=S.easing,T=R===void 0?"ease":R,A=S.style,P=S.properties,F=S.onAnimationEnd,I=x>0?a[x-1]:S,k=P||Object.keys(A);if(typeof T=="function"||T==="spring")return[].concat(pb(w),[s.runJSAnimation.bind(s,{from:I.style,to:A,duration:E,easing:T}),E]);var W=wL(k,E,T),V=En(En(En({},I.style),A),{},{transition:W});return[].concat(pb(w),[V,E,F]).filter(yre)};return this.manager.start([c].concat(pb(a.reduce(y,[p,Math.max(m,u)])),[r.onAnimationEnd]))}},{key:"runAnimation",value:function(r){this.manager||(this.manager=pre());var s=r.begin,a=r.duration,u=r.attributeName,c=r.to,h=r.easing,p=r.onAnimationStart,g=r.onAnimationEnd,m=r.steps,y=r.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof h=="function"||typeof y=="function"||h==="spring"){this.runJSAnimation(r);return}if(m.length>1){this.runStepAnimation(r);return}var w=u?Xu({},u,c):c,S=wL(Object.keys(w),a,h);b.start([p,s,En(En({},w),{},{transition:S}),a,g])}},{key:"render",value:function(){var r=this.props,s=r.children;r.begin;var a=r.duration;r.attributeName,r.easing;var u=r.isActive;r.steps,r.from,r.to,r.canBegin,r.onAnimationEnd,r.shouldReAnimate,r.onAnimationReStart;var c=zre(r,jre),h=M.Children.count(s),p=this.state.style;if(typeof s=="function")return s(p);if(!u||h===0||a<=0)return s;var g=function(y){var b=y.props,w=b.style,S=w===void 0?{}:w,x=b.className,E=M.cloneElement(y,En(En({},c),{},{style:En(En({},S),p),className:x}));return E};return h===1?g(M.Children.only(s)):N.createElement("div",null,M.Children.map(s,function(m){return g(m)}))}}]),i})(M.PureComponent);_n.displayName="Animate";_n.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};_n.propTypes={from:it.oneOfType([it.object,it.string]),to:it.oneOfType([it.object,it.string]),attributeName:it.string,duration:it.number,begin:it.number,easing:it.oneOfType([it.string,it.func]),steps:it.arrayOf(it.shape({duration:it.number.isRequired,style:it.object.isRequired,easing:it.oneOfType([it.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),it.func]),properties:it.arrayOf("string"),onAnimationEnd:it.func})),children:it.oneOfType([it.node,it.func]),isActive:it.bool,canBegin:it.bool,onAnimationEnd:it.func,shouldReAnimate:it.bool,onAnimationStart:it.func,onAnimationReStart:it.func};function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},qf.apply(this,arguments)}function ise(e,t){return ose(e)||sse(e,t)||rse(e,t)||nse()}function nse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rse(e,t){if(e){if(typeof e=="string")return DL(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return DL(e,t)}}function DL(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function sse(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var n,r,s,a,u=[],c=!0,h=!1;try{if(s=(i=i.call(e)).next,t!==0)for(;!(c=(n=s.call(i)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(p){h=!0,r=p}finally{try{if(!c&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(h)throw r}}return u}}function ose(e){if(Array.isArray(e))return e}function TL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function ML(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?TL(Object(i),!0).forEach(function(n){ase(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):TL(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function ase(e,t,i){return t=lse(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function lse(e){var t=use(e,"string");return jc(t)=="symbol"?t:t+""}function use(e,t){if(jc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FL=function(t,i,n,r,s){var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),u=r>=0?1:-1,c=n>=0?1:-1,h=r>=0&&n>=0||r<0&&n<0?1:0,p;if(a>0&&s instanceof Array){for(var g=[0,0,0,0],m=0,y=4;m<y;m++)g[m]=s[m]>a?a:s[m];p="M".concat(t,",").concat(i+u*g[0]),g[0]>0&&(p+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(h,",").concat(t+c*g[0],",").concat(i)),p+="L ".concat(t+n-c*g[1],",").concat(i),g[1]>0&&(p+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(h,`,
        `).concat(t+n,",").concat(i+u*g[1])),p+="L ".concat(t+n,",").concat(i+r-u*g[2]),g[2]>0&&(p+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(h,`,
        `).concat(t+n-c*g[2],",").concat(i+r)),p+="L ".concat(t+c*g[3],",").concat(i+r),g[3]>0&&(p+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(i+r-u*g[3])),p+="Z"}else if(a>0&&s===+s&&s>0){var b=Math.min(a,s);p="M ".concat(t,",").concat(i+u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(t+c*b,",").concat(i,`
            L `).concat(t+n-c*b,",").concat(i,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(t+n,",").concat(i+u*b,`
            L `).concat(t+n,",").concat(i+r-u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(t+n-c*b,",").concat(i+r,`
            L `).concat(t+c*b,",").concat(i+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(t,",").concat(i+r-u*b," Z")}else p="M ".concat(t,",").concat(i," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return p},cse=function(t,i){if(!t||!i)return!1;var n=t.x,r=t.y,s=i.x,a=i.y,u=i.width,c=i.height;if(Math.abs(u)>0&&Math.abs(c)>0){var h=Math.min(s,s+u),p=Math.max(s,s+u),g=Math.min(a,a+c),m=Math.max(a,a+c);return n>=h&&n<=p&&r>=g&&r<=m}return!1},dse={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dR=function(t){var i=ML(ML({},dse),t),n=M.useRef(),r=M.useState(-1),s=ise(r,2),a=s[0],u=s[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var T=n.current.getTotalLength();T&&u(T)}catch{}},[]);var c=i.x,h=i.y,p=i.width,g=i.height,m=i.radius,y=i.className,b=i.animationEasing,w=i.animationDuration,S=i.animationBegin,x=i.isAnimationActive,E=i.isUpdateAnimationActive;if(c!==+c||h!==+h||p!==+p||g!==+g||p===0||g===0)return null;var R=Ue("recharts-rectangle",y);return E?N.createElement(_n,{canBegin:a>0,from:{width:p,height:g,x:c,y:h},to:{width:p,height:g,x:c,y:h},duration:w,animationEasing:b,isActive:E},function(T){var A=T.width,P=T.height,F=T.x,I=T.y;return N.createElement(_n,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:w,isActive:x,easing:b},N.createElement("path",qf({},Ie(i,!0),{className:R,d:FL(F,I,A,P,m),ref:n})))}):N.createElement("path",qf({},Ie(i,!0),{className:R,d:FL(c,h,p,g,m)}))};function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},nx.apply(this,arguments)}var Wp=function(t){var i=t.cx,n=t.cy,r=t.r,s=t.className,a=Ue("recharts-dot",s);return i===+i&&n===+n&&r===+r?M.createElement("circle",nx({},Ie(t,!1),pf(t),{className:a,cx:i,cy:n,r})):null};function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}var hse=["x","y","top","left","width","height","className"];function rx(){return rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},rx.apply(this,arguments)}function OL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function fse(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?OL(Object(i),!0).forEach(function(n){pse(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):OL(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function pse(e,t,i){return t=gse(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function gse(e){var t=mse(e,"string");return zc(t)=="symbol"?t:t+""}function mse(e,t){if(zc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vse(e,t){if(e==null)return{};var i=yse(e,t),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yse(e,t){if(e==null)return{};var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}var Cse=function(t,i,n,r,s,a){return"M".concat(t,",").concat(s,"v").concat(r,"M").concat(a,",").concat(i,"h").concat(n)},Sse=function(t){var i=t.x,n=i===void 0?0:i,r=t.y,s=r===void 0?0:r,a=t.top,u=a===void 0?0:a,c=t.left,h=c===void 0?0:c,p=t.width,g=p===void 0?0:p,m=t.height,y=m===void 0?0:m,b=t.className,w=vse(t,hse),S=fse({x:n,y:s,top:u,left:h,width:g,height:y},w);return!me(n)||!me(s)||!me(g)||!me(y)||!me(u)||!me(h)?null:N.createElement("path",rx({},Ie(S,!0),{className:Ue("recharts-cross",b),d:Cse(n,s,g,y,u,h)}))},gb,LL;function bse(){if(LL)return gb;LL=1;var e=Fk(),t=e(Object.getPrototypeOf,Object);return gb=t,gb}var mb,IL;function wse(){if(IL)return mb;IL=1;var e=Gr(),t=bse(),i=Br(),n="[object Object]",r=Function.prototype,s=Object.prototype,a=r.toString,u=s.hasOwnProperty,c=a.call(Object);function h(p){if(!i(p)||e(p)!=n)return!1;var g=t(p);if(g===null)return!0;var m=u.call(g,"constructor")&&g.constructor;return typeof m=="function"&&m instanceof m&&a.call(m)==c}return mb=h,mb}var xse=wse();const Rse=ut(xse);var vb,NL;function Ese(){if(NL)return vb;NL=1;var e=Gr(),t=Br(),i="[object Boolean]";function n(r){return r===!0||r===!1||t(r)&&e(r)==i}return vb=n,vb}var Ase=Ese();const Pse=ut(Ase);function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Kf.apply(this,arguments)}function Dse(e,t){return Ose(e)||Fse(e,t)||Mse(e,t)||Tse()}function Tse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mse(e,t){if(e){if(typeof e=="string")return _L(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _L(e,t)}}function _L(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function Fse(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var n,r,s,a,u=[],c=!0,h=!1;try{if(s=(i=i.call(e)).next,t!==0)for(;!(c=(n=s.call(i)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(p){h=!0,r=p}finally{try{if(!c&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(h)throw r}}return u}}function Ose(e){if(Array.isArray(e))return e}function kL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function GL(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?kL(Object(i),!0).forEach(function(n){Lse(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):kL(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Lse(e,t,i){return t=Ise(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ise(e){var t=Nse(e,"string");return Wc(t)=="symbol"?t:t+""}function Nse(e,t){if(Wc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BL=function(t,i,n,r,s){var a=n-r,u;return u="M ".concat(t,",").concat(i),u+="L ".concat(t+n,",").concat(i),u+="L ".concat(t+n-a/2,",").concat(i+s),u+="L ".concat(t+n-a/2-r,",").concat(i+s),u+="L ".concat(t,",").concat(i," Z"),u},_se={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kse=function(t){var i=GL(GL({},_se),t),n=M.useRef(),r=M.useState(-1),s=Dse(r,2),a=s[0],u=s[1];M.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var R=n.current.getTotalLength();R&&u(R)}catch{}},[]);var c=i.x,h=i.y,p=i.upperWidth,g=i.lowerWidth,m=i.height,y=i.className,b=i.animationEasing,w=i.animationDuration,S=i.animationBegin,x=i.isUpdateAnimationActive;if(c!==+c||h!==+h||p!==+p||g!==+g||m!==+m||p===0&&g===0||m===0)return null;var E=Ue("recharts-trapezoid",y);return x?N.createElement(_n,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:h},to:{upperWidth:p,lowerWidth:g,height:m,x:c,y:h},duration:w,animationEasing:b,isActive:x},function(R){var T=R.upperWidth,A=R.lowerWidth,P=R.height,F=R.x,I=R.y;return N.createElement(_n,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:S,duration:w,easing:b},N.createElement("path",Kf({},Ie(i,!0),{className:E,d:BL(F,I,T,A,P),ref:n})))}):N.createElement("g",null,N.createElement("path",Kf({},Ie(i,!0),{className:E,d:BL(c,h,p,g,m)})))},Gse=["option","shapeType","propTransformer","activeClassName","isActive"];function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function Bse(e,t){if(e==null)return{};var i=Hse(e,t),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hse(e,t){if(e==null)return{};var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}function HL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Yf(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?HL(Object(i),!0).forEach(function(n){Vse(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):HL(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Vse(e,t,i){return t=jse(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function jse(e){var t=zse(e,"string");return Uc(t)=="symbol"?t:t+""}function zse(e,t){if(Uc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wse(e,t){return Yf(Yf({},t),e)}function Use(e,t){return e==="symbols"}function VL(e){var t=e.shapeType,i=e.elementProps;switch(t){case"rectangle":return N.createElement(dR,i);case"trapezoid":return N.createElement(kse,i);case"sector":return N.createElement(iB,i);case"symbols":if(Use(t))return N.createElement(Fp,i);break;default:return null}}function $se(e){return M.isValidElement(e)?e.props:e}function sx(e){var t=e.option,i=e.shapeType,n=e.propTransformer,r=n===void 0?Wse:n,s=e.activeClassName,a=s===void 0?"recharts-active-shape":s,u=e.isActive,c=Bse(e,Gse),h;if(M.isValidElement(t))h=M.cloneElement(t,Yf(Yf({},c),$se(t)));else if(Ge(t))h=t(c);else if(Rse(t)&&!Pse(t)){var p=r(t,c);h=N.createElement(VL,{shapeType:i,elementProps:p})}else{var g=c;h=N.createElement(VL,{shapeType:i,elementProps:g})}return u?N.createElement(et,{className:a},h):h}function Up(e,t){return t!=null&&"trapezoids"in e.props}function $p(e,t){return t!=null&&"sectors"in e.props}function $c(e,t){return t!=null&&"points"in e.props}function qse(e,t){var i,n,r=e.x===(t==null||(i=t.labelViewBox)===null||i===void 0?void 0:i.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return r&&s}function Kse(e,t){var i=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return i&&n}function Yse(e,t){var i=e.x===t.x,n=e.y===t.y,r=e.z===t.z;return i&&n&&r}function Xse(e,t){var i;return Up(e,t)?i=qse:$p(e,t)?i=Kse:$c(e,t)&&(i=Yse),i}function Qse(e,t){var i;return Up(e,t)?i="trapezoids":$p(e,t)?i="sectors":$c(e,t)&&(i="points"),i}function Zse(e,t){if(Up(e,t)){var i;return(i=t.tooltipPayload)===null||i===void 0||(i=i[0])===null||i===void 0||(i=i.payload)===null||i===void 0?void 0:i.payload}if($p(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return $c(e,t)?t.payload:{}}function Jse(e){var t=e.activeTooltipItem,i=e.graphicalItem,n=e.itemData,r=Qse(i,t),s=Zse(i,t),a=n.filter(function(c,h){var p=Oo(s,c),g=i.props[r].filter(function(b){var w=Xse(i,t);return w(b,t)}),m=i.props[r].indexOf(g[g.length-1]),y=h===m;return p&&y}),u=n.indexOf(a[a.length-1]);return u}var yb,jL;function eoe(){if(jL)return yb;jL=1;var e=Math.ceil,t=Math.max;function i(n,r,s,a){for(var u=-1,c=t(e((r-n)/(s||1)),0),h=Array(c);c--;)h[a?c:++u]=n,n+=s;return h}return yb=i,yb}var Cb,zL;function cB(){if(zL)return Cb;zL=1;var e=qk(),t=1/0,i=17976931348623157e292;function n(r){if(!r)return r===0?r:0;if(r=e(r),r===t||r===-t){var s=r<0?-1:1;return s*i}return r===r?r:0}return Cb=n,Cb}var Sb,WL;function toe(){if(WL)return Sb;WL=1;var e=eoe(),t=Ip(),i=cB();function n(r){return function(s,a,u){return u&&typeof u!="number"&&t(s,a,u)&&(a=u=void 0),s=i(s),a===void 0?(a=s,s=0):a=i(a),u=u===void 0?s<a?1:-1:i(u),e(s,a,u,r)}}return Sb=n,Sb}var bb,UL;function ioe(){if(UL)return bb;UL=1;var e=toe(),t=e();return bb=t,bb}var noe=ioe();const Xf=ut(noe);function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function $L(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function qL(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?$L(Object(i),!0).forEach(function(n){dB(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$L(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function dB(e,t,i){return t=roe(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function roe(e){var t=soe(e,"string");return qc(t)=="symbol"?t:t+""}function soe(e,t){if(qc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ooe=["Webkit","Moz","O","ms"],aoe=function(t,i){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),r=ooe.reduce(function(s,a){return qL(qL({},s),{},dB({},a+n,i))},{});return r[t]=i,r};function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function Qf(){return Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Qf.apply(this,arguments)}function KL(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function wb(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?KL(Object(i),!0).forEach(function(n){Ui(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):KL(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function loe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YL(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fB(n.key),n)}}function uoe(e,t,i){return t&&YL(e.prototype,t),i&&YL(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function coe(e,t,i){return t=Zf(t),doe(e,hB()?Reflect.construct(t,i||[],Zf(e).constructor):t.apply(e,i))}function doe(e,t){if(t&&(al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hoe(e)}function hoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hB=function(){return!!e})()}function Zf(e){return Zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Zf(e)}function foe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ox(e,t)}function ox(e,t){return ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ox(e,t)}function Ui(e,t,i){return t=fB(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function fB(e){var t=poe(e,"string");return al(t)=="symbol"?t:t+""}function poe(e,t){if(al(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var goe=function(t){var i=t.data,n=t.startIndex,r=t.endIndex,s=t.x,a=t.width,u=t.travellerWidth;if(!i||!i.length)return{};var c=i.length,h=nc().domain(Xf(0,c)).range([s,s+a-u]),p=h.domain().map(function(g){return h(g)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(r),scale:h,scaleValues:p}},XL=function(t){return t.changedTouches&&!!t.changedTouches.length},ll=(function(e){function t(i){var n;return loe(this,t),n=coe(this,t,[i]),Ui(n,"handleDrag",function(r){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(r):n.state.isSlideMoving&&n.handleSlideDrag(r)}),Ui(n,"handleTouchMove",function(r){r.changedTouches!=null&&r.changedTouches.length>0&&n.handleDrag(r.changedTouches[0])}),Ui(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var r=n.props,s=r.endIndex,a=r.onDragEnd,u=r.startIndex;a==null||a({endIndex:s,startIndex:u})}),n.detachDragEndListener()}),Ui(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ui(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ui(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ui(n,"handleSlideDragStart",function(r){var s=XL(r)?r.changedTouches[0]:r;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return foe(t,e),uoe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var r=n.startX,s=n.endX,a=this.state.scaleValues,u=this.props,c=u.gap,h=u.data,p=h.length-1,g=Math.min(r,s),m=Math.max(r,s),y=t.getIndexInRange(a,g),b=t.getIndexInRange(a,m);return{startIndex:y-y%c,endIndex:b===p?p:b-b%c}}},{key:"getTextOfTick",value:function(n){var r=this.props,s=r.data,a=r.tickFormatter,u=r.dataKey,c=Wt(s[n],u,n);return Ge(a)?a(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var r=this.state,s=r.slideMoveStartX,a=r.startX,u=r.endX,c=this.props,h=c.x,p=c.width,g=c.travellerWidth,m=c.startIndex,y=c.endIndex,b=c.onChange,w=n.pageX-s;w>0?w=Math.min(w,h+p-g-u,h+p-g-a):w<0&&(w=Math.max(w,h-a,h-u));var S=this.getIndex({startX:a+w,endX:u+w});(S.startIndex!==m||S.endIndex!==y)&&b&&b(S),this.setState({startX:a+w,endX:u+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,r){var s=XL(r)?r.changedTouches[0]:r;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var r=this.state,s=r.brushMoveStartX,a=r.movingTravellerId,u=r.endX,c=r.startX,h=this.state[a],p=this.props,g=p.x,m=p.width,y=p.travellerWidth,b=p.onChange,w=p.gap,S=p.data,x={startX:this.state.startX,endX:this.state.endX},E=n.pageX-s;E>0?E=Math.min(E,g+m-y-h):E<0&&(E=Math.max(E,g-h)),x[a]=h+E;var R=this.getIndex(x),T=R.startIndex,A=R.endIndex,P=function(){var I=S.length-1;return a==="startX"&&(u>c?T%w===0:A%w===0)||u<c&&A===I||a==="endX"&&(u>c?A%w===0:T%w===0)||u>c&&A===I};this.setState(Ui(Ui({},a,h+E),"brushMoveStartX",n.pageX),function(){b&&P()&&b(R)})}},{key:"handleTravellerMoveKeyboard",value:function(n,r){var s=this,a=this.state,u=a.scaleValues,c=a.startX,h=a.endX,p=this.state[r],g=u.indexOf(p);if(g!==-1){var m=g+n;if(!(m===-1||m>=u.length)){var y=u[m];r==="startX"&&y>=h||r==="endX"&&y<=c||this.setState(Ui({},r,y),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,r=n.x,s=n.y,a=n.width,u=n.height,c=n.fill,h=n.stroke;return N.createElement("rect",{stroke:h,fill:c,x:r,y:s,width:a,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,r=n.x,s=n.y,a=n.width,u=n.height,c=n.data,h=n.children,p=n.padding,g=M.Children.only(h);return g?N.cloneElement(g,{x:r,y:s,width:a,height:u,margin:p,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,r){var s,a,u=this,c=this.props,h=c.y,p=c.travellerWidth,g=c.height,m=c.traveller,y=c.ariaLabel,b=c.data,w=c.startIndex,S=c.endIndex,x=Math.max(n,this.props.x),E=wb(wb({},Ie(this.props,!1)),{},{x,y:h,width:p,height:g}),R=y||"Min value: ".concat((s=b[w])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=b[S])===null||a===void 0?void 0:a.name);return N.createElement(et,{tabIndex:0,role:"slider","aria-label":R,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),u.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,r))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,E))}},{key:"renderSlide",value:function(n,r){var s=this.props,a=s.y,u=s.height,c=s.stroke,h=s.travellerWidth,p=Math.min(n,r)+h,g=Math.max(Math.abs(r-n)-h,0);return N.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:p,y:a,width:g,height:u})}},{key:"renderText",value:function(){var n=this.props,r=n.startIndex,s=n.endIndex,a=n.y,u=n.height,c=n.travellerWidth,h=n.stroke,p=this.state,g=p.startX,m=p.endX,y=5,b={pointerEvents:"none",fill:h};return N.createElement(et,{className:"recharts-brush-texts"},N.createElement(Ef,Qf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(g,m)-y,y:a+u/2},b),this.getTextOfTick(r)),N.createElement(Ef,Qf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(g,m)+c+y,y:a+u/2},b),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,r=n.data,s=n.className,a=n.children,u=n.x,c=n.y,h=n.width,p=n.height,g=n.alwaysShowText,m=this.state,y=m.startX,b=m.endX,w=m.isTextActive,S=m.isSlideMoving,x=m.isTravellerMoving,E=m.isTravellerFocused;if(!r||!r.length||!me(u)||!me(c)||!me(h)||!me(p)||h<=0||p<=0)return null;var R=Ue("recharts-brush",s),T=N.Children.count(a)===1,A=aoe("userSelect","none");return N.createElement(et,{className:R,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(y,b),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(b,"endX"),(w||S||x||E||g)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var r=n.x,s=n.y,a=n.width,u=n.height,c=n.stroke,h=Math.floor(s+u/2)-1;return N.createElement(N.Fragment,null,N.createElement("rect",{x:r,y:s,width:a,height:u,fill:c,stroke:"none"}),N.createElement("line",{x1:r+1,y1:h,x2:r+a-1,y2:h,fill:"none",stroke:"#fff"}),N.createElement("line",{x1:r+1,y1:h+2,x2:r+a-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,r){var s;return N.isValidElement(n)?s=N.cloneElement(n,r):Ge(n)?s=n(r):s=t.renderDefaultTraveller(r),s}},{key:"getDerivedStateFromProps",value:function(n,r){var s=n.data,a=n.width,u=n.x,c=n.travellerWidth,h=n.updateId,p=n.startIndex,g=n.endIndex;if(s!==r.prevData||h!==r.prevUpdateId)return wb({prevData:s,prevTravellerWidth:c,prevUpdateId:h,prevX:u,prevWidth:a},s&&s.length?goe({data:s,width:a,x:u,travellerWidth:c,startIndex:p,endIndex:g}):{scale:null,scaleValues:null});if(r.scale&&(a!==r.prevWidth||u!==r.prevX||c!==r.prevTravellerWidth)){r.scale.range([u,u+a-c]);var m=r.scale.domain().map(function(y){return r.scale(y)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:h,prevX:u,prevWidth:a,startX:r.scale(n.startIndex),endX:r.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,r){for(var s=n.length,a=0,u=s-1;u-a>1;){var c=Math.floor((a+u)/2);n[c]>r?u=c:a=c}return r>=n[u]?u:a}}])})(M.PureComponent);Ui(ll,"displayName","Brush");Ui(ll,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var xb,QL;function moe(){if(QL)return xb;QL=1;var e=_0();function t(i,n){var r;return e(i,function(s,a,u){return r=n(s,a,u),!r}),!!r}return xb=t,xb}var Rb,ZL;function voe(){if(ZL)return Rb;ZL=1;var e=Rk(),t=Ts(),i=moe(),n=Oi(),r=Ip();function s(a,u,c){var h=n(a)?e:i;return c&&r(a,u,c)&&(u=void 0),h(a,t(u,3))}return Rb=s,Rb}var yoe=voe();const Coe=ut(yoe);var Xn=function(t,i){var n=t.alwaysShow,r=t.ifOverflow;return n&&(r="extendDomain"),r===i},Eb,JL;function Soe(){if(JL)return Eb;JL=1;var e=jk();function t(i,n,r){n=="__proto__"&&e?e(i,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):i[n]=r}return Eb=t,Eb}var Ab,eI;function boe(){if(eI)return Ab;eI=1;var e=Soe(),t=Hk(),i=Ts();function n(r,s){var a={};return s=i(s,3),t(r,function(u,c,h){e(a,c,s(u,c,h))}),a}return Ab=n,Ab}var woe=boe();const xoe=ut(woe);var Pb,tI;function Roe(){if(tI)return Pb;tI=1;function e(t,i){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!i(t[n],n,t))return!1;return!0}return Pb=e,Pb}var Db,iI;function Eoe(){if(iI)return Db;iI=1;var e=_0();function t(i,n){var r=!0;return e(i,function(s,a,u){return r=!!n(s,a,u),r}),r}return Db=t,Db}var Tb,nI;function Aoe(){if(nI)return Tb;nI=1;var e=Roe(),t=Eoe(),i=Ts(),n=Oi(),r=Ip();function s(a,u,c){var h=n(a)?e:t;return c&&r(a,u,c)&&(u=void 0),h(a,i(u,3))}return Tb=s,Tb}var Poe=Aoe();const Doe=ut(Poe);var Toe=["x","y"];function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ax.apply(this,arguments)}function rI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Uu(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(i),!0).forEach(function(n){Moe(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):rI(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Moe(e,t,i){return t=Foe(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Foe(e){var t=Ooe(e,"string");return Kc(t)=="symbol"?t:t+""}function Ooe(e,t){if(Kc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Loe(e,t){if(e==null)return{};var i=Ioe(e,t),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ioe(e,t){if(e==null)return{};var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}function Noe(e,t){var i=e.x,n=e.y,r=Loe(e,Toe),s="".concat(i),a=parseInt(s,10),u="".concat(n),c=parseInt(u,10),h="".concat(t.height||r.height),p=parseInt(h,10),g="".concat(t.width||r.width),m=parseInt(g,10);return Uu(Uu(Uu(Uu(Uu({},t),r),a?{x:a}:{}),c?{y:c}:{}),{},{height:p,width:m,name:t.name,radius:t.radius})}function sI(e){return N.createElement(sx,ax({shapeType:"rectangle",propTransformer:Noe,activeClassName:"recharts-active-bar"},e))}var _oe=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,r){if(typeof t=="number")return t;var s=me(n)||jY(n);return s?t(n,r):(s||Io(),i)}},koe=["value","background"],pB;function ul(e){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}function Goe(e,t){if(e==null)return{};var i=Boe(e,t),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Boe(e,t){if(e==null)return{};var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Jf.apply(this,arguments)}function oI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function kt(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(i),!0).forEach(function(n){Ss(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):oI(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Hoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aI(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mB(n.key),n)}}function Voe(e,t,i){return t&&aI(e.prototype,t),i&&aI(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function joe(e,t,i){return t=ep(t),zoe(e,gB()?Reflect.construct(t,i||[],ep(e).constructor):t.apply(e,i))}function zoe(e,t){if(t&&(ul(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Woe(e)}function Woe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gB=function(){return!!e})()}function ep(e){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ep(e)}function Uoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lx(e,t)}function lx(e,t){return lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},lx(e,t)}function Ss(e,t,i){return t=mB(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function mB(e){var t=$oe(e,"string");return ul(t)=="symbol"?t:t+""}function $oe(e,t){if(ul(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Is=(function(e){function t(){var i;Hoe(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return i=joe(this,t,[].concat(r)),Ss(i,"state",{isAnimationFinished:!1}),Ss(i,"id",Ho("recharts-bar-")),Ss(i,"handleAnimationEnd",function(){var a=i.props.onAnimationEnd;i.setState({isAnimationFinished:!0}),a&&a()}),Ss(i,"handleAnimationStart",function(){var a=i.props.onAnimationStart;i.setState({isAnimationFinished:!1}),a&&a()}),i}return Uoe(t,e),Voe(t,[{key:"renderRectanglesStatically",value:function(n){var r=this,s=this.props,a=s.shape,u=s.dataKey,c=s.activeIndex,h=s.activeBar,p=Ie(this.props,!1);return n&&n.map(function(g,m){var y=m===c,b=y?h:a,w=kt(kt(kt({},p),g),{},{isActive:y,option:b,index:m,dataKey:u,onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd});return N.createElement(et,Jf({className:"recharts-bar-rectangle"},vc(r.props,g,m),{key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(m)}),N.createElement(sI,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,r=this.props,s=r.data,a=r.layout,u=r.isAnimationActive,c=r.animationBegin,h=r.animationDuration,p=r.animationEasing,g=r.animationId,m=this.state.prevData;return N.createElement(_n,{begin:c,duration:h,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t,w=s.map(function(S,x){var E=m&&m[x];if(E){var R=Ft(E.x,S.x),T=Ft(E.y,S.y),A=Ft(E.width,S.width),P=Ft(E.height,S.height);return kt(kt({},S),{},{x:R(b),y:T(b),width:A(b),height:P(b)})}if(a==="horizontal"){var F=Ft(0,S.height),I=F(b);return kt(kt({},S),{},{y:S.y+S.height-I,height:I})}var k=Ft(0,S.width),W=k(b);return kt(kt({},S),{},{width:W})});return N.createElement(et,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,r=n.data,s=n.isAnimationActive,a=this.state.prevData;return s&&r&&r.length&&(!a||!Oo(a,r))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(r)}},{key:"renderBackground",value:function(){var n=this,r=this.props,s=r.data,a=r.dataKey,u=r.activeIndex,c=Ie(this.props.background,!1);return s.map(function(h,p){h.value;var g=h.background,m=Goe(h,koe);if(!g)return null;var y=kt(kt(kt(kt(kt({},m),{},{fill:"#eee"},g),c),vc(n.props,h,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:a,index:p,className:"recharts-bar-background-rectangle"});return N.createElement(sI,Jf({key:"background-bar-".concat(p),option:n.props.background,isActive:p===u},y))})}},{key:"renderErrorBar",value:function(n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,u=s.xAxis,c=s.yAxis,h=s.layout,p=s.children,g=Fi(p,_l);if(!g)return null;var m=h==="vertical"?a[0].height/2:a[0].width/2,y=function(S,x){var E=Array.isArray(S.value)?S.value[1]:S.value;return{x:S.x,y:S.y,value:E,errorVal:Wt(S,x)}},b={clipPath:n?"url(#clipPath-".concat(r,")"):null};return N.createElement(et,b,g.map(function(w){return N.cloneElement(w,{key:"error-bar-".concat(r,"-").concat(w.props.dataKey),data:a,xAxis:u,yAxis:c,layout:h,offset:m,dataPointFormatter:y})}))}},{key:"render",value:function(){var n=this.props,r=n.hide,s=n.data,a=n.className,u=n.xAxis,c=n.yAxis,h=n.left,p=n.top,g=n.width,m=n.height,y=n.isAnimationActive,b=n.background,w=n.id;if(r||!s||!s.length)return null;var S=this.state.isAnimationFinished,x=Ue("recharts-bar",a),E=u&&u.allowDataOverflow,R=c&&c.allowDataOverflow,T=E||R,A=Oe(w)?this.id:w;return N.createElement(et,{className:x},E||R?N.createElement("defs",null,N.createElement("clipPath",{id:"clipPath-".concat(A)},N.createElement("rect",{x:E?h:h-g/2,y:R?p:p-m/2,width:E?g:g*2,height:R?m:m*2}))):null,N.createElement(et,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(A,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,A),(!y||S)&&Yn.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,r){return n.animationId!==r.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:r.curData}:n.data!==r.curData?{curData:n.data}:null}}])})(M.PureComponent);pB=Is;Ss(Is,"displayName","Bar");Ss(Is,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ms.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ss(Is,"getComposedData",function(e){var t=e.props,i=e.item,n=e.barPosition,r=e.bandSize,s=e.xAxis,a=e.yAxis,u=e.xAxisTicks,c=e.yAxisTicks,h=e.stackedData,p=e.dataStartIndex,g=e.displayedData,m=e.offset,y=aie(n,i);if(!y)return null;var b=t.layout,w=i.type.defaultProps,S=w!==void 0?kt(kt({},w),i.props):i.props,x=S.dataKey,E=S.children,R=S.minPointSize,T=b==="horizontal"?a:s,A=h?T.scale.domain():null,P=gie({numericAxis:T}),F=Fi(E,B0),I=g.map(function(k,W){var V,B,K,Y,H,_;h?V=lie(h[p+W],A):(V=Wt(k,x),Array.isArray(V)||(V=[P,V]));var U=_oe(R,pB.defaultProps.minPointSize)(V[1],W);if(b==="horizontal"){var Q,ae=[a.scale(V[0]),a.scale(V[1])],de=ae[0],G=ae[1];B=q1({axis:s,ticks:u,bandSize:r,offset:y.offset,entry:k,index:W}),K=(Q=G??de)!==null&&Q!==void 0?Q:void 0,Y=y.size;var z=de-G;if(H=Number.isNaN(z)?0:z,_={x:B,y:a.y,width:Y,height:a.height},Math.abs(U)>0&&Math.abs(H)<Math.abs(U)){var re=Ln(H||U)*(Math.abs(U)-Math.abs(H));K-=re,H+=re}}else{var se=[s.scale(V[0]),s.scale(V[1])],ge=se[0],ye=se[1];if(B=ge,K=q1({axis:a,ticks:c,bandSize:r,offset:y.offset,entry:k,index:W}),Y=ye-ge,H=y.size,_={x:s.x,y:K,width:s.width,height:H},Math.abs(U)>0&&Math.abs(Y)<Math.abs(U)){var Pe=Ln(Y||U)*(Math.abs(U)-Math.abs(Y));Y+=Pe}}return kt(kt(kt({},k),{},{x:B,y:K,width:Y,height:H,value:h?V:V[1],payload:k,background:_},F&&F[W]&&F[W].props),{},{tooltipPayload:[JG(i,k)],tooltipPosition:{x:B+Y/2,y:K+H/2}})});return kt({data:I,layout:b},m)});function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function qoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lI(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vB(n.key),n)}}function Koe(e,t,i){return t&&lI(e.prototype,t),i&&lI(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function uI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Dn(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?uI(Object(i),!0).forEach(function(n){qp(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):uI(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function qp(e,t,i){return t=vB(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function vB(e){var t=Yoe(e,"string");return Yc(t)=="symbol"?t:t+""}function Yoe(e,t){if(Yc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yB=function(t,i,n,r,s){var a=t.width,u=t.height,c=t.layout,h=t.children,p=Object.keys(i),g={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},m=!!$i(h,Is);return p.reduce(function(y,b){var w=i[b],S=w.orientation,x=w.domain,E=w.padding,R=E===void 0?{}:E,T=w.mirror,A=w.reversed,P="".concat(S).concat(T?"Mirror":""),F,I,k,W,V;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var B=x[1]-x[0],K=1/0,Y=w.categoricalDomain.sort($Y);if(Y.forEach(function(se,ge){ge>0&&(K=Math.min((se||0)-(Y[ge-1]||0),K))}),Number.isFinite(K)){var H=K/B,_=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(F=H*_/2),w.padding==="no-gap"){var U=Fo(t.barCategoryGap,H*_),Q=H*_/2;F=Q-U-(Q-U)/_*U}}}r==="xAxis"?I=[n.left+(R.left||0)+(F||0),n.left+n.width-(R.right||0)-(F||0)]:r==="yAxis"?I=c==="horizontal"?[n.top+n.height-(R.bottom||0),n.top+(R.top||0)]:[n.top+(R.top||0)+(F||0),n.top+n.height-(R.bottom||0)-(F||0)]:I=w.range,A&&(I=[I[1],I[0]]);var ae=sie(w,s,m),de=ae.scale,G=ae.realScaleType;de.domain(x).range(I),oie(de);var z=pie(de,Dn(Dn({},w),{},{realScaleType:G}));r==="xAxis"?(V=S==="top"&&!T||S==="bottom"&&T,k=n.left,W=g[P]-V*w.height):r==="yAxis"&&(V=S==="left"&&!T||S==="right"&&T,k=g[P]-V*w.width,W=n.top);var re=Dn(Dn(Dn({},w),z),{},{realScaleType:G,x:k,y:W,scale:de,width:r==="xAxis"?n.width:w.width,height:r==="yAxis"?n.height:w.height});return re.bandSize=Hf(re,z),!w.hide&&r==="xAxis"?g[P]+=(V?-1:1)*re.height:w.hide||(g[P]+=(V?-1:1)*re.width),Dn(Dn({},y),{},qp({},b,re))},{})},CB=function(t,i){var n=t.x,r=t.y,s=i.x,a=i.y;return{x:Math.min(n,s),y:Math.min(r,a),width:Math.abs(s-n),height:Math.abs(a-r)}},Xoe=function(t){var i=t.x1,n=t.y1,r=t.x2,s=t.y2;return CB({x:i,y:n},{x:r,y:s})},SB=(function(){function e(t){qoe(this,e),this.scale=t}return Koe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.bandAware,s=n.position;if(i!==void 0){if(s)switch(s){case"start":return this.scale(i);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(i)+a}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(i)+u}default:return this.scale(i)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(i)+c}return this.scale(i)}}},{key:"isInRange",value:function(i){var n=this.range(),r=n[0],s=n[n.length-1];return r<=s?i>=r&&i<=s:i>=s&&i<=r}}],[{key:"create",value:function(i){return new e(i)}}])})();qp(SB,"EPS",1e-4);var hR=function(t){var i=Object.keys(t).reduce(function(n,r){return Dn(Dn({},n),{},qp({},r,SB.create(t[r])))},{});return Dn(Dn({},i),{},{apply:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,u=s.position;return xoe(r,function(c,h){return i[h].apply(c,{bandAware:a,position:u})})},isInRange:function(r){return Doe(r,function(s,a){return i[a].isInRange(s)})}})};function Qoe(e){return(e%180+180)%180}var Zoe=function(t){var i=t.width,n=t.height,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Qoe(r),a=s*Math.PI/180,u=Math.atan(n/i),c=a>u&&a<Math.PI-u?n/Math.sin(a):i/Math.cos(a);return Math.abs(c)},Mb,cI;function Joe(){if(cI)return Mb;cI=1;var e=Ts(),t=sd(),i=Op();function n(r){return function(s,a,u){var c=Object(s);if(!t(s)){var h=e(a,3);s=i(s),a=function(g){return h(c[g],g,c)}}var p=r(s,a,u);return p>-1?c[h?s[p]:p]:void 0}}return Mb=n,Mb}var Fb,dI;function eae(){if(dI)return Fb;dI=1;var e=cB();function t(i){var n=e(i),r=n%1;return n===n?r?n-r:n:0}return Fb=t,Fb}var Ob,hI;function tae(){if(hI)return Ob;hI=1;var e=Nk(),t=Ts(),i=eae(),n=Math.max;function r(s,a,u){var c=s==null?0:s.length;if(!c)return-1;var h=u==null?0:i(u);return h<0&&(h=n(c+h,0)),e(s,t(a,3),h)}return Ob=r,Ob}var Lb,fI;function iae(){if(fI)return Lb;fI=1;var e=Joe(),t=tae(),i=e(t);return Lb=i,Lb}iae();var nae=X_();const rae=ut(nae);var sae=rae(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),bB=M.createContext(void 0),wB=M.createContext(void 0),xB=M.createContext(void 0),oae=M.createContext({}),RB=M.createContext(void 0),EB=M.createContext(0),AB=M.createContext(0),pI=function(t){var i=t.state,n=i.xAxisMap,r=i.yAxisMap,s=i.offset,a=t.clipPathId,u=t.children,c=t.width,h=t.height,p=sae(s);return N.createElement(bB.Provider,{value:n},N.createElement(wB.Provider,{value:r},N.createElement(oae.Provider,{value:s},N.createElement(xB.Provider,{value:p},N.createElement(RB.Provider,{value:a},N.createElement(EB.Provider,{value:h},N.createElement(AB.Provider,{value:c},u)))))))},aae=function(){return M.useContext(RB)},PB=function(t){var i=M.useContext(bB);i==null&&Io();var n=i[t];return n==null&&Io(),n},DB=function(t){var i=M.useContext(wB);i==null&&Io();var n=i[t];return n==null&&Io(),n},lae=function(){var t=M.useContext(xB);return t},TB=function(){return M.useContext(AB)},MB=function(){return M.useContext(EB)};function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function uae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cae(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OB(n.key),n)}}function dae(e,t,i){return t&&cae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hae(e,t,i){return t=tp(t),fae(e,FB()?Reflect.construct(t,i||[],tp(e).constructor):t.apply(e,i))}function fae(e,t){if(t&&(cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pae(e)}function pae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FB=function(){return!!e})()}function tp(e){return tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},tp(e)}function gae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ux(e,t)}function ux(e,t){return ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ux(e,t)}function gI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function mI(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(i),!0).forEach(function(n){fR(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):gI(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function fR(e,t,i){return t=OB(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function OB(e){var t=mae(e,"string");return cl(t)=="symbol"?t:t+""}function mae(e,t){if(cl(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vae(e,t){return bae(e)||Sae(e,t)||Cae(e,t)||yae()}function yae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cae(e,t){if(e){if(typeof e=="string")return vI(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return vI(e,t)}}function vI(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function Sae(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var n,r,s,a,u=[],c=!0,h=!1;try{if(s=(i=i.call(e)).next,t!==0)for(;!(c=(n=s.call(i)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(p){h=!0,r=p}finally{try{if(!c&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(h)throw r}}return u}}function bae(e){if(Array.isArray(e))return e}function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},cx.apply(this,arguments)}var wae=function(t,i){var n;return N.isValidElement(t)?n=N.cloneElement(t,i):Ge(t)?n=t(i):n=N.createElement("line",cx({},i,{className:"recharts-reference-line-line"})),n},xae=function(t,i,n,r,s,a,u,c,h){var p=s.x,g=s.y,m=s.width,y=s.height;if(n){var b=h.y,w=t.y.apply(b,{position:a});if(Xn(h,"discard")&&!t.y.isInRange(w))return null;var S=[{x:p+m,y:w},{x:p,y:w}];return c==="left"?S.reverse():S}if(i){var x=h.x,E=t.x.apply(x,{position:a});if(Xn(h,"discard")&&!t.x.isInRange(E))return null;var R=[{x:E,y:g+y},{x:E,y:g}];return u==="top"?R.reverse():R}if(r){var T=h.segment,A=T.map(function(P){return t.apply(P,{position:a})});return Xn(h,"discard")&&Coe(A,function(P){return!t.isInRange(P)})?null:A}return null};function Rae(e){var t=e.x,i=e.y,n=e.segment,r=e.xAxisId,s=e.yAxisId,a=e.shape,u=e.className,c=e.alwaysShow,h=aae(),p=PB(r),g=DB(s),m=lae();if(!h||!m)return null;bo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=hR({x:p.scale,y:g.scale}),b=zt(t),w=zt(i),S=n&&n.length===2,x=xae(y,b,w,S,m,e.position,p.orientation,g.orientation,e);if(!x)return null;var E=vae(x,2),R=E[0],T=R.x,A=R.y,P=E[1],F=P.x,I=P.y,k=Xn(e,"hidden")?"url(#".concat(h,")"):void 0,W=mI(mI({clipPath:k},Ie(e,!0)),{},{x1:T,y1:A,x2:F,y2:I});return N.createElement(et,{className:Ue("recharts-reference-line",u)},wae(a,W),di.renderCallByParent(e,Xoe({x1:T,y1:A,x2:F,y2:I})))}var Kp=(function(e){function t(){return uae(this,t),hae(this,t,arguments)}return gae(t,e),dae(t,[{key:"render",value:function(){return N.createElement(Rae,this.props)}}])})(N.Component);fR(Kp,"displayName","ReferenceLine");fR(Kp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},dx.apply(this,arguments)}function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}function yI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function CI(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(i),!0).forEach(function(n){Yp(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):yI(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Eae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Aae(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IB(n.key),n)}}function Pae(e,t,i){return t&&Aae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dae(e,t,i){return t=ip(t),Tae(e,LB()?Reflect.construct(t,i||[],ip(e).constructor):t.apply(e,i))}function Tae(e,t){if(t&&(dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mae(e)}function Mae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LB=function(){return!!e})()}function ip(e){return ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ip(e)}function Fae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hx(e,t)}function hx(e,t){return hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},hx(e,t)}function Yp(e,t,i){return t=IB(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function IB(e){var t=Oae(e,"string");return dl(t)=="symbol"?t:t+""}function Oae(e,t){if(dl(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lae=function(t){var i=t.x,n=t.y,r=t.xAxis,s=t.yAxis,a=hR({x:r.scale,y:s.scale}),u=a.apply({x:i,y:n},{bandAware:!0});return Xn(t,"discard")&&!a.isInRange(u)?null:u},Xp=(function(e){function t(){return Eae(this,t),Dae(this,t,arguments)}return Fae(t,e),Pae(t,[{key:"render",value:function(){var n=this.props,r=n.x,s=n.y,a=n.r,u=n.alwaysShow,c=n.clipPathId,h=zt(r),p=zt(s);if(bo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!p)return null;var g=Lae(this.props);if(!g)return null;var m=g.x,y=g.y,b=this.props,w=b.shape,S=b.className,x=Xn(this.props,"hidden")?"url(#".concat(c,")"):void 0,E=CI(CI({clipPath:x},Ie(this.props,!0)),{},{cx:m,cy:y});return N.createElement(et,{className:Ue("recharts-reference-dot",S)},t.renderDot(w,E),di.renderCallByParent(this.props,{x:m-a,y:y-a,width:2*a,height:2*a}))}}])})(N.Component);Yp(Xp,"displayName","ReferenceDot");Yp(Xp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Yp(Xp,"renderDot",function(e,t){var i;return N.isValidElement(e)?i=N.cloneElement(e,t):Ge(e)?i=e(t):i=N.createElement(Wp,dx({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),i});function fx(){return fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},fx.apply(this,arguments)}function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function SI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function bI(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?SI(Object(i),!0).forEach(function(n){Qp(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):SI(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Iae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nae(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_B(n.key),n)}}function _ae(e,t,i){return t&&Nae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kae(e,t,i){return t=np(t),Gae(e,NB()?Reflect.construct(t,i||[],np(e).constructor):t.apply(e,i))}function Gae(e,t){if(t&&(hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bae(e)}function Bae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NB=function(){return!!e})()}function np(e){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},np(e)}function Hae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&px(e,t)}function px(e,t){return px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},px(e,t)}function Qp(e,t,i){return t=_B(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _B(e){var t=Vae(e,"string");return hl(t)=="symbol"?t:t+""}function Vae(e,t){if(hl(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jae=function(t,i,n,r,s){var a=s.x1,u=s.x2,c=s.y1,h=s.y2,p=s.xAxis,g=s.yAxis;if(!p||!g)return null;var m=hR({x:p.scale,y:g.scale}),y={x:t?m.x.apply(a,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},b={x:i?m.x.apply(u,{position:"end"}):m.x.rangeMax,y:r?m.y.apply(h,{position:"end"}):m.y.rangeMax};return Xn(s,"discard")&&(!m.isInRange(y)||!m.isInRange(b))?null:CB(y,b)},Zp=(function(e){function t(){return Iae(this,t),kae(this,t,arguments)}return Hae(t,e),_ae(t,[{key:"render",value:function(){var n=this.props,r=n.x1,s=n.x2,a=n.y1,u=n.y2,c=n.className,h=n.alwaysShow,p=n.clipPathId;bo(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=zt(r),m=zt(s),y=zt(a),b=zt(u),w=this.props.shape;if(!g&&!m&&!y&&!b&&!w)return null;var S=jae(g,m,y,b,this.props);if(!S&&!w)return null;var x=Xn(this.props,"hidden")?"url(#".concat(p,")"):void 0;return N.createElement(et,{className:Ue("recharts-reference-area",c)},t.renderRect(w,bI(bI({clipPath:x},Ie(this.props,!0)),S)),di.renderCallByParent(this.props,S))}}])})(N.Component);Qp(Zp,"displayName","ReferenceArea");Qp(Zp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Qp(Zp,"renderRect",function(e,t){var i;return N.isValidElement(e)?i=N.cloneElement(e,t):Ge(e)?i=e(t):i=N.createElement(dR,fx({},t,{className:"recharts-reference-area-rect"})),i});function kB(e,t,i){if(t<1)return[];if(t===1&&i===void 0)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function zae(e,t,i){var n={width:e.width+t.width,height:e.height+t.height};return Zoe(n,i)}function Wae(e,t,i){var n=i==="width",r=e.x,s=e.y,a=e.width,u=e.height;return t===1?{start:n?r:s,end:n?r+a:s+u}:{start:n?r+a:s+u,end:n?r:s}}function rp(e,t,i,n,r){if(e*t<e*n||e*t>e*r)return!1;var s=i();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-r)<=0}function Uae(e,t){return kB(e,t+1)}function $ae(e,t,i,n,r){for(var s=(n||[]).slice(),a=t.start,u=t.end,c=0,h=1,p=a,g=function(){var b=n==null?void 0:n[c];if(b===void 0)return{v:kB(n,h)};var w=c,S,x=function(){return S===void 0&&(S=i(b,w)),S},E=b.coordinate,R=c===0||rp(e,E,x,p,u);R||(c=0,p=a,h+=1),R&&(p=E+e*(x()/2+r),c+=h)},m;h<=s.length;)if(m=g(),m)return m.v;return[]}function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function wI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function ui(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(i),!0).forEach(function(n){qae(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):wI(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function qae(e,t,i){return t=Kae(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Kae(e){var t=Yae(e,"string");return Xc(t)=="symbol"?t:t+""}function Yae(e,t){if(Xc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xae(e,t,i,n,r){for(var s=(n||[]).slice(),a=s.length,u=t.start,c=t.end,h=function(m){var y=s[m],b,w=function(){return b===void 0&&(b=i(y,m)),b};if(m===a-1){var S=e*(y.coordinate+e*w()/2-c);s[m]=y=ui(ui({},y),{},{tickCoord:S>0?y.coordinate-S*e:y.coordinate})}else s[m]=y=ui(ui({},y),{},{tickCoord:y.coordinate});var x=rp(e,y.tickCoord,w,u,c);x&&(c=y.tickCoord-e*(w()/2+r),s[m]=ui(ui({},y),{},{isShow:!0}))},p=a-1;p>=0;p--)h(p);return s}function Qae(e,t,i,n,r,s){var a=(n||[]).slice(),u=a.length,c=t.start,h=t.end;if(s){var p=n[u-1],g=i(p,u-1),m=e*(p.coordinate+e*g/2-h);a[u-1]=p=ui(ui({},p),{},{tickCoord:m>0?p.coordinate-m*e:p.coordinate});var y=rp(e,p.tickCoord,function(){return g},c,h);y&&(h=p.tickCoord-e*(g/2+r),a[u-1]=ui(ui({},p),{},{isShow:!0}))}for(var b=s?u-1:u,w=function(E){var R=a[E],T,A=function(){return T===void 0&&(T=i(R,E)),T};if(E===0){var P=e*(R.coordinate-e*A()/2-c);a[E]=R=ui(ui({},R),{},{tickCoord:P<0?R.coordinate-P*e:R.coordinate})}else a[E]=R=ui(ui({},R),{},{tickCoord:R.coordinate});var F=rp(e,R.tickCoord,A,c,h);F&&(c=R.tickCoord+e*(A()/2+r),a[E]=ui(ui({},R),{},{isShow:!0}))},S=0;S<b;S++)w(S);return a}function Zae(e,t,i){var n=e.tick,r=e.ticks,s=e.viewBox,a=e.minTickGap,u=e.orientation,c=e.interval,h=e.tickFormatter,p=e.unit,g=e.angle;if(!r||!r.length||!n)return[];if(me(c)||Ms.isSsr)return Uae(r,typeof c=="number"&&me(c)?c:0);var m=[],y=u==="top"||u==="bottom"?"width":"height",b=p&&y==="width"?ic(p,{fontSize:t,letterSpacing:i}):{width:0,height:0},w=function(R,T){var A=Ge(h)?h(R.value,T):R.value;return y==="width"?zae(ic(A,{fontSize:t,letterSpacing:i}),b,g):ic(A,{fontSize:t,letterSpacing:i})[y]},S=r.length>=2?Ln(r[1].coordinate-r[0].coordinate):1,x=Wae(s,S,y);return c==="equidistantPreserveStart"?$ae(S,x,w,r,a):(c==="preserveStart"||c==="preserveStartEnd"?m=Qae(S,x,w,r,a,c==="preserveStartEnd"):m=Xae(S,x,w,r,a),m.filter(function(E){return E.isShow}))}var Jae=["viewBox"],ele=["viewBox"],tle=["ticks"];function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ka.apply(this,arguments)}function xI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Vt(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(i),!0).forEach(function(n){pR(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xI(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Ib(e,t){if(e==null)return{};var i=ile(e,t),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ile(e,t){if(e==null)return{};var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}function nle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RI(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BB(n.key),n)}}function rle(e,t,i){return t&&RI(e.prototype,t),i&&RI(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function sle(e,t,i){return t=sp(t),ole(e,GB()?Reflect.construct(t,i||[],sp(e).constructor):t.apply(e,i))}function ole(e,t){if(t&&(fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ale(e)}function ale(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GB=function(){return!!e})()}function sp(e){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},sp(e)}function lle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gx(e,t)}function gx(e,t){return gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},gx(e,t)}function pR(e,t,i){return t=BB(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function BB(e){var t=ule(e,"string");return fl(t)=="symbol"?t:t+""}function ule(e,t){if(fl(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jp=(function(e){function t(i){var n;return nle(this,t),n=sle(this,t,[i]),n.state={fontSize:"",letterSpacing:""},n}return lle(t,e),rle(t,[{key:"shouldComponentUpdate",value:function(n,r){var s=n.viewBox,a=Ib(n,Jae),u=this.props,c=u.viewBox,h=Ib(u,ele);return!ja(s,c)||!ja(a,h)||!ja(r,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var r=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];r&&this.setState({fontSize:window.getComputedStyle(r).fontSize,letterSpacing:window.getComputedStyle(r).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var r=this.props,s=r.x,a=r.y,u=r.width,c=r.height,h=r.orientation,p=r.tickSize,g=r.mirror,m=r.tickMargin,y,b,w,S,x,E,R=g?-1:1,T=n.tickSize||p,A=me(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":y=b=n.coordinate,S=a+ +!g*c,w=S-R*T,E=w-R*m,x=A;break;case"left":w=S=n.coordinate,b=s+ +!g*u,y=b-R*T,x=y-R*m,E=A;break;case"right":w=S=n.coordinate,b=s+ +g*u,y=b+R*T,x=y+R*m,E=A;break;default:y=b=n.coordinate,S=a+ +g*c,w=S+R*T,E=w+R*m,x=A;break}return{line:{x1:y,y1:w,x2:b,y2:S},tick:{x,y:E}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,r=n.orientation,s=n.mirror,a;switch(r){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,r=n.orientation,s=n.mirror,a="end";switch(r){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var n=this.props,r=n.x,s=n.y,a=n.width,u=n.height,c=n.orientation,h=n.mirror,p=n.axisLine,g=Vt(Vt(Vt({},Ie(this.props,!1)),Ie(p,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!h||c==="bottom"&&h);g=Vt(Vt({},g),{},{x1:r,y1:s+m*u,x2:r+a,y2:s+m*u})}else{var y=+(c==="left"&&!h||c==="right"&&h);g=Vt(Vt({},g),{},{x1:r+y*a,y1:s,x2:r+y*a,y2:s+u})}return N.createElement("line",ka({},g,{className:Ue("recharts-cartesian-axis-line",yn(p,"className"))}))}},{key:"renderTicks",value:function(n,r,s){var a=this,u=this.props,c=u.tickLine,h=u.stroke,p=u.tick,g=u.tickFormatter,m=u.unit,y=Zae(Vt(Vt({},this.props),{},{ticks:n}),r,s),b=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),S=Ie(this.props,!1),x=Ie(p,!1),E=Vt(Vt({},S),{},{fill:"none"},Ie(c,!1)),R=y.map(function(T,A){var P=a.getTickLineCoord(T),F=P.line,I=P.tick,k=Vt(Vt(Vt(Vt({textAnchor:b,verticalAnchor:w},S),{},{stroke:"none",fill:h},x),I),{},{index:A,payload:T,visibleTicksCount:y.length,tickFormatter:g});return N.createElement(et,ka({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},vc(a.props,T,A)),c&&N.createElement("line",ka({},E,F,{className:Ue("recharts-cartesian-axis-tick-line",yn(c,"className"))})),p&&t.renderTickItem(p,k,"".concat(Ge(g)?g(T.value,A):T.value).concat(m||"")))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks"},R)}},{key:"render",value:function(){var n=this,r=this.props,s=r.axisLine,a=r.width,u=r.height,c=r.ticksGenerator,h=r.className,p=r.hide;if(p)return null;var g=this.props,m=g.ticks,y=Ib(g,tle),b=m;return Ge(c)&&(b=m&&m.length>0?c(this.props):c(y)),a<=0||u<=0||!b||!b.length?null:N.createElement(et,{className:Ue("recharts-cartesian-axis",h),ref:function(S){n.layerReference=S}},s&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),di.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,r,s){var a,u=Ue(r.className,"recharts-cartesian-axis-tick-value");return N.isValidElement(n)?a=N.cloneElement(n,Vt(Vt({},r),{},{className:u})):Ge(n)?a=n(Vt(Vt({},r),{},{className:u})):a=N.createElement(Ef,ka({},r,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])})(M.Component);pR(Jp,"displayName","CartesianAxis");pR(Jp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var cle=["type","layout","connectNulls","ref"],dle=["key"];function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function EI(e,t){if(e==null)return{};var i=hle(e,t),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hle(e,t){if(e==null)return{};var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}function oc(){return oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},oc.apply(this,arguments)}function AI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Wi(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(i),!0).forEach(function(n){Tn(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):AI(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Oa(e){return mle(e)||gle(e)||ple(e)||fle()}function fle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ple(e,t){if(e){if(typeof e=="string")return mx(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return mx(e,t)}}function gle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mle(e){if(Array.isArray(e))return mx(e)}function mx(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function vle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PI(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VB(n.key),n)}}function yle(e,t,i){return t&&PI(e.prototype,t),i&&PI(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cle(e,t,i){return t=op(t),Sle(e,HB()?Reflect.construct(t,i||[],op(e).constructor):t.apply(e,i))}function Sle(e,t){if(t&&(pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ble(e)}function ble(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HB=function(){return!!e})()}function op(e){return op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},op(e)}function wle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vx(e,t)}function vx(e,t){return vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},vx(e,t)}function Tn(e,t,i){return t=VB(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function VB(e){var t=xle(e,"string");return pl(t)=="symbol"?t:t+""}function xle(e,t){if(pl(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ao=(function(e){function t(){var i;vle(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return i=Cle(this,t,[].concat(r)),Tn(i,"state",{isAnimationFinished:!0,totalLength:0}),Tn(i,"generateSimpleStrokeDasharray",function(a,u){return"".concat(u,"px ").concat(a-u,"px")}),Tn(i,"getStrokeDasharray",function(a,u,c){var h=c.reduce(function(x,E){return x+E});if(!h)return i.generateSimpleStrokeDasharray(u,a);for(var p=Math.floor(a/h),g=a%h,m=u-a,y=[],b=0,w=0;b<c.length;w+=c[b],++b)if(w+c[b]>g){y=[].concat(Oa(c.slice(0,b)),[g-w]);break}var S=y.length%2===0?[0,m]:[m];return[].concat(Oa(t.repeat(c,p)),Oa(y),S).map(function(x){return"".concat(x,"px")}).join(", ")}),Tn(i,"id",Ho("recharts-line-")),Tn(i,"pathRef",function(a){i.mainCurve=a}),Tn(i,"handleAnimationEnd",function(){i.setState({isAnimationFinished:!0}),i.props.onAnimationEnd&&i.props.onAnimationEnd()}),Tn(i,"handleAnimationStart",function(){i.setState({isAnimationFinished:!1}),i.props.onAnimationStart&&i.props.onAnimationStart()}),i}return wle(t,e),yle(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,u=s.xAxis,c=s.yAxis,h=s.layout,p=s.children,g=Fi(p,_l);if(!g)return null;var m=function(w,S){return{x:w.x,y:w.y,value:w.value,errorVal:Wt(w.payload,S)}},y={clipPath:n?"url(#clipPath-".concat(r,")"):null};return N.createElement(et,y,g.map(function(b){return N.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:a,xAxis:u,yAxis:c,layout:h,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,r,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var u=this.props,c=u.dot,h=u.points,p=u.dataKey,g=Ie(this.props,!1),m=Ie(c,!0),y=h.map(function(w,S){var x=Wi(Wi(Wi({key:"dot-".concat(S),r:3},g),m),{},{index:S,cx:w.x,cy:w.y,value:w.value,dataKey:p,payload:w.payload,points:h});return t.renderDotItem(c,x)}),b={clipPath:n?"url(#clipPath-".concat(r?"":"dots-").concat(s,")"):null};return N.createElement(et,oc({className:"recharts-line-dots",key:"dots"},b),y)}},{key:"renderCurveStatically",value:function(n,r,s,a){var u=this.props,c=u.type,h=u.layout,p=u.connectNulls;u.ref;var g=EI(u,cle),m=Wi(Wi(Wi({},Ie(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:r?"url(#clipPath-".concat(s,")"):null,points:n},a),{},{type:c,layout:h,connectNulls:p});return N.createElement(Eo,oc({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,r){var s=this,a=this.props,u=a.points,c=a.strokeDasharray,h=a.isAnimationActive,p=a.animationBegin,g=a.animationDuration,m=a.animationEasing,y=a.animationId,b=a.animateNewValues,w=a.width,S=a.height,x=this.state,E=x.prevPoints,R=x.totalLength;return N.createElement(_n,{begin:p,duration:g,isActive:h,easing:m,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var A=T.t;if(E){var P=E.length/u.length,F=u.map(function(B,K){var Y=Math.floor(K*P);if(E[Y]){var H=E[Y],_=Ft(H.x,B.x),U=Ft(H.y,B.y);return Wi(Wi({},B),{},{x:_(A),y:U(A)})}if(b){var Q=Ft(w*2,B.x),ae=Ft(S/2,B.y);return Wi(Wi({},B),{},{x:Q(A),y:ae(A)})}return Wi(Wi({},B),{},{x:B.x,y:B.y})});return s.renderCurveStatically(F,n,r)}var I=Ft(0,R),k=I(A),W;if(c){var V="".concat(c).split(/[,\s]+/gim).map(function(B){return parseFloat(B)});W=s.getStrokeDasharray(k,R,V)}else W=s.generateSimpleStrokeDasharray(R,k);return s.renderCurveStatically(u,n,r,{strokeDasharray:W})})}},{key:"renderCurve",value:function(n,r){var s=this.props,a=s.points,u=s.isAnimationActive,c=this.state,h=c.prevPoints,p=c.totalLength;return u&&a&&a.length&&(!h&&p>0||!Oo(h,a))?this.renderCurveWithAnimation(n,r):this.renderCurveStatically(a,n,r)}},{key:"render",value:function(){var n,r=this.props,s=r.hide,a=r.dot,u=r.points,c=r.className,h=r.xAxis,p=r.yAxis,g=r.top,m=r.left,y=r.width,b=r.height,w=r.isAnimationActive,S=r.id;if(s||!u||!u.length)return null;var x=this.state.isAnimationFinished,E=u.length===1,R=Ue("recharts-line",c),T=h&&h.allowDataOverflow,A=p&&p.allowDataOverflow,P=T||A,F=Oe(S)?this.id:S,I=(n=Ie(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},k=I.r,W=k===void 0?3:k,V=I.strokeWidth,B=V===void 0?2:V,K=tk(a)?a:{},Y=K.clipDot,H=Y===void 0?!0:Y,_=W*2+B;return N.createElement(et,{className:R},T||A?N.createElement("defs",null,N.createElement("clipPath",{id:"clipPath-".concat(F)},N.createElement("rect",{x:T?m:m-y/2,y:A?g:g-b/2,width:T?y:y*2,height:A?b:b*2})),!H&&N.createElement("clipPath",{id:"clipPath-dots-".concat(F)},N.createElement("rect",{x:m-_/2,y:g-_/2,width:y+_,height:b+_}))):null,!E&&this.renderCurve(P,F),this.renderErrorBar(P,F),(E||a)&&this.renderDots(P,H,F),(!w||x)&&Yn.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,r){return n.animationId!==r.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:r.curPoints}:n.points!==r.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,r){for(var s=n.length%2!==0?[].concat(Oa(n),[0]):n,a=[],u=0;u<r;++u)a=[].concat(Oa(a),Oa(s));return a}},{key:"renderDotItem",value:function(n,r){var s;if(N.isValidElement(n))s=N.cloneElement(n,r);else if(Ge(n))s=n(r);else{var a=r.key,u=EI(r,dle),c=Ue("recharts-line-dot",typeof n!="boolean"?n.className:"");s=N.createElement(Wp,oc({key:a},u,{className:c}))}return s}}])})(M.PureComponent);Tn(Ao,"displayName","Line");Tn(Ao,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ms.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Tn(Ao,"getComposedData",function(e){var t=e.props,i=e.xAxis,n=e.yAxis,r=e.xAxisTicks,s=e.yAxisTicks,a=e.dataKey,u=e.bandSize,c=e.displayedData,h=e.offset,p=t.layout,g=c.map(function(m,y){var b=Wt(m,a);return p==="horizontal"?{x:sl({axis:i,ticks:r,bandSize:u,entry:m,index:y}),y:Oe(b)?null:n.scale(b),value:b,payload:m}:{x:Oe(b)?null:i.scale(b),y:sl({axis:n,ticks:s,bandSize:u,entry:m,index:y}),value:b,payload:m}});return Wi({points:g,layout:p},h)});var Rle=["layout","type","stroke","connectNulls","isRange","ref"],Ele=["key"],jB;function gl(e){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function zB(e,t){if(e==null)return{};var i=Ale(e,t),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ale(e,t){if(e==null)return{};var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}function go(){return go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},go.apply(this,arguments)}function DI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function ms(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?DI(Object(i),!0).forEach(function(n){$n(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):DI(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Ple(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TI(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UB(n.key),n)}}function Dle(e,t,i){return t&&TI(e.prototype,t),i&&TI(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tle(e,t,i){return t=ap(t),Mle(e,WB()?Reflect.construct(t,i||[],ap(e).constructor):t.apply(e,i))}function Mle(e,t){if(t&&(gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fle(e)}function Fle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WB=function(){return!!e})()}function ap(e){return ap=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},ap(e)}function Ole(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yx(e,t)}function yx(e,t){return yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},yx(e,t)}function $n(e,t,i){return t=UB(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function UB(e){var t=Lle(e,"string");return gl(t)=="symbol"?t:t+""}function Lle(e,t){if(gl(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ns=(function(e){function t(){var i;Ple(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return i=Tle(this,t,[].concat(r)),$n(i,"state",{isAnimationFinished:!0}),$n(i,"id",Ho("recharts-area-")),$n(i,"handleAnimationEnd",function(){var a=i.props.onAnimationEnd;i.setState({isAnimationFinished:!0}),Ge(a)&&a()}),$n(i,"handleAnimationStart",function(){var a=i.props.onAnimationStart;i.setState({isAnimationFinished:!1}),Ge(a)&&a()}),i}return Ole(t,e),Dle(t,[{key:"renderDots",value:function(n,r,s){var a=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(a&&!u)return null;var c=this.props,h=c.dot,p=c.points,g=c.dataKey,m=Ie(this.props,!1),y=Ie(h,!0),b=p.map(function(S,x){var E=ms(ms(ms({key:"dot-".concat(x),r:3},m),y),{},{index:x,cx:S.x,cy:S.y,dataKey:g,value:S.value,payload:S.payload,points:p});return t.renderDotItem(h,E)}),w={clipPath:n?"url(#clipPath-".concat(r?"":"dots-").concat(s,")"):null};return N.createElement(et,go({className:"recharts-area-dots"},w),b)}},{key:"renderHorizontalRect",value:function(n){var r=this.props,s=r.baseLine,a=r.points,u=r.strokeWidth,c=a[0].x,h=a[a.length-1].x,p=n*Math.abs(c-h),g=Cs(a.map(function(m){return m.y||0}));return me(s)&&typeof s=="number"?g=Math.max(s,g):s&&Array.isArray(s)&&s.length&&(g=Math.max(Cs(s.map(function(m){return m.y||0})),g)),me(g)?N.createElement("rect",{x:c<h?c:c-p,y:0,width:p,height:Math.floor(g+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var r=this.props,s=r.baseLine,a=r.points,u=r.strokeWidth,c=a[0].y,h=a[a.length-1].y,p=n*Math.abs(c-h),g=Cs(a.map(function(m){return m.x||0}));return me(s)&&typeof s=="number"?g=Math.max(s,g):s&&Array.isArray(s)&&s.length&&(g=Math.max(Cs(s.map(function(m){return m.x||0})),g)),me(g)?N.createElement("rect",{x:0,y:c<h?c:c-p,width:g+(u?parseInt("".concat(u),10):1),height:Math.floor(p)}):null}},{key:"renderClipRect",value:function(n){var r=this.props.layout;return r==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,r,s,a){var u=this.props,c=u.layout,h=u.type,p=u.stroke,g=u.connectNulls,m=u.isRange;u.ref;var y=zB(u,Rle);return N.createElement(et,{clipPath:s?"url(#clipPath-".concat(a,")"):null},N.createElement(Eo,go({},Ie(y,!0),{points:n,connectNulls:g,type:h,baseLine:r,layout:c,stroke:"none",className:"recharts-area-area"})),p!=="none"&&N.createElement(Eo,go({},Ie(this.props,!1),{className:"recharts-area-curve",layout:c,type:h,connectNulls:g,fill:"none",points:n})),p!=="none"&&m&&N.createElement(Eo,go({},Ie(this.props,!1),{className:"recharts-area-curve",layout:c,type:h,connectNulls:g,fill:"none",points:r})))}},{key:"renderAreaWithAnimation",value:function(n,r){var s=this,a=this.props,u=a.points,c=a.baseLine,h=a.isAnimationActive,p=a.animationBegin,g=a.animationDuration,m=a.animationEasing,y=a.animationId,b=this.state,w=b.prevPoints,S=b.prevBaseLine;return N.createElement(_n,{begin:p,duration:g,isActive:h,easing:m,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var E=x.t;if(w){var R=w.length/u.length,T=u.map(function(I,k){var W=Math.floor(k*R);if(w[W]){var V=w[W],B=Ft(V.x,I.x),K=Ft(V.y,I.y);return ms(ms({},I),{},{x:B(E),y:K(E)})}return I}),A;if(me(c)&&typeof c=="number"){var P=Ft(S,c);A=P(E)}else if(Oe(c)||Fl(c)){var F=Ft(S,0);A=F(E)}else A=c.map(function(I,k){var W=Math.floor(k*R);if(S[W]){var V=S[W],B=Ft(V.x,I.x),K=Ft(V.y,I.y);return ms(ms({},I),{},{x:B(E),y:K(E)})}return I});return s.renderAreaStatically(T,A,n,r)}return N.createElement(et,null,N.createElement("defs",null,N.createElement("clipPath",{id:"animationClipPath-".concat(r)},s.renderClipRect(E))),N.createElement(et,{clipPath:"url(#animationClipPath-".concat(r,")")},s.renderAreaStatically(u,c,n,r)))})}},{key:"renderArea",value:function(n,r){var s=this.props,a=s.points,u=s.baseLine,c=s.isAnimationActive,h=this.state,p=h.prevPoints,g=h.prevBaseLine,m=h.totalLength;return c&&a&&a.length&&(!p&&m>0||!Oo(p,a)||!Oo(g,u))?this.renderAreaWithAnimation(n,r):this.renderAreaStatically(a,u,n,r)}},{key:"render",value:function(){var n,r=this.props,s=r.hide,a=r.dot,u=r.points,c=r.className,h=r.top,p=r.left,g=r.xAxis,m=r.yAxis,y=r.width,b=r.height,w=r.isAnimationActive,S=r.id;if(s||!u||!u.length)return null;var x=this.state.isAnimationFinished,E=u.length===1,R=Ue("recharts-area",c),T=g&&g.allowDataOverflow,A=m&&m.allowDataOverflow,P=T||A,F=Oe(S)?this.id:S,I=(n=Ie(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},k=I.r,W=k===void 0?3:k,V=I.strokeWidth,B=V===void 0?2:V,K=tk(a)?a:{},Y=K.clipDot,H=Y===void 0?!0:Y,_=W*2+B;return N.createElement(et,{className:R},T||A?N.createElement("defs",null,N.createElement("clipPath",{id:"clipPath-".concat(F)},N.createElement("rect",{x:T?p:p-y/2,y:A?h:h-b/2,width:T?y:y*2,height:A?b:b*2})),!H&&N.createElement("clipPath",{id:"clipPath-dots-".concat(F)},N.createElement("rect",{x:p-_/2,y:h-_/2,width:y+_,height:b+_}))):null,E?null:this.renderArea(P,F),(a||E)&&this.renderDots(P,H,F),(!w||x)&&Yn.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,r){return n.animationId!==r.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:r.curPoints,prevBaseLine:r.curBaseLine}:n.points!==r.curPoints||n.baseLine!==r.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(M.PureComponent);jB=Ns;$n(Ns,"displayName","Area");$n(Ns,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ms.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});$n(Ns,"getBaseValue",function(e,t,i,n){var r=e.layout,s=e.baseValue,a=t.props.baseValue,u=a??s;if(me(u)&&typeof u=="number")return u;var c=r==="horizontal"?n:i,h=c.scale.domain();if(c.type==="number"){var p=Math.max(h[0],h[1]),g=Math.min(h[0],h[1]);return u==="dataMin"?g:u==="dataMax"||p<0?p:Math.max(Math.min(h[0],h[1]),0)}return u==="dataMin"?h[0]:u==="dataMax"?h[1]:h[0]});$n(Ns,"getComposedData",function(e){var t=e.props,i=e.item,n=e.xAxis,r=e.yAxis,s=e.xAxisTicks,a=e.yAxisTicks,u=e.bandSize,c=e.dataKey,h=e.stackedData,p=e.dataStartIndex,g=e.displayedData,m=e.offset,y=t.layout,b=h&&h.length,w=jB.getBaseValue(t,i,n,r),S=y==="horizontal",x=!1,E=g.map(function(T,A){var P;b?P=h[p+A]:(P=Wt(T,c),Array.isArray(P)?x=!0:P=[w,P]);var F=P[1]==null||b&&Wt(T,c)==null;return S?{x:sl({axis:n,ticks:s,bandSize:u,entry:T,index:A}),y:F?null:r.scale(P[1]),value:P,payload:T}:{x:F?null:n.scale(P[1]),y:sl({axis:r,ticks:a,bandSize:u,entry:T,index:A}),value:P,payload:T}}),R;return b||x?R=E.map(function(T){var A=Array.isArray(T.value)?T.value[0]:null;return S?{x:T.x,y:A!=null&&T.y!=null?r.scale(A):null}:{x:A!=null?n.scale(A):null,y:T.y}}):R=S?r.scale(w):n.scale(w),ms({points:E,baseLine:R,layout:y,isRange:x},m)});$n(Ns,"renderDotItem",function(e,t){var i;if(N.isValidElement(e))i=N.cloneElement(e,t);else if(Ge(e))i=e(t);else{var n=Ue("recharts-area-dot",typeof e!="boolean"?e.className:""),r=t.key,s=zB(t,Ele);i=N.createElement(Wp,go({},s,{key:r,className:n}))}return i});function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}function Ile(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nle(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KB(n.key),n)}}function _le(e,t,i){return t&&Nle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kle(e,t,i){return t=lp(t),Gle(e,$B()?Reflect.construct(t,i||[],lp(e).constructor):t.apply(e,i))}function Gle(e,t){if(t&&(ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ble(e)}function Ble(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($B=function(){return!!e})()}function lp(e){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},lp(e)}function Hle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cx(e,t)}function Cx(e,t){return Cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Cx(e,t)}function qB(e,t,i){return t=KB(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function KB(e){var t=Vle(e,"string");return ml(t)=="symbol"?t:t+""}function Vle(e,t){if(ml(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eg=(function(e){function t(){return Ile(this,t),kle(this,t,arguments)}return Hle(t,e),_le(t,[{key:"render",value:function(){return null}}])})(M.Component);qB(eg,"displayName","ZAxis");qB(eg,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var jle=["option","isActive"];function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ac.apply(this,arguments)}function zle(e,t){if(e==null)return{};var i=Wle(e,t),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wle(e,t){if(e==null)return{};var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}function Ule(e){var t=e.option,i=e.isActive,n=zle(e,jle);return typeof t=="string"?M.createElement(sx,ac({option:M.createElement(Fp,ac({type:t},n)),isActive:i,shapeType:"symbols"},n)):M.createElement(sx,ac({option:t,isActive:i,shapeType:"symbols"},n))}function vl(e){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},lc.apply(this,arguments)}function MI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function hn(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(i),!0).forEach(function(n){bs(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):MI(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function $le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FI(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XB(n.key),n)}}function qle(e,t,i){return t&&FI(e.prototype,t),i&&FI(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kle(e,t,i){return t=up(t),Yle(e,YB()?Reflect.construct(t,i||[],up(e).constructor):t.apply(e,i))}function Yle(e,t){if(t&&(vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xle(e)}function Xle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YB=function(){return!!e})()}function up(e){return up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},up(e)}function Qle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sx(e,t)}function Sx(e,t){return Sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Sx(e,t)}function bs(e,t,i){return t=XB(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function XB(e){var t=Zle(e,"string");return vl(t)=="symbol"?t:t+""}function Zle(e,t){if(vl(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tg=(function(e){function t(){var i;$le(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return i=Kle(this,t,[].concat(r)),bs(i,"state",{isAnimationFinished:!1}),bs(i,"handleAnimationEnd",function(){i.setState({isAnimationFinished:!0})}),bs(i,"handleAnimationStart",function(){i.setState({isAnimationFinished:!1})}),bs(i,"id",Ho("recharts-scatter-")),i}return Qle(t,e),qle(t,[{key:"renderSymbolsStatically",value:function(n){var r=this,s=this.props,a=s.shape,u=s.activeShape,c=s.activeIndex,h=Ie(this.props,!1);return n.map(function(p,g){var m=c===g,y=m?u:a,b=hn(hn({},h),p);return N.createElement(et,lc({className:"recharts-scatter-symbol",key:"symbol-".concat(p==null?void 0:p.cx,"-").concat(p==null?void 0:p.cy,"-").concat(p==null?void 0:p.size,"-").concat(g)},vc(r.props,p,g),{role:"img"}),N.createElement(Ule,lc({option:y,isActive:m,key:"symbol-".concat(g)},b)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,r=this.props,s=r.points,a=r.isAnimationActive,u=r.animationBegin,c=r.animationDuration,h=r.animationEasing,p=r.animationId,g=this.state.prevPoints;return N.createElement(_n,{begin:u,duration:c,isActive:a,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,b=s.map(function(w,S){var x=g&&g[S];if(x){var E=Ft(x.cx,w.cx),R=Ft(x.cy,w.cy),T=Ft(x.size,w.size);return hn(hn({},w),{},{cx:E(y),cy:R(y),size:T(y)})}var A=Ft(0,w.size);return hn(hn({},w),{},{size:A(y)})});return N.createElement(et,null,n.renderSymbolsStatically(b))})}},{key:"renderSymbols",value:function(){var n=this.props,r=n.points,s=n.isAnimationActive,a=this.state.prevPoints;return s&&r&&r.length&&(!a||!Oo(a,r))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(r)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var r=this.props,s=r.points,a=r.xAxis,u=r.yAxis,c=r.children,h=Fi(c,_l);return h?h.map(function(p,g){var m=p.props,y=m.direction,b=m.dataKey;return N.cloneElement(p,{key:"".concat(y,"-").concat(b,"-").concat(s[g]),data:s,xAxis:a,yAxis:u,layout:y==="x"?"vertical":"horizontal",dataPointFormatter:function(S,x){return{x:S.cx,y:S.cy,value:y==="x"?+S.node.x:+S.node.y,errorVal:Wt(S,x)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,r=n.points,s=n.line,a=n.lineType,u=n.lineJointType,c=Ie(this.props,!1),h=Ie(s,!1),p,g;if(a==="joint")p=r.map(function(R){return{x:R.cx,y:R.cy}});else if(a==="fitting"){var m=UY(r),y=m.xmin,b=m.xmax,w=m.a,S=m.b,x=function(T){return w*T+S};p=[{x:y,y:x(y)},{x:b,y:x(b)}]}var E=hn(hn(hn({},c),{},{fill:"none",stroke:c&&c.fill},h),{},{points:p});return N.isValidElement(s)?g=N.cloneElement(s,E):Ge(s)?g=s(E):g=N.createElement(Eo,lc({},E,{type:u})),N.createElement(et,{className:"recharts-scatter-line",key:"recharts-scatter-line"},g)}},{key:"render",value:function(){var n=this.props,r=n.hide,s=n.points,a=n.line,u=n.className,c=n.xAxis,h=n.yAxis,p=n.left,g=n.top,m=n.width,y=n.height,b=n.id,w=n.isAnimationActive;if(r||!s||!s.length)return null;var S=this.state.isAnimationFinished,x=Ue("recharts-scatter",u),E=c&&c.allowDataOverflow,R=h&&h.allowDataOverflow,T=E||R,A=Oe(b)?this.id:b;return N.createElement(et,{className:x,clipPath:T?"url(#clipPath-".concat(A,")"):null},E||R?N.createElement("defs",null,N.createElement("clipPath",{id:"clipPath-".concat(A)},N.createElement("rect",{x:E?p:p-m/2,y:R?g:g-y/2,width:E?m:m*2,height:R?y:y*2}))):null,a&&this.renderLine(),this.renderErrorBar(),N.createElement(et,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!w||S)&&Yn.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,r){return n.animationId!==r.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:r.curPoints}:n.points!==r.curPoints?{curPoints:n.points}:null}}])})(M.PureComponent);bs(tg,"displayName","Scatter");bs(tg,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Ms.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});bs(tg,"getComposedData",function(e){var t=e.xAxis,i=e.yAxis,n=e.zAxis,r=e.item,s=e.displayedData,a=e.xAxisTicks,u=e.yAxisTicks,c=e.offset,h=r.props.tooltipType,p=Fi(r.props.children,B0),g=Oe(t.dataKey)?r.props.dataKey:t.dataKey,m=Oe(i.dataKey)?r.props.dataKey:i.dataKey,y=n&&n.dataKey,b=n?n.range:eg.defaultProps.range,w=b&&b[0],S=t.scale.bandwidth?t.scale.bandwidth():0,x=i.scale.bandwidth?i.scale.bandwidth():0,E=s.map(function(R,T){var A=Wt(R,g),P=Wt(R,m),F=!Oe(y)&&Wt(R,y)||"-",I=[{name:Oe(t.dataKey)?r.props.name:t.name||t.dataKey,unit:t.unit||"",value:A,payload:R,dataKey:g,type:h},{name:Oe(i.dataKey)?r.props.name:i.name||i.dataKey,unit:i.unit||"",value:P,payload:R,dataKey:m,type:h}];F!=="-"&&I.push({name:n.name||n.dataKey,unit:n.unit||"",value:F,payload:R,dataKey:y,type:h});var k=sl({axis:t,ticks:a,bandSize:S,entry:R,index:T,dataKey:g}),W=sl({axis:i,ticks:u,bandSize:x,entry:R,index:T,dataKey:m}),V=F!=="-"?n.scale(F):w,B=Math.sqrt(Math.max(V,0)/Math.PI);return hn(hn({},R),{},{cx:k,cy:W,x:k-B,y:W-B,xAxis:t,yAxis:i,zAxis:n,width:2*B,height:2*B,size:V,node:{x:A,y:P,z:F},tooltipPayload:I,tooltipPosition:{x:k,y:W},payload:R},p&&p[T]&&p[T].props)});return hn({points:E},c)});function yl(e){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(e)}function Jle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eue(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JB(n.key),n)}}function tue(e,t,i){return t&&eue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iue(e,t,i){return t=cp(t),nue(e,QB()?Reflect.construct(t,i||[],cp(e).constructor):t.apply(e,i))}function nue(e,t){if(t&&(yl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rue(e)}function rue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QB=function(){return!!e})()}function cp(e){return cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},cp(e)}function sue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bx(e,t)}function bx(e,t){return bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},bx(e,t)}function ZB(e,t,i){return t=JB(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function JB(e){var t=oue(e,"string");return yl(t)=="symbol"?t:t+""}function oue(e,t){if(yl(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},wx.apply(this,arguments)}function aue(e){var t=e.xAxisId,i=TB(),n=MB(),r=PB(t);return r==null?null:M.createElement(Jp,wx({},r,{className:Ue("recharts-".concat(r.axisType," ").concat(r.axisType),r.className),viewBox:{x:0,y:0,width:i,height:n},ticksGenerator:function(a){return po(a,!0)}}))}var kl=(function(e){function t(){return Jle(this,t),iue(this,t,arguments)}return sue(t,e),tue(t,[{key:"render",value:function(){return M.createElement(aue,this.props)}}])})(M.Component);ZB(kl,"displayName","XAxis");ZB(kl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cl(e){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}function lue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uue(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iH(n.key),n)}}function cue(e,t,i){return t&&uue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function due(e,t,i){return t=dp(t),hue(e,eH()?Reflect.construct(t,i||[],dp(e).constructor):t.apply(e,i))}function hue(e,t){if(t&&(Cl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fue(e)}function fue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eH=function(){return!!e})()}function dp(e){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},dp(e)}function pue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xx(e,t)}function xx(e,t){return xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},xx(e,t)}function tH(e,t,i){return t=iH(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function iH(e){var t=gue(e,"string");return Cl(t)=="symbol"?t:t+""}function gue(e,t){if(Cl(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Rx(){return Rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Rx.apply(this,arguments)}var mue=function(t){var i=t.yAxisId,n=TB(),r=MB(),s=DB(i);return s==null?null:M.createElement(Jp,Rx({},s,{className:Ue("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(u){return po(u,!0)}}))},Gl=(function(e){function t(){return lue(this,t),due(this,t,arguments)}return pue(t,e),cue(t,[{key:"render",value:function(){return M.createElement(mue,this.props)}}])})(M.Component);tH(Gl,"displayName","YAxis");tH(Gl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function OI(e){return Sue(e)||Cue(e)||yue(e)||vue()}function vue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yue(e,t){if(e){if(typeof e=="string")return Ex(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ex(e,t)}}function Cue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sue(e){if(Array.isArray(e))return Ex(e)}function Ex(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var Ax=function(t,i,n,r,s){var a=Fi(t,Kp),u=Fi(t,Xp),c=[].concat(OI(a),OI(u)),h=Fi(t,Zp),p="".concat(r,"Id"),g=r[0],m=i;if(c.length&&(m=c.reduce(function(w,S){if(S.props[p]===n&&Xn(S.props,"extendDomain")&&me(S.props[g])){var x=S.props[g];return[Math.min(w[0],x),Math.max(w[1],x)]}return w},m)),h.length){var y="".concat(g,"1"),b="".concat(g,"2");m=h.reduce(function(w,S){if(S.props[p]===n&&Xn(S.props,"extendDomain")&&me(S.props[y])&&me(S.props[b])){var x=S.props[y],E=S.props[b];return[Math.min(w[0],x,E),Math.max(w[1],x,E)]}return w},m)}return s&&s.length&&(m=s.reduce(function(w,S){return me(S)?[Math.min(w[0],S),Math.max(w[1],S)]:w},m)),m},Nb={exports:{}},LI;function bue(){return LI||(LI=1,(function(e){var t=Object.prototype.hasOwnProperty,i="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(i=!1));function r(c,h,p){this.fn=c,this.context=h,this.once=p||!1}function s(c,h,p,g,m){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new r(p,g||c,m),b=i?i+h:h;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],y]:c._events[b].push(y):(c._events[b]=y,c._eventsCount++),c}function a(c,h){--c._eventsCount===0?c._events=new n:delete c._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],p,g;if(this._eventsCount===0)return h;for(g in p=this._events)t.call(p,g)&&h.push(i?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},u.prototype.listeners=function(h){var p=i?i+h:h,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var m=0,y=g.length,b=new Array(y);m<y;m++)b[m]=g[m].fn;return b},u.prototype.listenerCount=function(h){var p=i?i+h:h,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,p,g,m,y,b){var w=i?i+h:h;if(!this._events[w])return!1;var S=this._events[w],x=arguments.length,E,R;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),x){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,g),!0;case 4:return S.fn.call(S.context,p,g,m),!0;case 5:return S.fn.call(S.context,p,g,m,y),!0;case 6:return S.fn.call(S.context,p,g,m,y,b),!0}for(R=1,E=new Array(x-1);R<x;R++)E[R-1]=arguments[R];S.fn.apply(S.context,E)}else{var T=S.length,A;for(R=0;R<T;R++)switch(S[R].once&&this.removeListener(h,S[R].fn,void 0,!0),x){case 1:S[R].fn.call(S[R].context);break;case 2:S[R].fn.call(S[R].context,p);break;case 3:S[R].fn.call(S[R].context,p,g);break;case 4:S[R].fn.call(S[R].context,p,g,m);break;default:if(!E)for(A=1,E=new Array(x-1);A<x;A++)E[A-1]=arguments[A];S[R].fn.apply(S[R].context,E)}}return!0},u.prototype.on=function(h,p,g){return s(this,h,p,g,!1)},u.prototype.once=function(h,p,g){return s(this,h,p,g,!0)},u.prototype.removeListener=function(h,p,g,m){var y=i?i+h:h;if(!this._events[y])return this;if(!p)return a(this,y),this;var b=this._events[y];if(b.fn)b.fn===p&&(!m||b.once)&&(!g||b.context===g)&&a(this,y);else{for(var w=0,S=[],x=b.length;w<x;w++)(b[w].fn!==p||m&&!b[w].once||g&&b[w].context!==g)&&S.push(b[w]);S.length?this._events[y]=S.length===1?S[0]:S:a(this,y)}return this},u.prototype.removeAllListeners=function(h){var p;return h?(p=i?i+h:h,this._events[p]&&a(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,e.exports=u})(Nb)),Nb.exports}var wue=bue();const xue=ut(wue);var _b=new xue,kb="recharts.syncMouseEvents";function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function Rue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eue(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nH(n.key),n)}}function Aue(e,t,i){return t&&Eue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gb(e,t,i){return t=nH(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function nH(e){var t=Pue(e,"string");return Qc(t)=="symbol"?t:t+""}function Pue(e,t){if(Qc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Due=(function(){function e(){Rue(this,e),Gb(this,"activeIndex",0),Gb(this,"coordinateList",[]),Gb(this,"layout","horizontal")}return Aue(e,[{key:"setDetails",value:function(i){var n,r=i.coordinateList,s=r===void 0?null:r,a=i.container,u=a===void 0?null:a,c=i.layout,h=c===void 0?null:c,p=i.offset,g=p===void 0?null:p,m=i.mouseHandlerCallback,y=m===void 0?null:m;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=h??this.layout,this.offset=g??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(i){if(this.coordinateList.length!==0)switch(i.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(i){this.activeIndex=i}},{key:"spoofMouse",value:function(){var i,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var r=this.container.getBoundingClientRect(),s=r.x,a=r.y,u=r.height,c=this.coordinateList[this.activeIndex].coordinate,h=((i=window)===null||i===void 0?void 0:i.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,g=s+c+h,m=a+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:g,pageY:m})}}}])})();function Tue(e,t,i){if(i==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],r=e==null?void 0:e[1];if(n&&r&&me(n)&&me(r))return!0}return!1}function Mue(e,t,i,n){var r=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-r:i.left+.5,y:e==="horizontal"?i.top+.5:t.y-r,width:e==="horizontal"?n:i.width-1,height:e==="horizontal"?i.height-1:n}}function rH(e){var t=e.cx,i=e.cy,n=e.radius,r=e.startAngle,s=e.endAngle,a=ni(t,i,n,r),u=ni(t,i,n,s);return{points:[a,u],cx:t,cy:i,radius:n,startAngle:r,endAngle:s}}function Fue(e,t,i){var n,r,s,a;if(e==="horizontal")n=t.x,s=n,r=i.top,a=i.top+i.height;else if(e==="vertical")r=t.y,a=r,n=i.left,s=i.left+i.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,c=t.cy,h=t.innerRadius,p=t.outerRadius,g=t.angle,m=ni(u,c,h,g),y=ni(u,c,p,g);n=m.x,r=m.y,s=y.x,a=y.y}else return rH(t);return[{x:n,y:r},{x:s,y:a}]}function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function II(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function Uh(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?II(Object(i),!0).forEach(function(n){Oue(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):II(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Oue(e,t,i){return t=Lue(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Lue(e){var t=Iue(e,"string");return Zc(t)=="symbol"?t:t+""}function Iue(e,t){if(Zc(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nue(e){var t,i,n=e.element,r=e.tooltipEventType,s=e.isActive,a=e.activeCoordinate,u=e.activePayload,c=e.offset,h=e.activeTooltipIndex,p=e.tooltipAxisBandSize,g=e.layout,m=e.chartName,y=(t=n.props.cursor)!==null&&t!==void 0?t:(i=n.type.defaultProps)===null||i===void 0?void 0:i.cursor;if(!n||!y||!s||!a||m!=="ScatterChart"&&r!=="axis")return null;var b,w=Eo;if(m==="ScatterChart")b=a,w=Sse;else if(m==="BarChart")b=Mue(g,a,c,p),w=dR;else if(g==="radial"){var S=rH(a),x=S.cx,E=S.cy,R=S.radius,T=S.startAngle,A=S.endAngle;b={cx:x,cy:E,startAngle:T,endAngle:A,innerRadius:R,outerRadius:R},w=iB}else b={points:Fue(g,a,c)},w=Eo;var P=Uh(Uh(Uh(Uh({stroke:"#ccc",pointerEvents:"none"},c),b),Ie(y,!1)),{},{payload:u,payloadIndex:h,className:Ue("recharts-tooltip-cursor",y.className)});return M.isValidElement(y)?M.cloneElement(y,P):M.createElement(w,P)}var _ue=["item"],kue=["children","className","width","height","style","compact","title","desc"];function Sl(e){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(e)}function Ga(){return Ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ga.apply(this,arguments)}function NI(e,t){return Hue(e)||Bue(e,t)||oH(e,t)||Gue()}function Gue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bue(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var n,r,s,a,u=[],c=!0,h=!1;try{if(s=(i=i.call(e)).next,t!==0)for(;!(c=(n=s.call(i)).done)&&(u.push(n.value),u.length!==t);c=!0);}catch(p){h=!0,r=p}finally{try{if(!c&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(h)throw r}}return u}}function Hue(e){if(Array.isArray(e))return e}function _I(e,t){if(e==null)return{};var i=Vue(e,t),n,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vue(e,t){if(e==null)return{};var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;i[n]=e[n]}return i}function jue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zue(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aH(n.key),n)}}function Wue(e,t,i){return t&&zue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uue(e,t,i){return t=hp(t),$ue(e,sH()?Reflect.construct(t,i||[],hp(e).constructor):t.apply(e,i))}function $ue(e,t){if(t&&(Sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return que(e)}function que(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sH=function(){return!!e})()}function hp(e){return hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},hp(e)}function Kue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Px(e,t)}function Px(e,t){return Px=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Px(e,t)}function bl(e){return Que(e)||Xue(e)||oH(e)||Yue()}function Yue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oH(e,t){if(e){if(typeof e=="string")return Dx(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Dx(e,t)}}function Xue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Que(e){if(Array.isArray(e))return Dx(e)}function Dx(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function kI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function ce(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(i),!0).forEach(function(n){Te(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):kI(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function Te(e,t,i){return t=aH(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function aH(e){var t=Zue(e,"string");return Sl(t)=="symbol"?t:t+""}function Zue(e,t){if(Sl(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var n=i.call(e,t);if(Sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jue={xAxis:["bottom","top"],yAxis:["left","right"]},ece={width:"100%",height:"100%"},lH={x:0,y:0};function $h(e){return e}var tce=function(t,i){return i==="horizontal"?t.x:i==="vertical"?t.y:i==="centric"?t.angle:t.radius},ice=function(t,i,n,r){var s=i.find(function(p){return p&&p.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:s.coordinate};if(t==="centric"){var a=s.coordinate,u=r.radius;return ce(ce(ce({},r),ni(r.cx,r.cy,u,a)),{},{angle:a,radius:u})}var c=s.coordinate,h=r.angle;return ce(ce(ce({},r),ni(r.cx,r.cy,c,h)),{},{angle:h,radius:c})}return lH},ig=function(t,i){var n=i.graphicalItems,r=i.dataStartIndex,s=i.dataEndIndex,a=(n??[]).reduce(function(u,c){var h=c.props.data;return h&&h.length?[].concat(bl(u),bl(h)):u},[]);return a.length>0?a:t&&t.length&&me(r)&&me(s)?t.slice(r,s+1):[]};function uH(e){return e==="number"?[0,"auto"]:void 0}var Tx=function(t,i,n,r){var s=t.graphicalItems,a=t.tooltipAxis,u=ig(i,t);return n<0||!s||!s.length||n>=u.length?null:s.reduce(function(c,h){var p,g=(p=h.props.data)!==null&&p!==void 0?p:i;g&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(g=g.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(a.dataKey&&!a.allowDuplicatedCategory){var y=g===void 0?u:g;m=ff(y,a.dataKey,r)}else m=g&&g[n]||u[n];return m?[].concat(bl(c),[JG(h,m)]):c},[])},GI=function(t,i,n,r){var s=r||{x:t.chartX,y:t.chartY},a=tce(s,n),u=t.orderedTooltipTicks,c=t.tooltipAxis,h=t.tooltipTicks,p=Jte(a,u,h,c);if(p>=0&&h){var g=h[p]&&h[p].value,m=Tx(t,i,p,g),y=ice(n,u,p,s);return{activeTooltipIndex:p,activeLabel:g,activePayload:m,activeCoordinate:y}}return null},nce=function(t,i){var n=i.axes,r=i.graphicalItems,s=i.axisType,a=i.axisIdKey,u=i.stackGroups,c=i.dataStartIndex,h=i.dataEndIndex,p=t.layout,g=t.children,m=t.stackOffset,y=QG(p,s);return n.reduce(function(b,w){var S,x=w.type.defaultProps!==void 0?ce(ce({},w.type.defaultProps),w.props):w.props,E=x.type,R=x.dataKey,T=x.allowDataOverflow,A=x.allowDuplicatedCategory,P=x.scale,F=x.ticks,I=x.includeHidden,k=x[a];if(b[k])return b;var W=ig(t.data,{graphicalItems:r.filter(function(z){var re,se=a in z.props?z.props[a]:(re=z.type.defaultProps)===null||re===void 0?void 0:re[a];return se===k}),dataStartIndex:c,dataEndIndex:h}),V=W.length,B,K,Y;Tue(x.domain,T,E)&&(B=zw(x.domain,null,T),y&&(E==="number"||P!=="auto")&&(Y=rc(W,R,"category")));var H=uH(E);if(!B||B.length===0){var _,U=(_=x.domain)!==null&&_!==void 0?_:H;if(R){if(B=rc(W,R,E),E==="category"&&y){var Q=WY(B);A&&Q?(K=B,B=Xf(0,V)):A||(B=X1(U,B,w).reduce(function(z,re){return z.indexOf(re)>=0?z:[].concat(bl(z),[re])},[]))}else if(E==="category")A?B=B.filter(function(z){return z!==""&&!Oe(z)}):B=X1(U,B,w).reduce(function(z,re){return z.indexOf(re)>=0||re===""||Oe(re)?z:[].concat(bl(z),[re])},[]);else if(E==="number"){var ae=rie(W,r.filter(function(z){var re,se,ge=a in z.props?z.props[a]:(re=z.type.defaultProps)===null||re===void 0?void 0:re[a],ye="hide"in z.props?z.props.hide:(se=z.type.defaultProps)===null||se===void 0?void 0:se.hide;return ge===k&&(I||!ye)}),R,s,p);ae&&(B=ae)}y&&(E==="number"||P!=="auto")&&(Y=rc(W,R,"category"))}else y?B=Xf(0,V):u&&u[k]&&u[k].hasStack&&E==="number"?B=m==="expand"?[0,1]:ZG(u[k].stackGroups,c,h):B=XG(W,r.filter(function(z){var re=a in z.props?z.props[a]:z.type.defaultProps[a],se="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return re===k&&(I||!se)}),E,p,!0);if(E==="number")B=Ax(g,B,k,s,F),U&&(B=zw(U,B,T));else if(E==="category"&&U){var de=U,G=B.every(function(z){return de.indexOf(z)>=0});G&&(B=de)}}return ce(ce({},b),{},Te({},k,ce(ce({},x),{},{axisType:s,domain:B,categoricalDomain:Y,duplicateDomain:K,originalDomain:(S=x.domain)!==null&&S!==void 0?S:H,isCategorical:y,layout:p})))},{})},rce=function(t,i){var n=i.graphicalItems,r=i.Axis,s=i.axisType,a=i.axisIdKey,u=i.stackGroups,c=i.dataStartIndex,h=i.dataEndIndex,p=t.layout,g=t.children,m=ig(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:h}),y=m.length,b=QG(p,s),w=-1;return n.reduce(function(S,x){var E=x.type.defaultProps!==void 0?ce(ce({},x.type.defaultProps),x.props):x.props,R=E[a],T=uH("number");if(!S[R]){w++;var A;return b?A=Xf(0,y):u&&u[R]&&u[R].hasStack?(A=ZG(u[R].stackGroups,c,h),A=Ax(g,A,R,s)):(A=zw(T,XG(m,n.filter(function(P){var F,I,k=a in P.props?P.props[a]:(F=P.type.defaultProps)===null||F===void 0?void 0:F[a],W="hide"in P.props?P.props.hide:(I=P.type.defaultProps)===null||I===void 0?void 0:I.hide;return k===R&&!W}),"number",p),r.defaultProps.allowDataOverflow),A=Ax(g,A,R,s)),ce(ce({},S),{},Te({},R,ce(ce({axisType:s},r.defaultProps),{},{hide:!0,orientation:yn(Jue,"".concat(s,".").concat(w%2),null),domain:A,originalDomain:T,isCategorical:b,layout:p})))}return S},{})},sce=function(t,i){var n=i.axisType,r=n===void 0?"xAxis":n,s=i.AxisComp,a=i.graphicalItems,u=i.stackGroups,c=i.dataStartIndex,h=i.dataEndIndex,p=t.children,g="".concat(r,"Id"),m=Fi(p,s),y={};return m&&m.length?y=nce(t,{axes:m,graphicalItems:a,axisType:r,axisIdKey:g,stackGroups:u,dataStartIndex:c,dataEndIndex:h}):a&&a.length&&(y=rce(t,{Axis:s,graphicalItems:a,axisType:r,axisIdKey:g,stackGroups:u,dataStartIndex:c,dataEndIndex:h})),y},oce=function(t){var i=Ia(t),n=po(i,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:k0(n,function(r){return r.coordinate}),tooltipAxis:i,tooltipAxisBandSize:Hf(i,n)}},BI=function(t){var i=t.children,n=t.defaultShowTooltip,r=$i(i,ll),s=0,a=0;return t.data&&t.data.length!==0&&(a=t.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(s=r.props.startIndex),r.props.endIndex>=0&&(a=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},ace=function(t){return!t||!t.length?!1:t.some(function(i){var n=Tr(i&&i.type);return n&&n.indexOf("Bar")>=0})},HI=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},lce=function(t,i){var n=t.props,r=t.graphicalItems,s=t.xAxisMap,a=s===void 0?{}:s,u=t.yAxisMap,c=u===void 0?{}:u,h=n.width,p=n.height,g=n.children,m=n.margin||{},y=$i(g,ll),b=$i(g,wo),w=Object.keys(c).reduce(function(A,P){var F=c[P],I=F.orientation;return!F.mirror&&!F.hide?ce(ce({},A),{},Te({},I,A[I]+F.width)):A},{left:m.left||0,right:m.right||0}),S=Object.keys(a).reduce(function(A,P){var F=a[P],I=F.orientation;return!F.mirror&&!F.hide?ce(ce({},A),{},Te({},I,yn(A,"".concat(I))+F.height)):A},{top:m.top||0,bottom:m.bottom||0}),x=ce(ce({},S),w),E=x.bottom;y&&(x.bottom+=y.props.height||ll.defaultProps.height),b&&i&&(x=iie(x,r,n,i));var R=h-x.left-x.right,T=p-x.top-x.bottom;return ce(ce({brushBottom:E},x),{},{width:Math.max(R,0),height:Math.max(T,0)})},uce=function(t,i){if(i==="xAxis")return t[i].width;if(i==="yAxis")return t[i].height},cH=function(t){var i=t.chartName,n=t.GraphicalChild,r=t.defaultTooltipEventType,s=r===void 0?"axis":r,a=t.validateTooltipEventTypes,u=a===void 0?["axis"]:a,c=t.axisComponents,h=t.legendContent,p=t.formatAxisMap,g=t.defaultProps,m=function(x,E){var R=E.graphicalItems,T=E.stackGroups,A=E.offset,P=E.updateId,F=E.dataStartIndex,I=E.dataEndIndex,k=x.barSize,W=x.layout,V=x.barGap,B=x.barCategoryGap,K=x.maxBarSize,Y=HI(W),H=Y.numericAxisName,_=Y.cateAxisName,U=ace(R),Q=[];return R.forEach(function(ae,de){var G=ig(x.data,{graphicalItems:[ae],dataStartIndex:F,dataEndIndex:I}),z=ae.type.defaultProps!==void 0?ce(ce({},ae.type.defaultProps),ae.props):ae.props,re=z.dataKey,se=z.maxBarSize,ge=z["".concat(H,"Id")],ye=z["".concat(_,"Id")],Pe={},_e=c.reduce(function(oi,Ii){var bn=E["".concat(Ii.axisType,"Map")],$t=z["".concat(Ii.axisType,"Id")];bn&&bn[$t]||Ii.axisType==="zAxis"||Io();var _s=bn[$t];return ce(ce({},oi),{},Te(Te({},Ii.axisType,_s),"".concat(Ii.axisType,"Ticks"),po(_s)))},Pe),q=_e[_],ve=_e["".concat(_,"Ticks")],Ce=T&&T[ge]&&T[ge].hasStack&&mie(ae,T[ge].stackGroups),oe=Tr(ae.type).indexOf("Bar")>=0,Me=Hf(q,ve),Re=[],Fe=U&&eie({barSize:k,stackGroups:T,totalSize:uce(_e,_)});if(oe){var qe,Ot,Li=Oe(se)?K:se,si=(qe=(Ot=Hf(q,ve,!0))!==null&&Ot!==void 0?Ot:Li)!==null&&qe!==void 0?qe:0;Re=tie({barGap:V,barCategoryGap:B,bandSize:si!==Me?si:Me,sizeList:Fe[ye],maxBarSize:Li}),si!==Me&&(Re=Re.map(function(oi){return ce(ce({},oi),{},{position:ce(ce({},oi.position),{},{offset:oi.position.offset-si/2})})}))}var Bt=ae&&ae.type&&ae.type.getComposedData;Bt&&Q.push({props:ce(ce({},Bt(ce(ce({},_e),{},{displayedData:G,props:x,dataKey:re,item:ae,bandSize:Me,barPosition:Re,offset:A,stackedData:Ce,layout:W,dataStartIndex:F,dataEndIndex:I}))),{},Te(Te(Te({key:ae.key||"item-".concat(de)},H,_e[H]),_,_e[_]),"animationId",P)),childIndex:n9(ae,x.children),item:ae})}),Q},y=function(x,E){var R=x.props,T=x.dataStartIndex,A=x.dataEndIndex,P=x.updateId;if(!dM({props:R}))return null;var F=R.children,I=R.layout,k=R.stackOffset,W=R.data,V=R.reverseStackOrder,B=HI(I),K=B.numericAxisName,Y=B.cateAxisName,H=Fi(F,n),_=fie(W,H,"".concat(K,"Id"),"".concat(Y,"Id"),k,V),U=c.reduce(function(z,re){var se="".concat(re.axisType,"Map");return ce(ce({},z),{},Te({},se,sce(R,ce(ce({},re),{},{graphicalItems:H,stackGroups:re.axisType===K&&_,dataStartIndex:T,dataEndIndex:A}))))},{}),Q=lce(ce(ce({},U),{},{props:R,graphicalItems:H}),E==null?void 0:E.legendBBox);Object.keys(U).forEach(function(z){U[z]=p(R,U[z],Q,z.replace("Map",""),i)});var ae=U["".concat(Y,"Map")],de=oce(ae),G=m(R,ce(ce({},U),{},{dataStartIndex:T,dataEndIndex:A,updateId:P,graphicalItems:H,stackGroups:_,offset:Q}));return ce(ce({formattedGraphicalItems:G,graphicalItems:H,offset:Q,stackGroups:_},de),U)},b=(function(S){function x(E){var R,T,A;return jue(this,x),A=Uue(this,x,[E]),Te(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Te(A,"accessibilityManager",new Due),Te(A,"handleLegendBBoxUpdate",function(P){if(P){var F=A.state,I=F.dataStartIndex,k=F.dataEndIndex,W=F.updateId;A.setState(ce({legendBBox:P},y({props:A.props,dataStartIndex:I,dataEndIndex:k,updateId:W},ce(ce({},A.state),{},{legendBBox:P}))))}}),Te(A,"handleReceiveSyncEvent",function(P,F,I){if(A.props.syncId===P){if(I===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(F)}}),Te(A,"handleBrushChange",function(P){var F=P.startIndex,I=P.endIndex;if(F!==A.state.dataStartIndex||I!==A.state.dataEndIndex){var k=A.state.updateId;A.setState(function(){return ce({dataStartIndex:F,dataEndIndex:I},y({props:A.props,dataStartIndex:F,dataEndIndex:I,updateId:k},A.state))}),A.triggerSyncEvent({dataStartIndex:F,dataEndIndex:I})}}),Te(A,"handleMouseEnter",function(P){var F=A.getMouseInfo(P);if(F){var I=ce(ce({},F),{},{isTooltipActive:!0});A.setState(I),A.triggerSyncEvent(I);var k=A.props.onMouseEnter;Ge(k)&&k(I,P)}}),Te(A,"triggeredAfterMouseMove",function(P){var F=A.getMouseInfo(P),I=F?ce(ce({},F),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(I),A.triggerSyncEvent(I);var k=A.props.onMouseMove;Ge(k)&&k(I,P)}),Te(A,"handleItemMouseEnter",function(P){A.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Te(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),Te(A,"handleMouseMove",function(P){P.persist(),A.throttleTriggeredAfterMouseMove(P)}),Te(A,"handleMouseLeave",function(P){A.throttleTriggeredAfterMouseMove.cancel();var F={isTooltipActive:!1};A.setState(F),A.triggerSyncEvent(F);var I=A.props.onMouseLeave;Ge(I)&&I(F,P)}),Te(A,"handleOuterEvent",function(P){var F=i9(P),I=yn(A.props,"".concat(F));if(F&&Ge(I)){var k,W;/.*touch.*/i.test(F)?W=A.getMouseInfo(P.changedTouches[0]):W=A.getMouseInfo(P),I((k=W)!==null&&k!==void 0?k:{},P)}}),Te(A,"handleClick",function(P){var F=A.getMouseInfo(P);if(F){var I=ce(ce({},F),{},{isTooltipActive:!0});A.setState(I),A.triggerSyncEvent(I);var k=A.props.onClick;Ge(k)&&k(I,P)}}),Te(A,"handleMouseDown",function(P){var F=A.props.onMouseDown;if(Ge(F)){var I=A.getMouseInfo(P);F(I,P)}}),Te(A,"handleMouseUp",function(P){var F=A.props.onMouseUp;if(Ge(F)){var I=A.getMouseInfo(P);F(I,P)}}),Te(A,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Te(A,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.handleMouseDown(P.changedTouches[0])}),Te(A,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.handleMouseUp(P.changedTouches[0])}),Te(A,"handleDoubleClick",function(P){var F=A.props.onDoubleClick;if(Ge(F)){var I=A.getMouseInfo(P);F(I,P)}}),Te(A,"handleContextMenu",function(P){var F=A.props.onContextMenu;if(Ge(F)){var I=A.getMouseInfo(P);F(I,P)}}),Te(A,"triggerSyncEvent",function(P){A.props.syncId!==void 0&&_b.emit(kb,A.props.syncId,P,A.eventEmitterSymbol)}),Te(A,"applySyncEvent",function(P){var F=A.props,I=F.layout,k=F.syncMethod,W=A.state.updateId,V=P.dataStartIndex,B=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)A.setState(ce({dataStartIndex:V,dataEndIndex:B},y({props:A.props,dataStartIndex:V,dataEndIndex:B,updateId:W},A.state)));else if(P.activeTooltipIndex!==void 0){var K=P.chartX,Y=P.chartY,H=P.activeTooltipIndex,_=A.state,U=_.offset,Q=_.tooltipTicks;if(!U)return;if(typeof k=="function")H=k(Q,P);else if(k==="value"){H=-1;for(var ae=0;ae<Q.length;ae++)if(Q[ae].value===P.activeLabel){H=ae;break}}var de=ce(ce({},U),{},{x:U.left,y:U.top}),G=Math.min(K,de.x+de.width),z=Math.min(Y,de.y+de.height),re=Q[H]&&Q[H].value,se=Tx(A.state,A.props.data,H),ge=Q[H]?{x:I==="horizontal"?Q[H].coordinate:G,y:I==="horizontal"?z:Q[H].coordinate}:lH;A.setState(ce(ce({},P),{},{activeLabel:re,activeCoordinate:ge,activePayload:se,activeTooltipIndex:H}))}else A.setState(P)}),Te(A,"renderCursor",function(P){var F,I=A.state,k=I.isTooltipActive,W=I.activeCoordinate,V=I.activePayload,B=I.offset,K=I.activeTooltipIndex,Y=I.tooltipAxisBandSize,H=A.getTooltipEventType(),_=(F=P.props.active)!==null&&F!==void 0?F:k,U=A.props.layout,Q=P.key||"_recharts-cursor";return N.createElement(Nue,{key:Q,activeCoordinate:W,activePayload:V,activeTooltipIndex:K,chartName:i,element:P,isActive:_,layout:U,offset:B,tooltipAxisBandSize:Y,tooltipEventType:H})}),Te(A,"renderPolarAxis",function(P,F,I){var k=yn(P,"type.axisType"),W=yn(A.state,"".concat(k,"Map")),V=P.type.defaultProps,B=V!==void 0?ce(ce({},V),P.props):P.props,K=W&&W[B["".concat(k,"Id")]];return M.cloneElement(P,ce(ce({},K),{},{className:Ue(k,K.className),key:P.key||"".concat(F,"-").concat(I),ticks:po(K,!0)}))}),Te(A,"renderPolarGrid",function(P){var F=P.props,I=F.radialLines,k=F.polarAngles,W=F.polarRadius,V=A.state,B=V.radiusAxisMap,K=V.angleAxisMap,Y=Ia(B),H=Ia(K),_=H.cx,U=H.cy,Q=H.innerRadius,ae=H.outerRadius;return M.cloneElement(P,{polarAngles:Array.isArray(k)?k:po(H,!0).map(function(de){return de.coordinate}),polarRadius:Array.isArray(W)?W:po(Y,!0).map(function(de){return de.coordinate}),cx:_,cy:U,innerRadius:Q,outerRadius:ae,key:P.key||"polar-grid",radialLines:I})}),Te(A,"renderLegend",function(){var P=A.state.formattedGraphicalItems,F=A.props,I=F.children,k=F.width,W=F.height,V=A.props.margin||{},B=k-(V.left||0)-(V.right||0),K=KG({children:I,formattedGraphicalItems:P,legendWidth:B,legendContent:h});if(!K)return null;var Y=K.item,H=_I(K,_ue);return M.cloneElement(Y,ce(ce({},H),{},{chartWidth:k,chartHeight:W,margin:V,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),Te(A,"renderTooltip",function(){var P,F=A.props,I=F.children,k=F.accessibilityLayer,W=$i(I,Pn);if(!W)return null;var V=A.state,B=V.isTooltipActive,K=V.activeCoordinate,Y=V.activePayload,H=V.activeLabel,_=V.offset,U=(P=W.props.active)!==null&&P!==void 0?P:B;return M.cloneElement(W,{viewBox:ce(ce({},_),{},{x:_.left,y:_.top}),active:U,label:H,payload:U?Y:[],coordinate:K,accessibilityLayer:k})}),Te(A,"renderBrush",function(P){var F=A.props,I=F.margin,k=F.data,W=A.state,V=W.offset,B=W.dataStartIndex,K=W.dataEndIndex,Y=W.updateId;return M.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Vh(A.handleBrushChange,P.props.onChange),data:k,x:me(P.props.x)?P.props.x:V.left,y:me(P.props.y)?P.props.y:V.top+V.height+V.brushBottom-(I.bottom||0),width:me(P.props.width)?P.props.width:V.width,startIndex:B,endIndex:K,updateId:"brush-".concat(Y)})}),Te(A,"renderReferenceElement",function(P,F,I){if(!P)return null;var k=A,W=k.clipPathId,V=A.state,B=V.xAxisMap,K=V.yAxisMap,Y=V.offset,H=P.type.defaultProps||{},_=P.props,U=_.xAxisId,Q=U===void 0?H.xAxisId:U,ae=_.yAxisId,de=ae===void 0?H.yAxisId:ae;return M.cloneElement(P,{key:P.key||"".concat(F,"-").concat(I),xAxis:B[Q],yAxis:K[de],viewBox:{x:Y.left,y:Y.top,width:Y.width,height:Y.height},clipPathId:W})}),Te(A,"renderActivePoints",function(P){var F=P.item,I=P.activePoint,k=P.basePoint,W=P.childIndex,V=P.isRange,B=[],K=F.props.key,Y=F.item.type.defaultProps!==void 0?ce(ce({},F.item.type.defaultProps),F.item.props):F.item.props,H=Y.activeDot,_=Y.dataKey,U=ce(ce({index:W,dataKey:_,cx:I.x,cy:I.y,r:4,fill:cR(F.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Ie(H,!1)),pf(H));return B.push(x.renderActiveDot(H,U,"".concat(K,"-activePoint-").concat(W))),k?B.push(x.renderActiveDot(H,ce(ce({},U),{},{cx:k.x,cy:k.y}),"".concat(K,"-basePoint-").concat(W))):V&&B.push(null),B}),Te(A,"renderGraphicChild",function(P,F,I){var k=A.filterFormatItem(P,F,I);if(!k)return null;var W=A.getTooltipEventType(),V=A.state,B=V.isTooltipActive,K=V.tooltipAxis,Y=V.activeTooltipIndex,H=V.activeLabel,_=A.props.children,U=$i(_,Pn),Q=k.props,ae=Q.points,de=Q.isRange,G=Q.baseLine,z=k.item.type.defaultProps!==void 0?ce(ce({},k.item.type.defaultProps),k.item.props):k.item.props,re=z.activeDot,se=z.hide,ge=z.activeBar,ye=z.activeShape,Pe=!!(!se&&B&&U&&(re||ge||ye)),_e={};W!=="axis"&&U&&U.props.trigger==="click"?_e={onClick:Vh(A.handleItemMouseEnter,P.props.onClick)}:W!=="axis"&&(_e={onMouseLeave:Vh(A.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Vh(A.handleItemMouseEnter,P.props.onMouseEnter)});var q=M.cloneElement(P,ce(ce({},k.props),_e));function ve(Ii){return typeof K.dataKey=="function"?K.dataKey(Ii.payload):null}if(Pe)if(Y>=0){var Ce,oe;if(K.dataKey&&!K.allowDuplicatedCategory){var Me=typeof K.dataKey=="function"?ve:"payload.".concat(K.dataKey.toString());Ce=ff(ae,Me,H),oe=de&&G&&ff(G,Me,H)}else Ce=ae==null?void 0:ae[Y],oe=de&&G&&G[Y];if(ye||ge){var Re=P.props.activeIndex!==void 0?P.props.activeIndex:Y;return[M.cloneElement(P,ce(ce(ce({},k.props),_e),{},{activeIndex:Re})),null,null]}if(!Oe(Ce))return[q].concat(bl(A.renderActivePoints({item:k,activePoint:Ce,basePoint:oe,childIndex:Y,isRange:de})))}else{var Fe,qe=(Fe=A.getItemByXY(A.state.activeCoordinate))!==null&&Fe!==void 0?Fe:{graphicalItem:q},Ot=qe.graphicalItem,Li=Ot.item,si=Li===void 0?P:Li,Bt=Ot.childIndex,oi=ce(ce(ce({},k.props),_e),{},{activeIndex:Bt});return[M.cloneElement(si,oi),null,null]}return de?[q,null,null]:[q,null]}),Te(A,"renderCustomized",function(P,F,I){return M.cloneElement(P,ce(ce({key:"recharts-customized-".concat(I)},A.props),A.state))}),Te(A,"renderMap",{CartesianGrid:{handler:$h,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:$h},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:$h},YAxis:{handler:$h},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((R=E.id)!==null&&R!==void 0?R:Ho("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=Kk(A.triggeredAfterMouseMove,(T=E.throttleDelay)!==null&&T!==void 0?T:1e3/60),A.state={},A}return Kue(x,S),Wue(x,[{key:"componentDidMount",value:function(){var R,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var R=this.props,T=R.children,A=R.data,P=R.height,F=R.layout,I=$i(T,Pn);if(I){var k=I.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var W=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,V=Tx(this.state,A,k,W),B=this.state.tooltipTicks[k].coordinate,K=(this.state.offset.top+P)/2,Y=F==="horizontal",H=Y?{x:B,y:K}:{y:B,x:K},_=this.state.formattedGraphicalItems.find(function(Q){var ae=Q.item;return ae.type.name==="Scatter"});_&&(H=ce(ce({},H),_.props.points[k].tooltipPosition),V=_.props.points[k].tooltipPayload);var U={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:W,activePayload:V,activeCoordinate:H};this.setState(U),this.renderCursor(I),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(R,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==R.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==R.margin){var A,P;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(R){dw([$i(R.children,Pn)],[$i(this.props.children,Pn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var R=$i(this.props.children,Pn);if(R&&typeof R.props.shared=="boolean"){var T=R.props.shared?"axis":"item";return u.indexOf(T)>=0?T:s}return s}},{key:"getMouseInfo",value:function(R){if(!this.container)return null;var T=this.container,A=T.getBoundingClientRect(),P=zQ(A),F={chartX:Math.round(R.pageX-P.left),chartY:Math.round(R.pageY-P.top)},I=A.width/T.offsetWidth||1,k=this.inRange(F.chartX,F.chartY,I);if(!k)return null;var W=this.state,V=W.xAxisMap,B=W.yAxisMap,K=this.getTooltipEventType(),Y=GI(this.state,this.props.data,this.props.layout,k);if(K!=="axis"&&V&&B){var H=Ia(V).scale,_=Ia(B).scale,U=H&&H.invert?H.invert(F.chartX):null,Q=_&&_.invert?_.invert(F.chartY):null;return ce(ce({},F),{},{xValue:U,yValue:Q},Y)}return Y?ce(ce({},F),Y):null}},{key:"inRange",value:function(R,T){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,F=R/A,I=T/A;if(P==="horizontal"||P==="vertical"){var k=this.state.offset,W=F>=k.left&&F<=k.left+k.width&&I>=k.top&&I<=k.top+k.height;return W?{x:F,y:I}:null}var V=this.state,B=V.angleAxisMap,K=V.radiusAxisMap;if(B&&K){var Y=Ia(B);return J1({x:F,y:I},Y)}return null}},{key:"parseEventsOfWrapper",value:function(){var R=this.props.children,T=this.getTooltipEventType(),A=$i(R,Pn),P={};A&&T==="axis"&&(A.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var F=pf(this.props,this.handleOuterEvent);return ce(ce({},F),P)}},{key:"addListener",value:function(){_b.on(kb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){_b.removeListener(kb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(R,T,A){for(var P=this.state.formattedGraphicalItems,F=0,I=P.length;F<I;F++){var k=P[F];if(k.item===R||k.props.key===R.key||T===Tr(k.item.type)&&A===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var R=this.clipPathId,T=this.state.offset,A=T.left,P=T.top,F=T.height,I=T.width;return N.createElement("defs",null,N.createElement("clipPath",{id:R},N.createElement("rect",{x:A,y:P,height:F,width:I})))}},{key:"getXScales",value:function(){var R=this.state.xAxisMap;return R?Object.entries(R).reduce(function(T,A){var P=NI(A,2),F=P[0],I=P[1];return ce(ce({},T),{},Te({},F,I.scale))},{}):null}},{key:"getYScales",value:function(){var R=this.state.yAxisMap;return R?Object.entries(R).reduce(function(T,A){var P=NI(A,2),F=P[0],I=P[1];return ce(ce({},T),{},Te({},F,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(R){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[R])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(R){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[R])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(R){var T=this.state,A=T.formattedGraphicalItems,P=T.activeItem;if(A&&A.length)for(var F=0,I=A.length;F<I;F++){var k=A[F],W=k.props,V=k.item,B=V.type.defaultProps!==void 0?ce(ce({},V.type.defaultProps),V.props):V.props,K=Tr(V.type);if(K==="Bar"){var Y=(W.data||[]).find(function(Q){return cse(R,Q)});if(Y)return{graphicalItem:k,payload:Y}}else if(K==="RadialBar"){var H=(W.data||[]).find(function(Q){return J1(R,Q)});if(H)return{graphicalItem:k,payload:H}}else if(Up(k,P)||$p(k,P)||$c(k,P)){var _=Jse({graphicalItem:k,activeTooltipItem:P,itemData:B.data}),U=B.activeIndex===void 0?_:B.activeIndex;return{graphicalItem:ce(ce({},k),{},{childIndex:U}),payload:$c(k,P)?B.data[_]:k.props.data[_]}}}return null}},{key:"render",value:function(){var R=this;if(!dM(this))return null;var T=this.props,A=T.children,P=T.className,F=T.width,I=T.height,k=T.style,W=T.compact,V=T.title,B=T.desc,K=_I(T,kue),Y=Ie(K,!1);if(W)return N.createElement(pI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},N.createElement(fw,Ga({},Y,{width:F,height:I,title:V,desc:B}),this.renderClipPath(),fM(A,this.renderMap)));if(this.props.accessibilityLayer){var H,_;Y.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,Y.role=(_=this.props.role)!==null&&_!==void 0?_:"application",Y.onKeyDown=function(Q){R.accessibilityManager.keyboardEvent(Q)},Y.onFocus=function(){R.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return N.createElement(pI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},N.createElement("div",Ga({className:Ue("recharts-wrapper",P),style:ce({position:"relative",cursor:"default",width:F,height:I},k)},U,{ref:function(ae){R.container=ae}}),N.createElement(fw,Ga({},Y,{width:F,height:I,title:V,desc:B,style:ece}),this.renderClipPath(),fM(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(M.Component);Te(b,"displayName",i),Te(b,"defaultProps",ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},g)),Te(b,"getDerivedStateFromProps",function(S,x){var E=S.dataKey,R=S.data,T=S.children,A=S.width,P=S.height,F=S.layout,I=S.stackOffset,k=S.margin,W=x.dataStartIndex,V=x.dataEndIndex;if(x.updateId===void 0){var B=BI(S);return ce(ce(ce({},B),{},{updateId:0},y(ce(ce({props:S},B),{},{updateId:0}),x)),{},{prevDataKey:E,prevData:R,prevWidth:A,prevHeight:P,prevLayout:F,prevStackOffset:I,prevMargin:k,prevChildren:T})}if(E!==x.prevDataKey||R!==x.prevData||A!==x.prevWidth||P!==x.prevHeight||F!==x.prevLayout||I!==x.prevStackOffset||!ja(k,x.prevMargin)){var K=BI(S),Y={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},H=ce(ce({},GI(x,R,F)),{},{updateId:x.updateId+1}),_=ce(ce(ce({},K),Y),H);return ce(ce(ce({},_),y(ce({props:S},_),x)),{},{prevDataKey:E,prevData:R,prevWidth:A,prevHeight:P,prevLayout:F,prevStackOffset:I,prevMargin:k,prevChildren:T})}if(!dw(T,x.prevChildren)){var U,Q,ae,de,G=$i(T,ll),z=G&&(U=(Q=G.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&U!==void 0?U:W,re=G&&(ae=(de=G.props)===null||de===void 0?void 0:de.endIndex)!==null&&ae!==void 0?ae:V,se=z!==W||re!==V,ge=!Oe(R),ye=ge&&!se?x.updateId:x.updateId+1;return ce(ce({updateId:ye},y(ce(ce({props:S},x),{},{updateId:ye,dataStartIndex:z,dataEndIndex:re}),x)),{},{prevChildren:T,dataStartIndex:z,dataEndIndex:re})}return null}),Te(b,"renderActiveDot",function(S,x,E){var R;return M.isValidElement(S)?R=M.cloneElement(S,x):Ge(S)?R=S(x):R=N.createElement(Wp,x),N.createElement(et,{className:"recharts-active-dot",key:E},R)});var w=M.forwardRef(function(x,E){return N.createElement(b,Ga({},x,{ref:E}))});return w.displayName=b.displayName,w},cce=cH({chartName:"BarChart",GraphicalChild:Is,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:kl},{axisType:"yAxis",AxisComp:Gl}],formatAxisMap:yB}),dce=cH({chartName:"ComposedChart",GraphicalChild:[Ao,Ns,Is,tg],axisComponents:[{axisType:"xAxis",AxisComp:kl},{axisType:"yAxis",AxisComp:Gl},{axisType:"zAxis",AxisComp:eg}],formatAxisMap:yB});function hce({result:e,onDateClick:t}){const i=M.useMemo(()=>e.timeline.map(u=>({date:u.date,portfolio:Math.round(u.portfolioValue*100)/100,cash:Math.round(u.cash*100)/100,positions:Math.round(u.positionsValue*100)/100,baseline:e.initialCapital})),[e]),n=M.useMemo(()=>{const u=Math.min(...i.map(c=>c.portfolio));return Math.floor(u*.95)},[i]),r=M.useMemo(()=>{const u=Math.max(...i.map(c=>c.portfolio));return Math.ceil(u*1.05)},[i]),s=e.totalReturn>=0,a=M.useCallback(u=>{var c,h,p;(p=(h=(c=u==null?void 0:u.activePayload)==null?void 0:c[0])==null?void 0:h.payload)!=null&&p.date&&t&&t(u.activePayload[0].payload.date)},[t]);return O.jsxs("div",{className:"border border-cyber-grid p-3",children:[O.jsxs("div",{className:"flex items-center justify-between mb-3",children:[O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("h3",{className:"text-cyber-green font-mono text-sm uppercase tracking-wider",children:"Equity Curve"}),t&&O.jsx("span",{className:"text-cyber-muted text-[10px] font-mono",children:"(click chart to jump to trade log)"})]}),O.jsxs("div",{className:"flex items-center gap-4 text-xs font-mono",children:[O.jsxs("span",{className:"flex items-center gap-1",children:[O.jsx("span",{className:"w-3 h-[2px] bg-cyber-green inline-block"}),O.jsx("span",{className:"text-cyber-muted",children:"Portfolio"})]}),O.jsxs("span",{className:"flex items-center gap-1",children:[O.jsx("span",{className:"w-3 h-[2px] bg-yellow-500 inline-block"}),O.jsx("span",{className:"text-cyber-muted",children:"Cash"})]}),O.jsxs("span",{className:"flex items-center gap-1",children:[O.jsx("span",{className:"w-3 h-[2px] bg-cyan-500 inline-block"}),O.jsx("span",{className:"text-cyber-muted",children:"Positions"})]})]})]}),O.jsx(Yk,{width:"100%",height:350,children:O.jsxs(dce,{data:i,onClick:a,style:{cursor:t?"crosshair":"default"},children:[O.jsx("defs",{children:O.jsxs("linearGradient",{id:"portfolioGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[O.jsx("stop",{offset:"0%",stopColor:s?"#00ff41":"#ff4444",stopOpacity:.3}),O.jsx("stop",{offset:"100%",stopColor:s?"#00ff41":"#ff4444",stopOpacity:0})]})}),O.jsx(kl,{dataKey:"date",stroke:"#333",tick:{fill:"#666",fontSize:10,fontFamily:"monospace"},tickFormatter:u=>u.slice(5),interval:"preserveStartEnd",minTickGap:60}),O.jsx(Gl,{stroke:"#333",domain:[n,r],tick:{fill:"#666",fontSize:10,fontFamily:"monospace"},tickFormatter:u=>`$${(u/1e3).toFixed(1)}k`}),O.jsx(Pn,{contentStyle:{backgroundColor:"#0a0f0a",border:"1px solid #1a3a1a",fontFamily:"monospace",fontSize:11},labelStyle:{color:"#00ff41"},formatter:(u,c)=>[`$${u.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,c.charAt(0).toUpperCase()+c.slice(1)]}),O.jsx(Kp,{y:e.initialCapital,stroke:"#333",strokeDasharray:"3 3",label:{value:"Start",fill:"#666",fontSize:10,fontFamily:"monospace"}}),O.jsx(Ns,{type:"monotone",dataKey:"portfolio",fill:"url(#portfolioGrad)",stroke:"none"}),O.jsx(Ao,{type:"monotone",dataKey:"portfolio",stroke:s?"#00ff41":"#ff4444",dot:!1,strokeWidth:2}),O.jsx(Ao,{type:"monotone",dataKey:"cash",stroke:"#eab308",dot:!1,strokeWidth:1,opacity:.6}),O.jsx(Ao,{type:"monotone",dataKey:"positions",stroke:"#06b6d4",dot:!1,strokeWidth:1,opacity:.6})]})})]})}function fce({trades:e,highlightDate:t}){const[i,n]=M.useState(!1),[r,s]=M.useState(null),[a,u]=M.useState("date"),[c,h]=M.useState("asc"),p=M.useRef(null),g=M.useRef(null),m=R=>{a===R?h(T=>T==="asc"?"desc":"asc"):(u(R),h(R==="pnl"?"desc":"asc"))},y=R=>a!==R?"":c==="asc"?" ":" ",b=M.useMemo(()=>{let R=r?e.filter(T=>T.symbol===r):[...e];return a==="pnl"?R.sort((T,A)=>{const P=T.action==="SELL"&&T.pnl!=null?T.pnl:c==="asc"?1/0:-1/0,F=A.action==="SELL"&&A.pnl!=null?A.pnl:c==="asc"?1/0:-1/0;return c==="asc"?P-F:F-P}):R.sort((T,A)=>{const P=T.date.localeCompare(A.date);return c==="asc"?P:-P}),R},[e,r,a,c]),w=M.useMemo(()=>a==="date"&&c==="asc"?b.slice(-50):b.slice(0,50),[b,a,c]),x=i||!!t?b:w,E=M.useMemo(()=>{if(!t)return-1;let R=-1,T=1/0;for(let A=0;A<x.length;A++){const P=Math.abs(new Date(x[A].date).getTime()-new Date(t).getTime());P<T&&(T=P,R=A)}return R},[x,t]);return M.useEffect(()=>{t&&a!=="date"&&(u("date"),h("asc"))},[t]),M.useEffect(()=>{t&&g.current&&setTimeout(()=>{var R;(R=g.current)==null||R.scrollIntoView({behavior:"smooth",block:"center"})},50)},[t,E]),O.jsxs("div",{className:"border border-cyber-grid p-3",children:[O.jsxs("div",{className:"flex items-center justify-between mb-3",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsxs("h3",{className:"text-cyber-green font-mono text-sm uppercase tracking-wider",children:["Trade Log (",b.length,r?`/${e.length}`:""," trades)"]}),r&&O.jsxs("button",{onClick:()=>s(null),className:"flex items-center gap-1 px-2 py-0.5 text-[11px] font-mono bg-cyber-green/20 text-cyber-green border border-cyber-green/30 hover:bg-cyber-green/30 transition-colors",children:[r," ",O.jsx("span",{className:"text-[9px] ml-0.5",children:""})]}),a==="pnl"&&O.jsx("span",{className:"text-[10px] font-mono text-yellow-500",children:"sorted by P&L"})]}),b.length>50&&O.jsx("button",{onClick:()=>n(!i),className:"text-cyber-muted text-xs font-mono hover:text-cyber-green",children:i?"Show Recent":`Show All (${b.length})`})]}),O.jsxs("div",{ref:p,className:"overflow-x-auto max-h-[400px] overflow-y-auto",children:[O.jsxs("table",{className:"w-full text-xs font-mono",children:[O.jsx("thead",{className:"sticky top-0 bg-cyber-bg z-10",children:O.jsxs("tr",{className:"text-cyber-muted border-b border-cyber-grid",children:[O.jsxs("th",{className:"text-left py-1 px-2 cursor-pointer hover:text-cyber-green select-none",onClick:()=>m("date"),children:["DATE",y("date")]}),O.jsx("th",{className:"text-left py-1 px-2",children:"ACTION"}),O.jsx("th",{className:"text-left py-1 px-2",children:"SYMBOL"}),O.jsx("th",{className:"text-right py-1 px-2",children:"QTY"}),O.jsx("th",{className:"text-right py-1 px-2",children:"PRICE"}),O.jsx("th",{className:"text-right py-1 px-2",children:"TOTAL"}),O.jsxs("th",{className:"text-right py-1 px-2 cursor-pointer hover:text-cyber-green select-none",onClick:()=>m("pnl"),children:["P&L",y("pnl")]}),O.jsx("th",{className:"text-left py-1 px-2",children:"REASON"})]})}),O.jsx("tbody",{children:x.map((R,T)=>{const A=T===E;return O.jsxs("tr",{ref:A?g:void 0,className:`border-b border-cyber-grid/30 transition-colors ${A?"bg-cyber-green/20 ring-1 ring-cyber-green/40":"hover:bg-cyber-grid/10"}`,children:[O.jsx("td",{className:"py-1 px-2 text-cyber-muted",children:R.date}),O.jsx("td",{className:"py-1 px-2",children:O.jsx("span",{className:`px-1.5 py-0.5 text-[10px] ${R.action==="BUY"?"bg-cyber-green/20 text-cyber-green border border-cyber-green/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:R.action})}),O.jsx("td",{className:"py-1 px-2",children:O.jsx("button",{onClick:()=>s(r===R.symbol?null:R.symbol),className:`hover:text-cyber-green cursor-pointer transition-colors ${r===R.symbol?"text-cyber-green underline":"text-cyber-text"}`,children:R.symbol})}),O.jsx("td",{className:"py-1 px-2 text-right text-cyber-text",children:R.quantity}),O.jsxs("td",{className:"py-1 px-2 text-right text-cyber-text",children:["$",R.price.toFixed(2)]}),O.jsxs("td",{className:"py-1 px-2 text-right text-cyber-text",children:["$",R.total.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),O.jsx("td",{className:"py-1 px-2 text-right",children:R.action==="SELL"&&R.pnl!=null?O.jsxs("span",{className:R.pnl>=0?"text-cyber-green":"text-red-400",children:[R.pnl>=0?"+":"","$",R.pnl.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),O.jsxs("span",{className:"text-[10px] ml-1",children:["(",R.pnlPct>=0?"+":"",R.pnlPct.toFixed(1),"%)"]})]}):O.jsx("span",{className:"text-cyber-muted",children:""})}),O.jsx("td",{className:"py-1 px-2 text-cyber-muted text-[10px] max-w-[200px] truncate",children:R.reason})]},T)})})]}),e.length===0&&O.jsx("p",{className:"text-center text-cyber-muted py-4",children:"No trades executed"})]})]})}function pce({result:e}){const t=[{label:"Final Value",value:`$${e.finalValue.toLocaleString("en-US",{maximumFractionDigits:0})}`,color:e.totalReturn>=0?"text-cyber-green":"text-red-400"},{label:"Total Return",value:`${e.totalReturnPct>=0?"+":""}${e.totalReturnPct.toFixed(2)}%`,color:e.totalReturnPct>=0?"text-cyber-green":"text-red-400"},{label:"Annualized",value:`${e.annualizedReturn>=0?"+":""}${e.annualizedReturn.toFixed(2)}%`,color:e.annualizedReturn>=0?"text-cyber-green":"text-red-400"},{label:"Sharpe Ratio",value:e.sharpeRatio.toFixed(3),color:e.sharpeRatio>1?"text-cyber-green":e.sharpeRatio>0?"text-yellow-400":"text-red-400"},{label:"Max Drawdown",value:`-${e.maxDrawdownPct.toFixed(2)}%`,color:e.maxDrawdownPct<10?"text-cyber-green":e.maxDrawdownPct<25?"text-yellow-400":"text-red-400"},{label:"Win Rate",value:`${e.winRate.toFixed(1)}%`,color:e.winRate>50?"text-cyber-green":"text-yellow-400"},{label:"Total Trades",value:String(e.totalTrades),color:"text-cyber-text"},{label:"Winning",value:String(e.winningTrades),color:"text-cyber-green"},{label:"Losing",value:String(e.losingTrades),color:"text-red-400"},{label:"Avg Win",value:`$${e.avgWin.toFixed(0)}`,color:"text-cyber-green"},{label:"Avg Loss",value:`$${e.avgLoss.toFixed(0)}`,color:"text-red-400"},{label:"Benchmark (SPY)",value:`${e.benchmarkReturnPct>=0?"+":""}${e.benchmarkReturnPct.toFixed(2)}%`,color:"text-cyan-400"}],i=e.totalReturnPct>e.benchmarkReturnPct;return O.jsxs("div",{className:"border border-cyber-grid p-3 space-y-2",children:[O.jsx("h3",{className:"text-cyber-green font-mono text-sm uppercase tracking-wider",children:"Results"}),O.jsx("div",{className:`text-center py-2 border ${i?"border-cyber-green/30 bg-cyber-green/5":"border-red-500/30 bg-red-500/5"}`,children:O.jsx("span",{className:`font-mono text-xs ${i?"text-cyber-green":"text-red-400"}`,children:i?"BEAT THE MARKET":"UNDERPERFORMED"})}),O.jsx("div",{className:"space-y-1",children:t.map(n=>O.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[O.jsx("span",{className:"text-cyber-muted",children:n.label}),O.jsx("span",{className:n.color,children:n.value})]},n.label))}),O.jsxs("div",{className:"text-[10px] text-cyber-muted/50 font-mono pt-1 border-t border-cyber-grid",children:[e.startDate," to ",e.endDate]})]})}const Bb=["#00ff41","#06b6d4","#eab308","#f97316","#a855f7"];function gce({data:e}){var i;const t=((i=e.strategies[0])==null?void 0:i.results.map((n,r)=>{const s={period:e.strategies[0].results[r].period};return e.strategies.forEach((a,u)=>{var c;s[a.name]=Math.round((((c=a.results[r])==null?void 0:c.avgAnnualized)||0)*100)/100}),s}))||[];return O.jsxs("div",{className:"space-y-4",children:[O.jsxs("div",{className:"border border-cyber-grid p-3",children:[O.jsx("h3",{className:"text-cyber-green font-mono text-sm uppercase tracking-wider mb-3",children:"Annualized Return by Strategy & Period"}),O.jsx(Yk,{width:"100%",height:300,children:O.jsxs(cce,{data:t,children:[O.jsx(kl,{dataKey:"period",stroke:"#333",tick:{fill:"#666",fontSize:11,fontFamily:"monospace"}}),O.jsx(Gl,{stroke:"#333",tick:{fill:"#666",fontSize:11,fontFamily:"monospace"},tickFormatter:n=>`${n}%`}),O.jsx(Pn,{contentStyle:{backgroundColor:"#0a0f0a",border:"1px solid #1a3a1a",fontFamily:"monospace",fontSize:11},formatter:n=>[`${n}%`,""]}),O.jsx(wo,{wrapperStyle:{fontFamily:"monospace",fontSize:11}}),e.strategies.map((n,r)=>O.jsx(Is,{dataKey:n.name,fill:Bb[r%Bb.length],opacity:.8},n.name))]})})]}),O.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:e.strategies.map((n,r)=>O.jsxs("div",{className:"border border-cyber-grid p-3",children:[O.jsx("h4",{className:"font-mono text-sm uppercase tracking-wider mb-2",style:{color:Bb[r]},children:n.name}),O.jsx("div",{className:"space-y-2",children:n.results.map(s=>O.jsxs("div",{className:"border-b border-cyber-grid/30 pb-1",children:[O.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[O.jsxs("span",{className:"text-cyber-muted",children:[s.period," Period"]}),O.jsxs("span",{className:"text-cyber-text",children:[s.sampleCount," samples"]})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-1 text-[10px] font-mono mt-1",children:[O.jsxs("div",{className:"flex justify-between",children:[O.jsx("span",{className:"text-cyber-muted",children:"Avg Return"}),O.jsxs("span",{className:s.avgReturnPct>=0?"text-cyber-green":"text-red-400",children:[s.avgReturnPct.toFixed(1),"%"]})]}),O.jsxs("div",{className:"flex justify-between",children:[O.jsx("span",{className:"text-cyber-muted",children:"Annualized"}),O.jsxs("span",{className:s.avgAnnualized>=0?"text-cyber-green":"text-red-400",children:[s.avgAnnualized.toFixed(1),"%"]})]}),O.jsxs("div",{className:"flex justify-between",children:[O.jsx("span",{className:"text-cyber-muted",children:"Win Rate"}),O.jsxs("span",{className:s.winRate>50?"text-cyber-green":"text-yellow-400",children:[s.winRate.toFixed(0),"%"]})]}),O.jsxs("div",{className:"flex justify-between",children:[O.jsx("span",{className:"text-cyber-muted",children:"Max DD"}),O.jsxs("span",{className:"text-red-400",children:["-",s.maxDrawdownPct.toFixed(1),"%"]})]}),O.jsxs("div",{className:"flex justify-between",children:[O.jsx("span",{className:"text-cyber-muted",children:"Sharpe"}),O.jsx("span",{className:"text-cyber-text",children:s.sharpeRatio.toFixed(2)})]})]})]},s.period))})]},n.name))})]})}const mce={bull:{label:"BULL MARKET",icon:"",color:"text-cyber-green",border:"border-cyber-green/30",bg:"bg-cyber-green/5"},bear:{label:"BEAR MARKET",icon:"",color:"text-red-400",border:"border-red-500/30",bg:"bg-red-500/5"},sideways:{label:"SIDEWAYS",icon:"",color:"text-yellow-400",border:"border-yellow-500/30",bg:"bg-yellow-500/5"}};function vce({data:e}){return O.jsxs("div",{className:"space-y-4",children:[O.jsxs("div",{className:"border border-cyber-grid p-3",children:[O.jsx("h3",{className:"text-cyber-green font-mono text-sm uppercase tracking-wider mb-1",children:"Strategy Performance by Market Condition"}),O.jsx("p",{className:"text-cyber-muted text-xs font-mono mb-3",children:"Based on S&P 500 vs 200-day moving average (above +5% = bull, below -5% = bear)"})]}),O.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:e.map(t=>{const i=mce[t.condition];return O.jsxs("div",{className:`border ${i.border} ${i.bg} p-4`,children:[O.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[O.jsx("span",{className:`text-2xl ${i.color}`,children:i.icon}),O.jsxs("div",{children:[O.jsx("h4",{className:`font-mono text-sm uppercase tracking-wider ${i.color}`,children:i.label}),O.jsxs("p",{className:"text-cyber-muted text-[10px] font-mono",children:[t.periodCount," periods, avg ",Math.round(t.avgDuration)," days"]})]})]}),t.strategyPerformance.length>0?O.jsx("div",{className:"space-y-3",children:t.strategyPerformance.map((n,r)=>{const s=t.strategyPerformance.every(a=>a.avgReturnPct<=n.avgReturnPct);return O.jsxs("div",{className:`border border-cyber-grid/50 p-2 ${s?"ring-1 ring-cyber-green/30":""}`,children:[O.jsxs("div",{className:"flex items-center justify-between mb-1",children:[O.jsx("span",{className:"text-cyber-text text-xs font-mono uppercase",children:n.strategyName}),s&&O.jsx("span",{className:"text-[9px] bg-cyber-green/20 text-cyber-green px-1.5 py-0.5 font-mono",children:"OPTIMAL"})]}),O.jsxs("div",{className:"grid grid-cols-2 gap-1 text-[10px] font-mono",children:[O.jsxs("div",{className:"flex justify-between",children:[O.jsx("span",{className:"text-cyber-muted",children:"Avg Return"}),O.jsxs("span",{className:n.avgReturnPct>=0?"text-cyber-green":"text-red-400",children:[n.avgReturnPct.toFixed(1),"%"]})]}),O.jsxs("div",{className:"flex justify-between",children:[O.jsx("span",{className:"text-cyber-muted",children:"Annualized"}),O.jsxs("span",{className:n.avgAnnualized>=0?"text-cyber-green":"text-red-400",children:[n.avgAnnualized.toFixed(1),"%"]})]}),O.jsxs("div",{className:"flex justify-between",children:[O.jsx("span",{className:"text-cyber-muted",children:"Win Rate"}),O.jsxs("span",{className:n.winRate>50?"text-cyber-green":"text-yellow-400",children:[n.winRate.toFixed(0),"%"]})]}),O.jsxs("div",{className:"flex justify-between",children:[O.jsx("span",{className:"text-cyber-muted",children:"Max DD"}),O.jsxs("span",{className:"text-red-400",children:["-",n.maxDrawdownPct.toFixed(1),"%"]})]})]})]},n.strategyName)})}):O.jsx("p",{className:"text-cyber-muted text-xs font-mono text-center py-2",children:"No data available"})]},t.condition)})}),O.jsxs("div",{className:"border border-cyber-grid p-3",children:[O.jsx("h4",{className:"text-cyber-green font-mono text-xs uppercase tracking-wider mb-2",children:"Key Insight"}),O.jsx("p",{className:"text-cyber-muted text-xs font-mono leading-relaxed",children:(()=>{const t=e.find(s=>s.condition==="bull"),i=e.find(s=>s.condition==="bear");if(!t||!i)return"Insufficient data for analysis.";const n=t.strategyPerformance.reduce((s,a)=>a.avgReturnPct>s.avgReturnPct?a:s,t.strategyPerformance[0]),r=i.strategyPerformance.reduce((s,a)=>a.avgReturnPct>s.avgReturnPct?a:s,i.strategyPerformance[0]);return!n||!r?"Insufficient data for analysis.":n.strategyName===r.strategyName?`The ${n.strategyName} strategy performs best in both bull and bear markets. This suggests a robust all-weather approach.`:`In bull markets, the ${n.strategyName} strategy leads with ${n.avgReturnPct.toFixed(1)}% avg return. In bear markets, ${r.strategyName} is optimal with ${r.avgReturnPct.toFixed(1)}% avg return. Consider switching strategies based on market regime.`})()})]})]})}function yce({selectedSymbols:e,onChange:t,assetType:i}){const[n,r]=M.useState([]),[s,a]=M.useState(""),[u,c]=M.useState(!1),[h,p]=M.useState(!1),g=M.useRef(null),m=M.useRef(null);M.useEffect(()=>{p(!0),Kj(i).then(r).catch(()=>r([])).finally(()=>p(!1)),t([])},[i]),M.useEffect(()=>{function S(x){g.current&&!g.current.contains(x.target)&&c(!1)}return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const y=s.trim()?n.filter(S=>S.toLowerCase().includes(s.toLowerCase())).slice(0,50):[],b=M.useCallback(S=>{var x;e.includes(S)?t(e.filter(E=>E!==S)):t([...e,S]),a(""),(x=m.current)==null||x.focus()},[e,t]),w=M.useCallback(S=>{t(e.filter(x=>x!==S))},[e,t]);return O.jsxs("div",{ref:g,className:"relative",children:[O.jsxs("span",{className:"text-cyber-muted text-xs font-mono flex justify-between mb-1",children:[O.jsx("span",{children:"Portfolio (optional)"}),e.length>0&&O.jsx("button",{onClick:()=>t([]),className:"text-cyber-red/70 hover:text-cyber-red text-[10px]",children:"CLEAR ALL"})]}),O.jsxs("div",{className:"w-full bg-cyber-bg border border-cyber-grid text-cyber-text px-2 py-1 text-sm font-mono focus-within:border-cyber-green cursor-text flex flex-wrap gap-1 min-h-[30px]",onClick:()=>{var S;c(!0),(S=m.current)==null||S.focus()},children:[e.map(S=>O.jsxs("span",{className:"inline-flex items-center gap-1 bg-cyber-green/15 text-cyber-green border border-cyber-green/30 px-1.5 py-0 text-[11px] leading-5",children:[S,O.jsx("button",{onClick:x=>{x.stopPropagation(),w(S)},className:"hover:text-cyber-red text-cyber-green/60 text-[10px] leading-none",children:"x"})]},S)),O.jsx("input",{ref:m,value:s,onChange:S=>{a(S.target.value),c(!0)},onFocus:()=>c(!0),placeholder:e.length===0?"Type to search symbols (e.g. BTC, AAPL)...":"Add more...",className:"bg-transparent outline-none text-sm flex-1 min-w-[120px] placeholder:text-cyber-muted/40"})]}),e.length>0&&O.jsxs("div",{className:"text-[10px] text-cyber-muted mt-1",children:[e.length," symbol",e.length!==1?"s":""," selected  simulation will only trade these"]}),u&&s.trim().length>0&&O.jsx("div",{className:"absolute z-50 top-full left-0 right-0 mt-1 bg-[#0a0a0a] border border-cyber-grid max-h-[200px] overflow-y-auto",children:h?O.jsx("div",{className:"p-2 text-cyber-muted text-xs font-mono",children:"Loading symbols..."}):y.length===0?O.jsx("div",{className:"p-2 text-cyber-muted text-xs font-mono",children:"No matching symbols"}):y.map(S=>{const x=e.includes(S);return O.jsxs("button",{onClick:()=>b(S),className:`w-full text-left px-3 py-1.5 text-sm font-mono hover:bg-cyber-green/10 flex items-center justify-between ${x?"text-cyber-green bg-cyber-green/5":"text-cyber-text"}`,children:[O.jsx("span",{children:S}),x&&O.jsx("span",{className:"text-cyber-green text-xs",children:""})]},S)})})]})}const VI={macdFastPeriod:12,macdSlowPeriod:26,macdSignalPeriod:9,rsiPeriod:12,rsiOverbought:70,rsiOversold:30,minBuySignal:4,maxSharePrice:500,minCashReserve:100,maxPositionPct:25,stopLossPct:10,takeProfitPct:20,preferNewBuys:!1,newBuyLookbackDays:5},Cce=["ALL","NYSE","NASDAQ","ARCA","BATS","AMEX"],dH="mateo_sim_presets";function Sce(){try{const e=localStorage.getItem(dH);return e?JSON.parse(e):[]}catch{return[]}}function jI(e){localStorage.setItem(dH,JSON.stringify(e))}function bce({assetType:e}){const[t,i]=M.useState("simulate"),[n,r]=M.useState(!1),[s,a]=M.useState(null),[u,c]=M.useState("2020-01-01"),[h,p]=M.useState(new Date().toISOString().split("T")[0]),[g,m]=M.useState(1e4),[y,b]=M.useState(VI),[w,S]=M.useState(!1),[x,E]=M.useState([]),[R,T]=M.useState("ALL"),[A,P]=M.useState(Sce),[F,I]=M.useState(!1),[k,W]=M.useState(""),[V,B]=M.useState(!1),K=()=>{const q=k.trim();if(!q)return;const Ce=[{name:q,savedAt:new Date().toISOString(),startDate:u,endDate:h,capital:g,params:y,symbols:x,exchange:R,assetType:e},...A.filter(oe=>oe.name!==q)];jI(Ce),P(Ce),W(""),B(!1)},Y=q=>{c(q.startDate),p(q.endDate),m(q.capital),b({...VI,...q.params}),E(q.symbols||[]),T(q.exchange||"ALL"),I(!1)},H=q=>{const ve=A.filter(Ce=>Ce.name!==q);jI(ve),P(ve)},[_,U]=M.useState(null),[Q,ae]=M.useState(null),[de,G]=M.useState(null),[z,re]=M.useState(null),se=R!=="ALL"?R:void 0,ge=M.useCallback(async()=>{r(!0),a(null);try{const q=await Yj({startDate:u,endDate:h,initialCapital:g,strategy:y,assetType:e,exchange:se,...x.length>0?{symbols:x}:{}});U(q)}catch(q){a(q.message)}finally{r(!1)}},[u,h,g,y,x,e,se]),ye=M.useCallback(async()=>{r(!0),a(null);try{const q=await Xj({strategies:[{name:"Conservative",params:{...y,rsiOverbought:65,rsiOversold:35,stopLossPct:5,takeProfitPct:10,maxPositionPct:15}},{name:"Default",params:y},{name:"Aggressive",params:{...y,rsiOverbought:80,rsiOversold:20,stopLossPct:15,takeProfitPct:30,maxPositionPct:40,minBuySignal:2}}],periods:[5,10,20],initialCapital:g,iterations:10,assetType:e,exchange:se,...x.length>0?{symbols:x}:{}});ae(q)}catch(q){a(q.message)}finally{r(!1)}},[y,g,x,e,se]),Pe=M.useCallback(async()=>{r(!0),a(null);try{const q=await Qj({strategies:[{name:"Conservative",params:{...y,rsiOverbought:65,stopLossPct:5,maxPositionPct:15}},{name:"Default",params:y},{name:"Aggressive",params:{...y,rsiOverbought:80,stopLossPct:15,maxPositionPct:40,minBuySignal:2}}],initialCapital:g,benchmark:e==="crypto"?"BTC":"SPY",assetType:e,exchange:se,...x.length>0?{symbols:x}:{}});G(q)}catch(q){a(q.message)}finally{r(!1)}},[y,g,x,e,se]),_e=(q,ve)=>{b(Ce=>({...Ce,[q]:ve}))};return O.jsxs("div",{className:"space-y-4",children:[O.jsx("div",{className:"flex items-center gap-2 border-b border-cyber-grid pb-2",children:["simulate","compare","conditions"].map(q=>O.jsx("button",{onClick:()=>i(q),className:`px-4 py-2 text-sm font-mono uppercase tracking-wider transition-all ${t===q?"bg-cyber-green text-cyber-bg border border-cyber-green":"text-cyber-muted border border-cyber-grid hover:border-cyber-green hover:text-cyber-green"}`,children:q==="simulate"?"Run Simulation":q==="compare"?"Compare Strategies":"Market Conditions"},q))}),O.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[O.jsxs("div",{className:"lg:col-span-1 space-y-3",children:[O.jsxs("div",{className:"border border-cyber-grid p-3 space-y-3",children:[O.jsx("h3",{className:"text-cyber-green font-mono text-sm uppercase tracking-wider",children:"Parameters"}),O.jsxs("div",{className:"space-y-2",children:[O.jsxs("label",{className:"block",children:[O.jsx("span",{className:"text-cyber-muted text-xs font-mono",children:"Start Date"}),O.jsx("input",{type:"date",value:u,onChange:q=>c(q.target.value),className:"w-full bg-cyber-bg border border-cyber-grid text-cyber-text px-2 py-1 text-sm font-mono focus:border-cyber-green outline-none"})]}),O.jsxs("label",{className:"block",children:[O.jsx("span",{className:"text-cyber-muted text-xs font-mono",children:"End Date"}),O.jsx("input",{type:"date",value:h,onChange:q=>p(q.target.value),className:"w-full bg-cyber-bg border border-cyber-grid text-cyber-text px-2 py-1 text-sm font-mono focus:border-cyber-green outline-none"})]}),O.jsxs("label",{className:"block",children:[O.jsx("span",{className:"text-cyber-muted text-xs font-mono",children:"Initial Capital ($)"}),O.jsx("input",{type:"number",value:g,onChange:q=>m(Number(q.target.value)),className:"w-full bg-cyber-bg border border-cyber-grid text-cyber-text px-2 py-1 text-sm font-mono focus:border-cyber-green outline-none"})]}),O.jsx(yce,{selectedSymbols:x,onChange:E,assetType:e}),e==="stock"&&O.jsxs("div",{children:[O.jsx("span",{className:"text-cyber-muted text-xs font-mono block mb-1",children:"Exchange"}),O.jsx("div",{className:"flex flex-wrap gap-1",children:Cce.map(q=>O.jsx("button",{onClick:()=>T(q),className:`px-2 py-0.5 text-[11px] font-mono transition-all ${R===q?"bg-cyber-green text-cyber-bg border border-cyber-green":"text-cyber-muted border border-cyber-grid hover:border-cyber-green hover:text-cyber-green"}`,children:q},q))})]})]}),O.jsxs("button",{onClick:()=>S(!w),className:"text-cyber-muted text-xs font-mono hover:text-cyber-green transition-colors",children:[w?"- Hide":"+ Show"," Advanced Settings"]}),w&&O.jsxs("div",{className:"space-y-2 border-t border-cyber-grid pt-2",children:[O.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[O.jsx("input",{type:"checkbox",checked:y.preferNewBuys,onChange:q=>b(ve=>({...ve,preferNewBuys:q.target.checked})),className:"accent-[#00ff41] w-4 h-4"}),O.jsx("span",{className:"text-cyber-muted text-xs font-mono group-hover:text-cyber-green transition-colors",children:"Prefer New Buys (slow movers)"})]}),y.preferNewBuys&&O.jsxs("label",{className:"block pl-6",children:[O.jsxs("span",{className:"text-cyber-muted text-xs font-mono flex justify-between",children:[O.jsx("span",{children:"Lookback Days"}),O.jsx("span",{className:"text-cyber-green",children:y.newBuyLookbackDays})]}),O.jsx("input",{type:"range",min:1,max:30,value:y.newBuyLookbackDays,onChange:q=>_e("newBuyLookbackDays",Number(q.target.value)),className:"w-full accent-[#00ff41] h-1"}),O.jsx("span",{className:"text-cyber-muted text-[10px] font-mono block mt-1",children:"Buy within this many days of a signal flip. Lower = more selective."})]}),[["macdFastPeriod","MACD Fast",2,50],["macdSlowPeriod","MACD Slow",5,100],["macdSignalPeriod","MACD Signal",2,50],["rsiPeriod","RSI Period",5,30],["rsiOverbought","RSI Overbought",50,90],["rsiOversold","RSI Oversold",10,50],["minBuySignal","Min Buy Signal",0,20],["maxSharePrice","Max Price ($)",10,5e3],["maxPositionPct","Max Position %",5,100],["stopLossPct","Stop Loss %",1,50],["takeProfitPct","Take Profit %",5,100]].map(([q,ve,Ce,oe])=>O.jsxs("label",{className:"block",children:[O.jsxs("span",{className:"text-cyber-muted text-xs font-mono flex justify-between",children:[O.jsx("span",{children:ve}),O.jsx("span",{className:"text-cyber-green",children:y[q]})]}),O.jsx("input",{type:"range",min:Ce,max:oe,value:y[q],onChange:Me=>_e(q,Number(Me.target.value)),className:"w-full accent-[#00ff41] h-1"})]},q))]}),O.jsx("button",{onClick:t==="simulate"?ge:t==="compare"?ye:Pe,disabled:n,className:"w-full py-2 bg-cyber-green text-cyber-bg font-mono text-sm uppercase tracking-wider hover:bg-[#00cc33] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:n?O.jsxs("span",{className:"flex items-center justify-center gap-2",children:[O.jsx("span",{className:"animate-pulse",children:"PROCESSING"}),O.jsx("span",{className:"animate-spin",children:""})]}):t==="simulate"?"EXECUTE SIMULATION":t==="compare"?"COMPARE STRATEGIES":"ANALYZE CONDITIONS"}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx("button",{onClick:()=>{B(!V),I(!1)},className:"flex-1 py-1.5 text-[11px] font-mono uppercase tracking-wider border border-cyber-grid text-cyber-muted hover:border-cyber-green hover:text-cyber-green transition-all",children:"Save Settings"}),O.jsxs("button",{onClick:()=>{I(!F),B(!1)},className:"flex-1 py-1.5 text-[11px] font-mono uppercase tracking-wider border border-cyber-grid text-cyber-muted hover:border-cyber-green hover:text-cyber-green transition-all",children:["Load (",A.length,")"]})]}),V&&O.jsxs("div",{className:"border border-cyber-grid p-2 space-y-2",children:[O.jsx("input",{type:"text",value:k,onChange:q=>W(q.target.value),onKeyDown:q=>q.key==="Enter"&&K(),placeholder:"Preset name...",className:"w-full bg-cyber-bg border border-cyber-grid text-cyber-text px-2 py-1 text-xs font-mono focus:border-cyber-green outline-none",autoFocus:!0}),O.jsx("button",{onClick:K,disabled:!k.trim(),className:"w-full py-1 text-[11px] font-mono uppercase bg-cyber-green/20 text-cyber-green border border-cyber-green/30 hover:bg-cyber-green/30 transition-all disabled:opacity-30 disabled:cursor-not-allowed",children:"Save"})]}),F&&O.jsx("div",{className:"border border-cyber-grid p-2 space-y-1 max-h-[250px] overflow-y-auto",children:A.length===0?O.jsx("p",{className:"text-cyber-muted text-[11px] font-mono text-center py-2",children:"No saved presets"}):A.map(q=>O.jsxs("div",{className:"flex items-center gap-1 border border-cyber-grid/50 hover:border-cyber-green/50 transition-all group",children:[O.jsxs("button",{onClick:()=>Y(q),className:"flex-1 text-left px-2 py-1.5 min-w-0",children:[O.jsx("div",{className:"text-cyber-text text-xs font-mono truncate group-hover:text-cyber-green transition-colors",children:q.name}),O.jsxs("div",{className:"text-cyber-muted text-[10px] font-mono",children:[q.assetType==="crypto"?"Crypto":"Stocks",q.exchange!=="ALL"?` / ${q.exchange}`:""," "," $",q.capital.toLocaleString()," "," ",new Date(q.savedAt).toLocaleDateString()]})]}),O.jsx("button",{onClick:()=>H(q.name),className:"px-2 py-1 text-cyber-muted hover:text-red-400 text-[11px] transition-colors shrink-0",title:"Delete preset",children:""})]},q.name))})]}),_&&t==="simulate"&&O.jsx(pce,{result:_})]}),O.jsxs("div",{className:"lg:col-span-3 space-y-4",children:[s&&O.jsxs("div",{className:"border border-red-500 bg-red-500/10 p-3 text-red-400 font-mono text-sm",children:["ERROR: ",s]}),t==="simulate"&&_&&O.jsxs(O.Fragment,{children:[O.jsx(hce,{result:_,onDateClick:re}),O.jsx(fce,{trades:_.trades,highlightDate:z})]}),t==="compare"&&Q&&O.jsx(gce,{data:Q}),t==="conditions"&&de&&O.jsx(vce,{data:de}),!_&&!Q&&!de&&!n&&O.jsx("div",{className:"border border-cyber-grid p-12 flex items-center justify-center",children:O.jsxs("div",{className:"text-center space-y-3",children:[O.jsx("div",{className:"text-cyber-green text-4xl font-mono",children:""}),O.jsx("p",{className:"text-cyber-muted font-mono text-sm",children:"Configure parameters and run a simulation to see results"}),O.jsx("p",{className:"text-cyber-muted/50 font-mono text-xs",children:"The simulation engine will walk through historical data day by day, making BUY/SELL decisions based on MACD and RSI signals"})]})})]})]})]})}function Mx(e){if(e==="latest")return;const t=new Date;switch(e){case"1d":t.setDate(t.getDate()-1);break;case"1w":t.setDate(t.getDate()-7);break;case"1m":t.setMonth(t.getMonth()-1);break;case"3m":t.setMonth(t.getMonth()-3);break;case"6m":t.setMonth(t.getMonth()-6);break;case"1y":t.setFullYear(t.getFullYear()-1);break}return t.toISOString().split("T")[0]}function wce(){const[e,t]=M.useState(null),[i,n]=M.useState("scanner"),[r,s]=M.useState("stock"),[a,u]=M.useState("latest"),c=M.useCallback(p=>{s(p),u("latest")},[]),h=Mx(a);return O.jsxs("div",{className:"min-h-screen bg-cyber-bg scanline",children:[O.jsx(Vj,{assetType:r,onAssetTypeChange:c}),O.jsx("nav",{className:"max-w-[1920px] mx-auto px-4 pt-4",children:O.jsxs("div",{className:"flex items-center gap-1 border-b border-cyber-grid",children:[O.jsx("button",{onClick:()=>n("scanner"),className:`px-5 py-2.5 text-xs font-mono uppercase tracking-widest transition-all border-b-2 ${i==="scanner"?"border-cyber-green text-cyber-green":"border-transparent text-cyber-muted hover:text-cyber-green/70"}`,children:"Market Scanner"}),O.jsx("button",{onClick:()=>n("simulation"),className:`px-5 py-2.5 text-xs font-mono uppercase tracking-widest transition-all border-b-2 ${i==="simulation"?"border-cyber-green text-cyber-green":"border-transparent text-cyber-muted hover:text-cyber-green/70"}`,children:"Simulation Lab"})]})}),O.jsxs("main",{className:"max-w-[1920px] mx-auto px-4 py-4 space-y-4",children:[i==="scanner"&&O.jsxs(O.Fragment,{children:[O.jsx(tY,{assetType:r,asOfDate:h}),O.jsx(ez,{assetType:r,onSelectSymbol:t}),O.jsx(iz,{assetType:r,asOfDate:h,onSelectSymbol:t}),O.jsx(K8,{assetType:r,timeJump:a,onTimeJumpChange:u,onSelectSymbol:t})]}),i==="simulation"&&O.jsx(bce,{assetType:r})]}),e&&O.jsx(Y8,{symbol:e,onClose:()=>t(null)})]})}Hj.createRoot(document.getElementById("root")).render(O.jsx(N.StrictMode,{children:O.jsx(wce,{})}));
